/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={1977:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUpdaterMenuItem=function(){return m.getMenuConstructorOptions()};var i=r(2298),s=r(2080),a=r(9979),l=r(349),c=r(1096);s.autoUpdater.logger=a.default,s.autoUpdater.autoDownload=!1,s.autoUpdater.channel="alpha",s.autoUpdater.allowDowngrade=!1;var u=!1,p=!1,d=null,h=null,f=null;function g(){d&&setImmediate((function(){s.autoUpdater.quitAndInstall()}))}var m=new(function(){function e(){var e=this;this.menuItem={id:l.AppMenuId.AppCheckForUpdates,label:(0,c.t)("menu:check_for_updates"),click:function(){p?g():h?i.dialog.showMessageBox({title:"Found Updates",message:"Found updates (".concat(h.version,"), do you want download now?"),buttons:["Download","No"]}).then((function(e){0===e.response&&s.autoUpdater.downloadUpdate().then((function(e){a.default.info("downloaded files: ",e)}))})):(v(!0),e.updateMenuStatus({enabled:!1}))}}}return e.prototype.updateMenuStatus=function(e){"boolean"==typeof e.enabled&&(this.menuItem.enabled=e.enabled),"string"==typeof e.label&&(this.menuItem.label=e.label)},e.prototype.getMenuConstructorOptions=function(){return this.menuItem},e}());function y(){f="https://assets.daobox.cc/everkm-note/desktop",s.autoUpdater.setFeedURL({url:f,provider:"generic",timeout:3e3}),s.autoUpdater.checkForUpdates(),a.default.debug("check for updates: ",f)}function v(e){return n(this,void 0,void 0,(function(){var t,r,n,i;return o(this,(function(o){switch(o.label){case 0:return u=e,[4,fetch("https://api.github.com/repos/everkm/mdnote-desktop/releases/latest")];case 1:t=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,t.json()];case 3:if(r=o.sent(),!(n=r.tag_name))throw new Error("No tag found");return f="https://github.com/everkm/mdnote-desktop/releases/download/".concat(n),s.autoUpdater.setFeedURL({url:f,provider:"generic",timeout:3e4}),s.autoUpdater.checkForUpdates(),a.default.debug("check for updates: ",f),[3,5];case 4:return i=o.sent(),console.error(i),y(),[3,5];case 5:return[2]}}))}))}s.autoUpdater.on("error",(function(e){a.default.debug("Auto updater error: ",e);var t=null==e?"unknown":e.toString();d?i.dialog.showMessageBox({title:"Update Failed",message:"Auto update failed. Please install the update manually.",buttons:["Ok"]}).then((function(){d&&i.shell.showItemInFolder(d),i.app.quit()})):(null==f?void 0:f.includes("github.com"))&&t.includes("ERR_CONNECTION_TIMED_OUT")?y():i.dialog.showErrorBox("Error","Auto updater failed: ".concat(t))})),s.autoUpdater.on("update-available",(function(e){h=e,m.updateMenuStatus({enabled:!0,label:(0,c.t)("menu:found_updates",{version:e.version})})})),s.autoUpdater.on("update-not-available",(function(){a.default.debug("update-not-available"),m.updateMenuStatus({enabled:!0,label:(0,c.t)("menu:check_for_updates")}),u&&i.dialog.showMessageBox({title:"No Updates",message:"There are currently no updates available."})})),s.autoUpdater.on("update-downloaded",(function(e){d=e.downloadedFile,a.default.info("update-downloaded: ",d),m.updateMenuStatus({enabled:!0,label:(0,c.t)("menu:install_updates")}),p=!0,i.dialog.showMessageBox({title:"Update Downloaded",message:"Update downloaded, do you want to install it now?",buttons:["Sure","No"]}).then((function(e){0===e.response&&g()}))})),i.app.on("ready",(function(){f="http://127.0.0.1:9999",s.autoUpdater.setFeedURL({url:f,provider:"generic",timeout:3e3}),v(!1)}))},8045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAppQuitting=p,t.markSaveDone=function(e){if(p())return u.windowIds.delete(e),void(0===u.windowIds.size&&(u.requestCount=a,o.app.quit()));if(!c.has(e))return;c.set(e,a);var t=o.BrowserWindow.fromId(e);if(!t)return void console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b");t.close()},t.onWindowBeforeClose=function(e){if(!(0,i.isBaseWindow)(e))return!0;var t=c.get(e)||0;if(t>=l)return!0;if(0===t&&!function(){try{d(e)}catch(e){return console.error("\u53d1\u9001\u4fdd\u5b58\u4e8b\u4ef6\u5931\u8d25",e),!1}return!0}())return!0;return c.set(e,t+1),!1},t.cleanWindow=function(e){c.delete(e)},t.handleCloseWindow=function(e){var t=o.BrowserWindow.fromId(e);if(!t)return void console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b");t.close()},t.handleQuitApp=function(){s=!0,o.app.quit()},t.onBeforeQuit=function(){if(s=!0,0===u.requestCount){var e=(t=(0,i.getOpenedWindows)(),r=[],t.forEach((function(e,t){"base"===e.type&&r.push(t)})),r);if(e=e.filter((function(e){try{return d(e),u.windowIds.add(e),!0}catch(e){return console.error("\u53d1\u9001\u4fdd\u5b58\u4e8b\u4ef6\u5931\u8d25",e),!1}})),n.default.debug("first quit request, find base window ids",e),0===e.length)return!0}var t,r;if(u.requestCount++,u.requestCount>=l)return!0;return!1};var n=r(9979),o=r(2298),i=r(5784),s=!1,a=100,l=3,c=new Map,u={requestCount:0,windowIds:new Set};function p(){return s}function d(e){var t=o.BrowserWindow.fromId(e);if(!t)throw new Error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b");t.webContents.send("base_save",{})}},7826:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.WindowAction=void 0,function(e){e.Close="close",e.Minimize="minimize",e.Maximize="maximize",e.ToggleMaximize="toggleMaximize"}(r||(t.WindowAction=r={}))},1096:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.t=t.i18next=t.defaultNS=void 0,t.changeLang=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,i.changeLanguage(e)];case 1:return t.sent(),[2]}}))}))};var i=r(1981);t.i18next=i;var s=r(5821);t.defaultNS="lang",i.init({debug:!0,lng:"zh_CN",fallbackLng:"en_US",defaultNS:t.defaultNS,resources:s.langResource}),t.t=i.t},2772:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(2298),s=r(9979),a=r(5680),l=r(5063),c=r(5784),u=r(5319),p=r(9395),d=r(8250),h=r(8045),f=r(1981);s.default.info("i18next init",f),i.app.requestSingleInstanceLock()||i.app.quit(),i.app.on("window-all-closed",(function(){s.default.debug("window all closed"),i.app.quit()})),i.app.on("before-quit",(function(e){s.default.debug("before-quit"),(0,h.onBeforeQuit)()||e.preventDefault()}));var g=(0,p.default)(),m=g.promise;i.app.on("ready",(function(){(0,a.setDefaultProtocol)(),g.resolve(),s.default.debug("app ready"),s.default.info("lang",i.app.getSystemLocale())})),(0,l.default)(),(0,c.setupSaveWindowState)(),function(){n(this,void 0,void 0,(function(){var e,t,r;return o(this,(function(n){switch(n.label){case 0:e=!1,e=!1,t=(0,d.startServe)(e),s.default.debug("serverDeferred",t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Promise.all([m,t])];case 2:return n.sent(),e?(0,c.createWindow)({type:"base_manager",params:{url:"http://192.168.31.239:8080/"}}):(0,c.restoreWindowState)()?s.default.debug("restoreWindowState success"):(0,c.createWindow)({type:"base_manager",params:{url:""}}),[3,4];case 3:return r=n.sent(),s.default.error("main error",r),(0,u.errorMessage)("\u542f\u52a8\u5931\u8d25\uff1a"+(0,u.exposeErrorMsg)(r)),i.app.quit(),[3,4];case 4:return[2]}}))}))}()},5063:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){n.ipcMain.on("open_base_window",(function(e,t){console.log("open_base_window REQUEST:",t);var r={baseId:t.baseId,url:t.url};(0,i.createWindow)({type:"base",params:r})})),n.ipcMain.on("select_open_dir",(function(e,t){console.log("select_open_dir REQUEST:",t);var r=n.BrowserWindow.fromWebContents(e.sender);if(!r)return console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b"),void e.reply("select_open_dir",{dir:null});n.dialog.showOpenDialog(r,{defaultPath:t.defaultDir,buttonLabel:"\u9009\u62e9\u6587\u4ef6\u5939",properties:["openDirectory","createDirectory","dontAddToRecent"]}).then((function(t){e.reply("select_open_dir",{dir:t.filePaths[0]})})).catch((function(e){console.error("\u9009\u62e9\u6587\u4ef6\u5939\u5931\u8d25:",e)}))})),n.ipcMain.on("resolve_path",(function(e,t){console.log("resolve_path REQUEST:",t);var r=n.app.getPath(t.type);e.reply("resolve_path",{path:r})})),n.ipcMain.on("set_window_action",(function(e,t){console.log("set_window_action REQUEST:",t);var r=n.BrowserWindow.fromWebContents(e.sender);if(r)switch(t.action){case o.WindowAction.Close:r.close();break;case o.WindowAction.Minimize:r.minimize();break;case o.WindowAction.Maximize:r.maximize();break;case o.WindowAction.ToggleMaximize:r.isMaximized()?r.unmaximize():r.maximize()}else console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b")})),n.ipcMain.on("base_save",(function(e,t){console.log("base_save REQUEST:",t);var r=n.BrowserWindow.fromWebContents(e.sender);r?(0,s.markSaveDone)(r.id):console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b")})),n.ipcMain.on("exposed_menu_items",(function(e,t){console.log("exposed_menu_items REQUEST:",t);var r=(0,a.getExposedMenuItems)(t.isBaseWindow);e.reply("exposed_menu_items",{items:r})})),n.ipcMain.on("trigger_menu_item",(function(e,t){console.log("trigger_menu_item REQUEST:",t),(0,a.triggerMenuItem)(t.id)})),n.ipcMain.on("show_in_folder",(function(e,t){console.log("show_in_folder REQUEST:",t),n.shell.showItemInFolder(t.path)})),n.ipcMain.on("update_shortcut",(function(e,t){console.log("update_shortcut REQUEST:",t),(0,a.onShortcutUpdate)(t)}))};var n=r(2298),o=r(7826),i=r(5784),s=r(8045),a=r(110)},110:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.resizeTrafficLight=g,t.getDefaultMenu=y,t.onShortcutUpdate=function(e){h={};for(var t=0,r=e;t<r.length;t++){var n=r[t];h[n.action]=n.shortcut}if("darwin"!==process.platform)return;var o=i.BrowserWindow.getFocusedWindow();if(!o)return void console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b");s.Menu.setApplicationMenu(y((0,c.isBaseWindow)(o.id)))},t.getExposedMenuItems=function(e){return v(y(e).items).map(b)},t.triggerMenuItem=function(e){var t=w(y(!0).items).find((function(t){return t.id===e}));if(!t)return void l.default.error("\u65e0\u6cd5\u627e\u5230\u83dc\u5355\u9879",e);l.default.info("\u89e6\u53d1\u83dc\u5355\u9879",t.label,t.id),t.click()};var i=r(2298),s=r(2298),a=r(1096),l=r(9979),c=r(5784),u=r(1977),p=r(349),d=r(349),h={};function f(){return"darwin"===process.platform}function g(e,t){if("darwin"===process.platform){var r=c.TRAFFIC_LIGHT_POSITION.y;if(1!==t){var n=c.TITLE_BAR_HEIGHT*t;r=Math.round((n-16)/2)}e.setWindowButtonPosition({x:c.TRAFFIC_LIGHT_POSITION.x,y:r})}}function m(e){return function(){console.log("call commander handler",e);var t=i.BrowserWindow.getFocusedWindow();if(t){var r={action:e};t.webContents.send("commander_run",r)}else console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b")}}function y(e){var t,r={id:p.AppMenuId.AppAbout,label:(0,a.t)("menu:about"),accelerator:h[p.AppMenuId.AppAbout],click:function(){i.app.showAboutPanel()}},n=(0,u.getUpdaterMenuItem)(),y={id:p.AppMenuId.AppQuit,label:(0,a.t)("menu:quit"),accelerator:h[p.AppMenuId.AppQuit]||"CmdOrCtrl+Q",click:function(){i.app.quit()}},v={label:(0,a.t)("app_name"),submenu:[r,n,{type:"separator"},{label:(0,a.t)("menu:services"),role:"services"},{type:"separator"},{label:(0,a.t)("menu:hide"),role:"hide"},{label:(0,a.t)("menu:hideOthers"),role:"hideOthers"},{label:(0,a.t)("menu:unhide"),role:"unhide"},{type:"separator"},y]};return s.Menu.buildFromTemplate(o(o([],f()?[v]:[],!0),[{label:(0,a.t)("menu:file"),submenu:o(o(o([],(t=[],e?t=[{id:d.CommanderMenuId.BaseNewNote,label:(0,a.t)("menu:newNote"),accelerator:h[d.CommanderMenuId.BaseNewNote]||"CmdOrCtrl+N",click:m(d.CommanderMenuId.BaseNewNote)},{type:"separator"},{id:d.CommanderMenuId.BaseSave,label:(0,a.t)("menu:save"),accelerator:h[d.CommanderMenuId.BaseSave]||"CmdOrCtrl+S",click:m(d.CommanderMenuId.BaseSave)},{id:d.CommanderMenuId.BaseSaveAs,label:(0,a.t)("menu:saveAs"),accelerator:h[d.CommanderMenuId.BaseSaveAs]||"CmdOrCtrl+Shift+S",click:m(d.CommanderMenuId.BaseSaveAs)},{type:"separator"},{id:d.CommanderMenuId.TabCloseTab,label:(0,a.t)("menu:closeTab"),accelerator:h[d.CommanderMenuId.TabCloseTab]||"CmdOrCtrl+W",click:m(d.CommanderMenuId.TabCloseTab)}]:t),!0),[{id:p.AppMenuId.AppClose,label:(0,a.t)("menu:close"),accelerator:h[p.AppMenuId.AppClose]||"CmdOrCtrl+Shift+W",click:function(){var e=i.BrowserWindow.getFocusedWindow();e?e.close():console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b")}}],!1),function(){var e=[];return f()?e:e=[y]}(),!0)},{label:(0,a.t)("menu:edit"),submenu:[{label:(0,a.t)("menu:undo"),role:"undo"},{label:(0,a.t)("menu:redo"),role:"redo"},{type:"separator"},{label:(0,a.t)("menu:cut"),role:"cut"},{label:(0,a.t)("menu:copy"),role:"copy"},{label:(0,a.t)("menu:paste"),role:"paste"},{label:(0,a.t)("menu:delete"),role:"delete"},{label:(0,a.t)("menu:selectAll"),role:"selectAll"},{type:"separator"}]},{label:(0,a.t)("menu:view"),submenu:o(o([],function(){var t=[];return e?t=[{id:d.CommanderMenuId.CoreShowCommandPalette,label:(0,a.t)("menu:commandPalette"),accelerator:h[d.CommanderMenuId.CoreShowCommandPalette]||"CmdOrCtrl+P",click:m(d.CommanderMenuId.CoreShowCommandPalette)},{type:"separator"},{id:d.CommanderMenuId.LayoutShowDirectory,label:(0,a.t)("menu:directory"),accelerator:h[d.CommanderMenuId.LayoutShowDirectory]||"CmdOrCtrl+1",click:m(d.CommanderMenuId.LayoutShowDirectory)},{id:d.CommanderMenuId.LayoutShowMdList,label:(0,a.t)("menu:mdList"),accelerator:h[d.CommanderMenuId.LayoutShowMdList]||"CmdOrCtrl+2",click:m(d.CommanderMenuId.LayoutShowMdList)},{id:d.CommanderMenuId.LayoutShowFindReplace,label:(0,a.t)("menu:findReplace"),accelerator:h[d.CommanderMenuId.LayoutShowFindReplace]||"Shift+CmdOrCtrl+F",click:m(d.CommanderMenuId.LayoutShowFindReplace)},{id:d.CommanderMenuId.LayoutShowHistory,label:(0,a.t)("menu:history"),accelerator:h[d.CommanderMenuId.LayoutShowHistory]||"Shift+CmdOrCtrl+H",click:m(d.CommanderMenuId.LayoutShowHistory)},{type:"separator"}]:t}(),!0),[{type:"separator"},{id:p.AppMenuId.AppZoomReset,label:(0,a.t)("menu:resetZoom"),accelerator:h[p.AppMenuId.AppZoomReset]||"CmdOrCtrl+0",click:function(){var e=i.BrowserWindow.getFocusedWindow();e?(e.webContents.setZoomFactor(1),g(e,1)):console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b")}},{id:p.AppMenuId.AppZoomIn,label:(0,a.t)("menu:zoomIn"),accelerator:"CmdOrCtrl+=",click:function(){var e=i.BrowserWindow.getFocusedWindow();if(e){var t=Math.min(e.webContents.getZoomFactor()+.1,c.MAX_ZOOM_FACTOR);e.webContents.setZoomFactor(t),g(e,t),l.default.debug("zoomIn",t)}else console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b")}},{id:p.AppMenuId.AppZoomOut,label:(0,a.t)("menu:zoomOut"),accelerator:h[p.AppMenuId.AppZoomOut]||"CmdOrCtrl+-",click:function(){var e=i.BrowserWindow.getFocusedWindow();if(e){var t=Math.max(e.webContents.getZoomFactor()-.1,c.MIN_ZOOM_FACTOR);e.webContents.setZoomFactor(t),g(e,t),l.default.debug("zoomOut",t)}else console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b")}},{type:"separator"}],!1)},{label:(0,a.t)("menu:window"),role:"windowMenu",submenu:[{type:"separator"},{id:p.AppMenuId.AppForceReload,label:(0,a.t)("menu:reload"),accelerator:h[p.AppMenuId.AppForceReload]||"Shift+CmdOrCtrl+R",click:function(){var e=i.BrowserWindow.getFocusedWindow();e?e.webContents.reloadIgnoringCache():console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b")}},{type:"separator"},{id:d.CommanderMenuId.BaseRevealBaseInFolder,label:(0,a.t)("menu:revealBase"),click:m(d.CommanderMenuId.BaseRevealBaseInFolder)}]},{label:(0,a.t)("menu:help"),submenu:o(o([],function(){var e=[];return f()?e:e=[r,n]}(),!0),[{type:"separator"},{id:d.CommanderMenuId.CoreShortcutKeySettings,label:(0,a.t)("menu:shortcutKeySettings"),click:m(d.CommanderMenuId.CoreShortcutKeySettings)},{id:p.AppMenuId.AppToggleDevTools,label:(0,a.t)("menu:toggleDevTools"),accelerator:h[p.AppMenuId.AppToggleDevTools]||"Shift+CmdOrCtrl+I",click:function(){var e=i.BrowserWindow.getFocusedWindow();e?e.webContents.toggleDevTools():console.error("\u65e0\u6cd5\u83b7\u53d6\u7a97\u53e3\u5b9e\u4f8b")}}],!1)}],!1))}function v(e){var t,r=e.reduce((function(e,t){if(t.submenu){var r=v(t.submenu.items);(r.length>0||t.id)&&e.push(n(n({},t),{submenu:s.Menu.buildFromTemplate(r)}))}else(t.id||"separator"===t.type)&&e.push(t);return e}),[]);if(0===r.length)return[];for(var o=[],i=0,a=r;i<a.length;i++){var l=a[i];"separator"===l.type&&"separator"===(null===(t=o[o.length-1])||void 0===t?void 0:t.type)||o.push(l)}return o.every((function(e){return"separator"===e.type}))?[]:o}function w(e){for(var t=[],r=0,n=e;r<n.length;r++){var o=n[r];o.id&&t.push(o),o.submenu&&(t=t.concat(w(o.submenu.items)))}return t}function b(e){var t;return"separator"===e.type?{id:"__SEPARATOR__",label:"__SEPARATOR__",children:[]}:{id:e.id,label:e.label,shortcut:e.accelerator,children:null===(t=e.submenu)||void 0===t?void 0:t.items.map(b)}}},349:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.AppMenuId=t.CommanderMenuId=void 0,function(e){e.BaseNewNote="base.new_note",e.BaseSave="base.save",e.BaseSaveAs="base.save_as",e.BaseRevealBaseInFolder="base.reveal_base_in_folder",e.TabCloseTab="tab.close_tab",e.CoreShowCommandPalette="core.show_command_palette",e.CoreShortcutKeySettings="core.shortcut_key_settings",e.LayoutShowDirectory="layout.show_directory",e.LayoutShowMdList="layout.show_md_list",e.LayoutShowFindReplace="layout.show_find_replace",e.LayoutShowHistory="layout.show_history"}(r||(t.CommanderMenuId=r={})),function(e){e.AppClose="app.close",e.AppQuit="app.quit",e.AppToggleDevTools="app.toggle_dev_tools",e.AppForceReload="app.force_reload",e.AppAbout="app.about",e.AppCheckForUpdates="app.check_for_updates",e.AppZoomReset="app.zoom_reset",e.AppZoomIn="app.zoom_in",e.AppZoomOut="app.zoom_out"}(n||(t.AppMenuId=n={}))},5680:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultProtocol=function(){var e;i.app.removeAsDefaultProtocolClient(a),e=i.app.setAsDefaultProtocolClient(a),console.log("\u662f\u5426\u6ce8\u518c\u6210\u529f",e)},t.watchProtocol=function(e){function t(t){return n(this,void 0,void 0,(function(){var r;return o(this,(function(n){try{r=new URL(t),s.default.info("got schema message: ",r.hostname,r.pathname,t),"daobox.cn"===r.hostname&&e.webContents.send(r.pathname,t)}catch(e){}return[2]}))}))}i.app.on("open-url",(function(e,r){l.test(r)&&t(r)})),i.app.on("second-instance",(function(e,r){r.forEach((function(e){l.test(e)&&t(e)}))}))};var i=r(2298),s=r(9979),a="daobox";var l=new RegExp("^".concat(a,"://"))},8250:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getServerPort=function(){return h},t.startServe=function(e){return n(this,void 0,void 0,(function(){var t,r,n,g,m;return o(this,(function(o){if(e)return l.default.debug("live reload start serve"),[2];if(!(t=c.join(__dirname,"..","bin","everkm-note".concat("win32"===process.platform?".exe":"")))||!u.existsSync(t))return r="\u672a\u627e\u5230\u670d\u52a1\u7a0b\u5e8f\uff0c\u8bf7\u91cd\u65b0\u5b89\u88c5\u3002",l.default.error(r,t),(0,p.errorMessage)(r),[2,Promise.reject(r)];l.default.info("start serve ",t),n=s.app.getPath("userData"),g=s.app.getPath("documents");try{i=(0,a.spawn)(t,[],{windowsHide:!0,env:{EVERKM_NOTE_DOCUMENTS_DIR:g,EVERKM_NOTE_SUPPORT_DIR:n}})}catch(e){return l.default.error("catch run serve error",e.toString()),(0,p.errorMessage)("\u542f\u52a8\u670d\u52a1\u5931\u8d25\uff1a"+e.toString()),[2,Promise.reject(e.toString())]}return m=(0,d.default)(),i.stdout.on("data",(function(e){l.default.debug("stdout: ".concat(e));var t=null==e?void 0:e.toString().match(/listen at [0-9]+\.[0-9]+\.[0-9]+\.[0-9]+:(\d+)/);if(t){var r=t[1];h=parseInt(r,10),m.resolve()}})),i.stderr.on("data",(function(e){var t;l.default.error("stderr: ".concat(e)),t=e,f.push(t),f=f.slice(-20)})),i.on("close",(function(e){l.default.info("child process exited with code ".concat(e)),0!==e&&m.reject("\u6bd3\u77e5\u7b14\u8bb0\u542f\u52a8\u5931\u8d25! \u8bf7\u8bbf\u95eehttps://www.everkm.com\u83b7\u5f97\u5e2e\u52a9\u3002\n\u9519\u8bef\u8be6\u60c5: "+f.join("\n"))})),[2,m.promise]}))}))};var i,s=r(2298),a=r(2081),l=r(9979),c=r(1017),u=r(7147),p=r(5319),d=r(9395),h=0,f=[];s.app.on("quit",(function(){l.default.debug("app quit"),null==i||i.kill("SIGTERM")}))},5319:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessage=function(e){n.dialog.showErrorBox("\u6bd3\u77e5\u7b14\u8bb0",e),n.app.quit()},t.exposeErrorMsg=function(e){var t,r;return(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.message)||(null==e?void 0:e.message)||(null===(r=e.toString)||void 0===r?void 0:r.call(e))};var n=r(2298)},5784:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_ZOOM_FACTOR=t.MIN_ZOOM_FACTOR=t.TITLE_BAR_HEIGHT=t.TRAFFIC_LIGHT_POSITION=void 0,t.getOpenedWindows=function(){return p},t.isBaseWindow=function(e){var t=p.get(e);if(!t)return!1;return"base"===t.type},t.createWindow=h,t.restoreWindowState=function(){var e=n.app.getPath("userData"),t=i.join(e,"window_states.json"),r=JSON.parse(s.readFileSync(t,"utf8")),o=!1;return r.forEach((function(e){try{h(e),o=!0}catch(t){l.default.error("restoreWindowState error",t,e)}})),o},t.setupSaveWindowState=function(){n.app.on("before-quit",(function(){var e,t,r,o;e=n.BrowserWindow.getAllWindows().reduce((function(e,t){var r=p.get(t.id);if(r){var n=t.getBounds();e.push({type:r.type,params:r.params,x:n.x,y:n.y,width:n.width,height:n.height,isMaximized:t.isMaximized()})}return e}),[]),t=n.app.getPath("userData"),r=i.join(t,"window_states.json"),o=JSON.stringify(e,null,2),l.default.debug("saveAllWindowState",o),s.writeFileSync(r,o)}))};var n=r(2298),o=r(5680),i=r(1017),s=r(7147),a=r(8250),l=r(9979),c=r(8045),u=r(110);t.TRAFFIC_LIGHT_POSITION={x:12,y:10},t.TITLE_BAR_HEIGHT=34,t.MIN_ZOOM_FACTOR=.7,t.MAX_ZOOM_FACTOR=1.6;var p=new Map;function d(e){var t=(0,a.getServerPort)();return 0!==t?e.replace(/:\d+/,":".concat(t)):e}function h(e){var r=e.x,s=e.y,h=e.width,f=e.height,g=e.isMaximized,m=e.type,y=e.params;l.default.debug("createWindow",e);var v="";switch(m){case"local_web":v=y.url;break;case"base_manager":v=(v=y.url).length?d(v):"http://127.0.0.1:".concat((0,a.getServerPort)(),"/");break;case"base":(v=y.url).length||(v=d(v));break;default:throw new Error("\u4e0d\u652f\u6301\u7684\u7a97\u53e3\u7c7b\u578b: ".concat(m))}if(!v.length)throw new Error("Url \u4e0d\u80fd\u4e3a\u7a7a");var w="base_manager"===e.type,b=new n.BrowserWindow({x:r,y:s,width:w?400:h,height:f,maxWidth:w?400:void 0,maximizable:!w,fullscreenable:!w,minWidth:260,minHeight:320,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:i.join(__dirname,"preload.js")},frame:!1,titleBarStyle:"hidden",titleBarOverlay:{color:"#ddddddff",symbolColor:"#202020ff",height:t.TITLE_BAR_HEIGHT},show:!1});b.setBackgroundColor("#f1f2f3"),g&&b.maximize(),b.once("ready-to-show",(function(){(0,u.resizeTrafficLight)(b,b.webContents.getZoomFactor()),b.show()})),(0,o.watchProtocol)(b);var E=v;return b.webContents.on("will-navigate",(function(e,t){t.startsWith(E)||(e.preventDefault(),n.shell.openExternal(t))})),b.webContents.on("did-navigate-in-page",(function(e,t){t.startsWith(E)||(e.preventDefault(),n.shell.openExternal(t))})),b.on("close",(function(e){(0,c.isAppQuitting)()||((0,c.onWindowBeforeClose)(b.id)?b.destroy():e.preventDefault())})),b.on("closed",(function(){(0,c.isAppQuitting)()||(p.delete(b.id),(0,c.cleanWindow)(b.id))})),b.on("focus",(function(){var t=(0,u.getDefaultMenu)("base"===e.type);n.Menu.setApplicationMenu(t)})),p.set(b.id,e),b.loadURL(E),b.webContents.on("did-fail-load",(function(e,t,r){l.default.error("did-fail-load",t,r,v)})),b}},7815:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationError=t.CancellationToken=void 0;const n=r(2361);class o extends n.EventEmitter{get cancelled(){return this._cancelled||null!=this._parent&&this._parent.cancelled}set parent(e){this.removeParentCancelHandler(),this._parent=e,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}constructor(e){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,null!=e&&(this.parent=e)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(e){this.cancelled?e():this.once("cancel",e)}createPromise(e){if(this.cancelled)return Promise.reject(new i);const t=()=>{if(null!=r)try{this.removeListener("cancel",r),r=null}catch(e){}};let r=null;return new Promise(((t,n)=>{let o=null;r=()=>{try{null!=o&&(o(),o=null)}finally{n(new i)}},this.cancelled?r():(this.onCancel(r),e(t,n,(e=>{o=e})))})).then((e=>(t(),e))).catch((e=>{throw t(),e}))}removeParentCancelHandler(){const e=this._parent;null!=e&&null!=this.parentCancelHandler&&(e.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}t.CancellationToken=o;class i extends Error{constructor(){super("cancelled")}}t.CancellationError=i},9356:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoLazy=void 0;function r(e,t){if("object"==typeof e&&null!==e&&("object"==typeof t&&null!==t)){const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every((n=>r(e[n],t[n])))}return e===t}t.MemoLazy=class{constructor(e,t){this.selector=e,this.creator=t,this.selected=void 0,this._value=void 0}get hasValue(){return void 0!==this._value}get value(){const e=this.selector();if(void 0!==this._value&&r(this.selected,e))return this._value;this.selected=e;const t=this.creator(e);return this.value=t,t}set value(e){this._value=e}}},7172:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressCallbackTransform=void 0;const n=r(2781);class o extends n.Transform{constructor(e,t,r){super(),this.total=e,this.cancellationToken=t,this.onProgress=r,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(e,t,r){if(this.cancellationToken.cancelled)return void r(new Error("cancelled"),null);this.transferred+=e.length,this.delta+=e.length;const n=Date.now();n>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=n+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((n-this.start)/1e3))}),this.delta=0),r(null,e)}_flush(e){this.cancellationToken.cancelled?e(new Error("cancelled")):(this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,e(null))}}t.ProgressCallbackTransform=o},8319:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newError=function(e,t){const r=new Error(e);return r.code=t,r}},9752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DigestTransform=t.HttpExecutor=t.HttpError=void 0,t.createHttpError=d,t.parseJson=function(e){return e.then((e=>null==e||0===e.length?null:JSON.parse(e)))},t.configureRequestOptionsFromUrl=m,t.configureRequestUrl=y,t.safeGetHeader=w,t.configureRequestOptions=b,t.safeStringifyJson=E;const n=r(6113),o=r(4093),i=r(7147),s=r(2781),a=r(7310),l=r(7815),c=r(8319),u=r(7172),p=(0,o.default)("electron-builder");function d(e,t=null){return new f(e.statusCode||-1,`${e.statusCode} ${e.statusMessage}`+(null==t?"":"\n"+JSON.stringify(t,null,"  "))+"\nHeaders: "+E(e.headers),t)}const h=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class f extends Error{constructor(e,t=`HTTP error: ${h.get(e)||e}`,r=null){super(t),this.statusCode=e,this.description=r,this.name="HttpError",this.code=`HTTP_ERROR_${e}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}}t.HttpError=f;class g{constructor(){this.maxRedirects=10}request(e,t=new l.CancellationToken,r){b(e);const n=null==r?void 0:JSON.stringify(r),o=n?Buffer.from(n):void 0;if(null!=o){p(n);const{headers:t,...r}=e;e={method:"post",headers:{"Content-Type":"application/json","Content-Length":o.length,...t},...r}}return this.doApiRequest(e,t,(e=>e.end(o)))}doApiRequest(e,t,r,n=0){return p.enabled&&p(`Request: ${E(e)}`),t.createPromise(((o,i,s)=>{const a=this.createRequest(e,(s=>{try{this.handleResponse(s,e,t,o,i,n,r)}catch(e){i(e)}}));this.addErrorAndTimeoutHandlers(a,i,e.timeout),this.addRedirectHandlers(a,e,i,n,(e=>{this.doApiRequest(e,t,r,n).then(o).catch(i)})),r(a,i),s((()=>a.abort()))}))}addRedirectHandlers(e,t,r,n,o){}addErrorAndTimeoutHandlers(e,t,r=6e4){this.addTimeOutHandler(e,t,r),e.on("error",t),e.on("aborted",(()=>{t(new Error("Request has been aborted by the server"))}))}handleResponse(e,t,r,n,o,i,s){var a;if(p.enabled&&p(`Response: ${e.statusCode} ${e.statusMessage}, request options: ${E(t)}`),404===e.statusCode)return void o(d(e,`method: ${t.method||"GET"} url: ${t.protocol||"https:"}//${t.hostname}${t.port?`:${t.port}`:""}${t.path}\n\nPlease double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.\n`));if(204===e.statusCode)return void n();const l=null!==(a=e.statusCode)&&void 0!==a?a:0,c=l>=300&&l<400,u=w(e,"location");if(c&&null!=u)return i>this.maxRedirects?void o(this.createMaxRedirectError()):void this.doApiRequest(g.prepareRedirectUrlOptions(u,t),r,s,i).then(n).catch(o);e.setEncoding("utf8");let h="";e.on("error",o),e.on("data",(e=>h+=e)),e.on("end",(()=>{try{if(null!=e.statusCode&&e.statusCode>=400){const r=w(e,"content-type"),n=null!=r&&(Array.isArray(r)?null!=r.find((e=>e.includes("json"))):r.includes("json"));o(d(e,`method: ${t.method||"GET"} url: ${t.protocol||"https:"}//${t.hostname}${t.port?`:${t.port}`:""}${t.path}\n\n          Data:\n          ${n?JSON.stringify(JSON.parse(h)):h}\n          `))}else n(0===h.length?null:h)}catch(e){o(e)}}))}async downloadToBuffer(e,t){return await t.cancellationToken.createPromise(((r,n,o)=>{const i=[],s={headers:t.headers||void 0,redirect:"manual"};y(e,s),b(s),this.doDownload(s,{destination:null,options:t,onCancel:o,callback:e=>{null==e?r(Buffer.concat(i)):n(e)},responseHandler:(e,t)=>{let r=0;e.on("data",(e=>{r+=e.length,r>524288e3?t(new Error("Maximum allowed size is 500 MB")):i.push(e)})),e.on("end",(()=>{t(null)}))}},0)}))}doDownload(e,t,r){const n=this.createRequest(e,(n=>{if(n.statusCode>=400)return void t.callback(new Error(`Cannot download "${e.protocol||"https:"}//${e.hostname}${e.path}", status ${n.statusCode}: ${n.statusMessage}`));n.on("error",t.callback);const o=w(n,"location");null==o?null==t.responseHandler?function(e,t){if(!function(e,t,r){if(null!=e&&null!=t&&e!==t)return r(new Error(`checksum mismatch: expected ${t} but got ${e} (X-Checksum-Sha2 header)`)),!1;return!0}(w(t,"X-Checksum-Sha2"),e.options.sha2,e.callback))return;const r=[];if(null!=e.options.onProgress){const n=w(t,"content-length");null!=n&&r.push(new u.ProgressCallbackTransform(parseInt(n,10),e.options.cancellationToken,e.options.onProgress))}const n=e.options.sha512;null!=n?r.push(new v(n,"sha512",128!==n.length||n.includes("+")||n.includes("Z")||n.includes("=")?"base64":"hex")):null!=e.options.sha2&&r.push(new v(e.options.sha2,"sha256","hex"));const o=(0,i.createWriteStream)(e.destination);r.push(o);let s=t;for(const t of r)t.on("error",(t=>{o.close(),e.options.cancellationToken.cancelled||e.callback(t)})),s=s.pipe(t);o.on("finish",(()=>{o.close(e.callback)}))}(t,n):t.responseHandler(n,t.callback):r<this.maxRedirects?this.doDownload(g.prepareRedirectUrlOptions(o,e),t,r++):t.callback(this.createMaxRedirectError())}));this.addErrorAndTimeoutHandlers(n,t.callback,e.timeout),this.addRedirectHandlers(n,e,t.callback,r,(e=>{this.doDownload(e,t,r++)})),n.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(e,t,r){e.on("socket",(n=>{n.setTimeout(r,(()=>{e.abort(),t(new Error("Request timed out"))}))}))}static prepareRedirectUrlOptions(e,t){const r=m(e,{...t}),n=r.headers;if(null==n?void 0:n.authorization){const t=new a.URL(e);(t.hostname.endsWith(".amazonaws.com")||t.searchParams.has("X-Amz-Credential"))&&delete n.authorization}return r}static retryOnServerError(e,t=3){for(let r=0;;r++)try{return e()}catch(e){if(r<t&&(e instanceof f&&e.isServerError()||"EPIPE"===e.code))continue;throw e}}}function m(e,t){const r=b(t);return y(new a.URL(e),r),r}function y(e,t){t.protocol=e.protocol,t.hostname=e.hostname,e.port?t.port=e.port:t.port&&delete t.port,t.path=e.pathname+e.search}t.HttpExecutor=g;class v extends s.Transform{get actual(){return this._actual}constructor(e,t="sha512",r="base64"){super(),this.expected=e,this.algorithm=t,this.encoding=r,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,n.createHash)(t)}_transform(e,t,r){this.digester.update(e),r(null,e)}_flush(e){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(t){return void e(t)}e(null)}validate(){if(null==this._actual)throw(0,c.newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,c.newError)(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}function w(e,t){const r=e.headers[t];return null==r?null:Array.isArray(r)?0===r.length?null:r[r.length-1]:r}function b(e,t,r){null!=r&&(e.method=r),e.headers={...e.headers};const n=e.headers;return null!=t&&(n.authorization=t.startsWith("Basic")||t.startsWith("Bearer")?t:`token ${t}`),null==n["User-Agent"]&&(n["User-Agent"]="electron-builder"),null!=r&&"GET"!==r&&null!=n["Cache-Control"]||(n["Cache-Control"]="no-cache"),null==e.protocol&&null!=process.versions.electron&&(e.protocol="https:"),e}function E(e,t){return JSON.stringify(e,((e,r)=>e.endsWith("Authorization")||e.endsWith("authorization")||e.endsWith("Password")||e.endsWith("PASSWORD")||e.endsWith("Token")||e.includes("password")||e.includes("token")||null!=t&&t.has(e)?"<stripped sensitive data>":r),2)}t.DigestTransform=v},9517:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CURRENT_APP_PACKAGE_FILE_NAME=t.CURRENT_APP_INSTALLER_FILE_NAME=t.retry=t.MemoLazy=t.newError=t.XElement=t.parseXml=t.ProgressCallbackTransform=t.UUID=t.parseDn=t.githubUrl=t.getS3LikeProviderBaseUrl=t.configureRequestUrl=t.parseJson=t.safeStringifyJson=t.configureRequestOptionsFromUrl=t.configureRequestOptions=t.safeGetHeader=t.DigestTransform=t.HttpExecutor=t.createHttpError=t.HttpError=t.CancellationError=t.CancellationToken=void 0,t.asArray=function(e){return null==e?[]:Array.isArray(e)?e:[e]};var n=r(7815);Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return n.CancellationToken}}),Object.defineProperty(t,"CancellationError",{enumerable:!0,get:function(){return n.CancellationError}});var o=r(9752);Object.defineProperty(t,"HttpError",{enumerable:!0,get:function(){return o.HttpError}}),Object.defineProperty(t,"createHttpError",{enumerable:!0,get:function(){return o.createHttpError}}),Object.defineProperty(t,"HttpExecutor",{enumerable:!0,get:function(){return o.HttpExecutor}}),Object.defineProperty(t,"DigestTransform",{enumerable:!0,get:function(){return o.DigestTransform}}),Object.defineProperty(t,"safeGetHeader",{enumerable:!0,get:function(){return o.safeGetHeader}}),Object.defineProperty(t,"configureRequestOptions",{enumerable:!0,get:function(){return o.configureRequestOptions}}),Object.defineProperty(t,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return o.configureRequestOptionsFromUrl}}),Object.defineProperty(t,"safeStringifyJson",{enumerable:!0,get:function(){return o.safeStringifyJson}}),Object.defineProperty(t,"parseJson",{enumerable:!0,get:function(){return o.parseJson}}),Object.defineProperty(t,"configureRequestUrl",{enumerable:!0,get:function(){return o.configureRequestUrl}});var i=r(4933);Object.defineProperty(t,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return i.getS3LikeProviderBaseUrl}}),Object.defineProperty(t,"githubUrl",{enumerable:!0,get:function(){return i.githubUrl}});var s=r(8366);Object.defineProperty(t,"parseDn",{enumerable:!0,get:function(){return s.parseDn}});var a=r(4180);Object.defineProperty(t,"UUID",{enumerable:!0,get:function(){return a.UUID}});var l=r(7172);Object.defineProperty(t,"ProgressCallbackTransform",{enumerable:!0,get:function(){return l.ProgressCallbackTransform}});var c=r(3458);Object.defineProperty(t,"parseXml",{enumerable:!0,get:function(){return c.parseXml}}),Object.defineProperty(t,"XElement",{enumerable:!0,get:function(){return c.XElement}});var u=r(8319);Object.defineProperty(t,"newError",{enumerable:!0,get:function(){return u.newError}});var p=r(9356);Object.defineProperty(t,"MemoLazy",{enumerable:!0,get:function(){return p.MemoLazy}});var d=r(653);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return d.retry}}),t.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe",t.CURRENT_APP_PACKAGE_FILE_NAME="package.7z"},4933:(e,t)=>{"use strict";function r(e,t){return null!=t&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.githubUrl=function(e,t="github.com"){return`${e.protocol||"https"}://${e.host||t}`},t.getS3LikeProviderBaseUrl=function(e){const t=e.provider;if("s3"===t)return function(e){let t;if(1==e.accelerate)t=`https://${e.bucket}.s3-accelerate.amazonaws.com`;else if(null!=e.endpoint)t=`${e.endpoint}/${e.bucket}`;else if(e.bucket.includes(".")){if(null==e.region)throw new Error(`Bucket name "${e.bucket}" includes a dot, but S3 region is missing`);t="us-east-1"===e.region?`https://s3.amazonaws.com/${e.bucket}`:`https://s3-${e.region}.amazonaws.com/${e.bucket}`}else t="cn-north-1"===e.region?`https://${e.bucket}.s3.${e.region}.amazonaws.com.cn`:`https://${e.bucket}.s3.amazonaws.com`;return r(t,e.path)}(e);if("spaces"===t)return function(e){if(null==e.name)throw new Error("name is missing");if(null==e.region)throw new Error("region is missing");return r(`https://${e.name}.${e.region}.digitaloceanspaces.com`,e.path)}(e);throw new Error(`Not supported provider: ${t}`)}},653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retry=async function e(t,r,o,i=0,s=0,a){var l;const c=new n.CancellationToken;try{return await t()}catch(n){if((null===(l=null==a?void 0:a(n))||void 0===l||l)&&r>0&&!c.cancelled)return await new Promise((e=>setTimeout(e,o+i*s))),await e(t,r-1,o,i,s+1,a);throw n}};const n=r(7815)},8366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDn=function(e){let t=!1,r=null,n="",o=0;e=e.trim();const i=new Map;for(let s=0;s<=e.length;s++){if(s===e.length){null!==r&&i.set(r,n);break}const a=e[s];if(t){if('"'===a){t=!1;continue}}else{if('"'===a){t=!0;continue}if("\\"===a){s++;const t=parseInt(e.slice(s,s+2),16);Number.isNaN(t)?n+=e[s]:(s++,n+=String.fromCharCode(t));continue}if(null===r&&"="===a){r=n,n="";continue}if(","===a||";"===a||"+"===a){null!==r&&i.set(r,n),r=null,n="";continue}}if(" "===a&&!t){if(0===n.length)continue;if(s>o){let t=s;for(;" "===e[t];)t++;o=t}if(o>=e.length||","===e[o]||";"===e[o]||null===r&&"="===e[o]||null!==r&&"+"===e[o]){s=o-1;continue}}n+=a}return i}},4180:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nil=t.UUID=void 0;const n=r(6113),o=r(8319),i="options.name must be either a string or a Buffer",s=(0,n.randomBytes)(16);s[0]=1|s[0];const a={},l=[];for(let e=0;e<256;e++){const t=(e+256).toString(16).substr(1);a[t]=e,l[e]=t}class c{constructor(e){this.ascii=null,this.binary=null;const t=c.check(e);if(!t)throw new Error("not a UUID");this.version=t.version,"ascii"===t.format?this.ascii=e:this.binary=e}static v5(e,t){return function(e,t,r,s,a=p.ASCII){const u=(0,n.createHash)(t),d="string"!=typeof e;if(d&&!Buffer.isBuffer(e))throw(0,o.newError)(i,"ERR_INVALID_UUID_NAME");u.update(s),u.update(e);const h=u.digest();let f;switch(a){case p.BINARY:h[6]=15&h[6]|r,h[8]=63&h[8]|128,f=h;break;case p.OBJECT:h[6]=15&h[6]|r,h[8]=63&h[8]|128,f=new c(h);break;default:f=l[h[0]]+l[h[1]]+l[h[2]]+l[h[3]]+"-"+l[h[4]]+l[h[5]]+"-"+l[15&h[6]|r]+l[h[7]]+"-"+l[63&h[8]|128]+l[h[9]]+"-"+l[h[10]]+l[h[11]]+l[h[12]]+l[h[13]]+l[h[14]]+l[h[15]]}return f}(e,"sha1",80,t)}toString(){var e;return null==this.ascii&&(this.ascii=(e=this.binary,l[e[0]]+l[e[1]]+l[e[2]]+l[e[3]]+"-"+l[e[4]]+l[e[5]]+"-"+l[e[6]]+l[e[7]]+"-"+l[e[8]]+l[e[9]]+"-"+l[e[10]]+l[e[11]]+l[e[12]]+l[e[13]]+l[e[14]]+l[e[15]])),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(e,t=0){if("string"==typeof e)return e=e.toLowerCase(),!!/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(e)&&("00000000-0000-0000-0000-000000000000"===e?{version:void 0,variant:"nil",format:"ascii"}:{version:(240&a[e[14]+e[15]])>>4,variant:u((224&a[e[19]+e[20]])>>5),format:"ascii"});if(Buffer.isBuffer(e)){if(e.length<t+16)return!1;let r=0;for(;r<16&&0===e[t+r];r++);return 16===r?{version:void 0,variant:"nil",format:"binary"}:{version:(240&e[t+6])>>4,variant:u((224&e[t+8])>>5),format:"binary"}}throw(0,o.newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(e){const t=Buffer.allocUnsafe(16);let r=0;for(let n=0;n<16;n++)t[n]=a[e[r++]+e[r++]],3!==n&&5!==n&&7!==n&&9!==n||(r+=1);return t}}function u(e){switch(e){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var p;t.UUID=c,c.OID=c.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8"),function(e){e[e.ASCII=0]="ASCII",e[e.BINARY=1]="BINARY",e[e.OBJECT=2]="OBJECT"}(p||(p={})),t.nil=new c("00000000-0000-0000-0000-000000000000")},3458:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XElement=void 0,t.parseXml=function(e){let t=null;const r=n.parser(!0,{}),o=[];return r.onopentag=e=>{const r=new i(e.name);if(r.attributes=e.attributes,null===t)t=r;else{const e=o[o.length-1];null==e.elements&&(e.elements=[]),e.elements.push(r)}o.push(r)},r.onclosetag=()=>{o.pop()},r.ontext=e=>{o.length>0&&(o[o.length-1].value=e)},r.oncdata=e=>{const t=o[o.length-1];t.value=e,t.isCData=!0},r.onerror=e=>{throw e},r.write(e),t};const n=r(7132),o=r(8319);class i{constructor(e){if(this.name=e,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!e)throw(0,o.newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!function(e){return s.test(e)}(e))throw(0,o.newError)(`Invalid element name: ${e}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(e){const t=null===this.attributes?null:this.attributes[e];if(null==t)throw(0,o.newError)(`No attribute "${e}"`,"ERR_XML_MISSED_ATTRIBUTE");return t}removeAttribute(e){null!==this.attributes&&delete this.attributes[e]}element(e,t=!1,r=null){const n=this.elementOrNull(e,t);if(null===n)throw(0,o.newError)(r||`No element "${e}"`,"ERR_XML_MISSED_ELEMENT");return n}elementOrNull(e,t=!1){if(null===this.elements)return null;for(const r of this.elements)if(a(r,e,t))return r;return null}getElements(e,t=!1){return null===this.elements?[]:this.elements.filter((r=>a(r,e,t)))}elementValueOrEmpty(e,t=!1){const r=this.elementOrNull(e,t);return null===r?"":r.value}}t.XElement=i;const s=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function a(e,t,r){const n=e.name;return n===t||!0===r&&n.length===t.length&&n.toLowerCase()===t.toLowerCase()}},6914:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(5053)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},5053:(e,t,r)=>{e.exports=function(e){function t(e){let r,o,i,s=null;function a(...e){if(!a.enabled)return;const n=a,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";s++;const i=t.formatters[o];if("function"==typeof i){const t=e[s];r=i.call(n,t),e.splice(s,1),s--}return r})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e,t){let r=0,n=0,o=-1,i=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(o=n,i=r,n++):(r++,n++);else{if(-1===o)return!1;n=o+1,i++,r=i}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const e of r)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const r of t.skips)if(o(e,r))return!1;for(const r of t.names)if(o(e,r))return!0;return!1},t.humanize=r(8514),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},4093:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(6914):e.exports=r(9625)},9625:(e,t,r)=>{const n=r(6224),o=r(3837);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="\x1b[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} \x1b[0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(9400);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(5053)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},3218:e=>{"use strict";e.exports=class{constructor({processMessage:e}){this.processMessage=e,this.buffer=[],this.enabled=!1,this.begin=this.begin.bind(this),this.commit=this.commit.bind(this),this.reject=this.reject.bind(this)}addMessage(e){this.buffer.push(e)}begin(){this.enabled=[]}commit(){this.enabled=!1,this.buffer.forEach((e=>this.processMessage(e))),this.buffer=[]}reject(){this.enabled=!1,this.buffer=[]}}},3253:(e,t,r)=>{"use strict";const n=r(8611),o=r(3218);class i{static instances={};dependencies={};errorHandler=null;eventLogger=null;functions={};hooks=[];isDev=!1;levels=null;logId=null;scope=null;transports={};variables={};constructor({allowUnknownLevel:e=!1,dependencies:t={},errorHandler:r,eventLogger:s,initializeFn:a,isDev:l=!1,levels:c=["error","warn","info","verbose","debug","silly"],logId:u,transportFactories:p={},variables:d}={}){this.addLevel=this.addLevel.bind(this),this.create=this.create.bind(this),this.initialize=this.initialize.bind(this),this.logData=this.logData.bind(this),this.processMessage=this.processMessage.bind(this),this.allowUnknownLevel=e,this.buffering=new o(this),this.dependencies=t,this.initializeFn=a,this.isDev=l,this.levels=c,this.logId=u,this.scope=n(this),this.transportFactories=p,this.variables=d||{};for(const e of this.levels)this.addLevel(e,!1);this.log=this.info,this.functions.log=this.log,this.errorHandler=r,r?.setOptions({...t,logFn:this.error}),this.eventLogger=s,s?.setOptions({...t,logger:this});for(const[e,r]of Object.entries(p))this.transports[e]=r(this,t);i.instances[u]=this}static getInstance({logId:e}){return this.instances[e]||this.instances.default}addLevel(e,t=this.levels.length){!1!==t&&this.levels.splice(t,0,e),this[e]=(...t)=>this.logData(t,{level:e}),this.functions[e]=this[e]}catchErrors(e){return this.processMessage({data:["log.catchErrors is deprecated. Use log.errorHandler instead"],level:"warn"},{transports:["console"]}),this.errorHandler.startCatching(e)}create(e){return"string"==typeof e&&(e={logId:e}),new i({dependencies:this.dependencies,errorHandler:this.errorHandler,initializeFn:this.initializeFn,isDev:this.isDev,transportFactories:this.transportFactories,variables:{...this.variables},...e})}compareLevels(e,t,r=this.levels){const n=r.indexOf(e),o=r.indexOf(t);return-1===o||-1===n||o<=n}initialize(e={}){this.initializeFn({logger:this,...this.dependencies,...e})}logData(e,t={}){this.buffering.enabled?this.buffering.addMessage({data:e,...t}):this.processMessage({data:e,...t})}processMessage(e,{transports:t=this.transports}={}){if("errorHandler"===e.cmd)return void this.errorHandler.handle(e.error,{errorName:e.errorName,processType:"renderer",showDialog:Boolean(e.showDialog)});let r=e.level;this.allowUnknownLevel||(r=this.levels.includes(e.level)?e.level:"info");const n={date:new Date,logId:this.logId,...e,level:r,variables:{...this.variables,...e.variables}};for(const[r,o]of this.transportEntries(t))if("function"==typeof o&&!1!==o.level&&this.compareLevels(o.level,e.level))try{const e=this.hooks.reduce(((e,t)=>e?t(e,o,r):e),n);e&&o({...e,data:[...e.data]})}catch(e){this.processInternalErrorFn(e)}}processInternalErrorFn(e){}transportEntries(e=this.transports){return(Array.isArray(e)?e:Object.entries(e)).map((e=>{switch(typeof e){case"string":return this.transports[e]?[e,this.transports[e]]:null;case"function":return[e.name,e];default:return Array.isArray(e)?e:null}})).filter(Boolean)}}e.exports=i},8611:e=>{"use strict";e.exports=function(e){return Object.defineProperties(t,{defaultLabel:{value:"",writable:!0},labelPadding:{value:!0,writable:!0},maxLabelLength:{value:0,writable:!0},labelLength:{get(){switch(typeof t.labelPadding){case"boolean":return t.labelPadding?t.maxLabelLength:0;case"number":return t.labelPadding;default:return 0}}}});function t(r){t.maxLabelLength=Math.max(t.maxLabelLength,r.length);const n={};for(const t of e.levels)n[t]=(...n)=>e.logData(n,{level:t,scope:r});return n.log=n.info,n}}},9189:(e,t,r)=>{"use strict";const{transform:n}=r(8460);function o(e){const t=Math.abs(e);return`${e>0?"-":"+"}${Math.floor(t/60).toString().padStart(2,"0")}:${(t%60).toString().padStart(2,"0")}`}function i({data:e,logger:t,message:r}){const{defaultLabel:n,labelLength:o}=t?.scope||{},i=e[0];let s,a=r.scope;return a||(a=n),s=""===a?o>0?"".padEnd(o+3):"":"string"==typeof a?` (${a})`.padEnd(o+3):"",e[0]=i.replace("{scope}",s),e}function s({data:e,message:t}){let r=e[0];if("string"!=typeof r)return e;r=r.replace("{level}]",`${t.level}]`.padEnd(6," "));const n=t.date||new Date;return e[0]=r.replace(/\{(\w+)}/g,((e,r)=>{switch(r){case"level":return t.level||"info";case"logId":return t.logId;case"y":return n.getFullYear().toString(10);case"m":return(n.getMonth()+1).toString(10).padStart(2,"0");case"d":return n.getDate().toString(10).padStart(2,"0");case"h":return n.getHours().toString(10).padStart(2,"0");case"i":return n.getMinutes().toString(10).padStart(2,"0");case"s":return n.getSeconds().toString(10).padStart(2,"0");case"ms":return n.getMilliseconds().toString(10).padStart(3,"0");case"z":return o(n.getTimezoneOffset());case"iso":return n.toISOString();default:return t.variables?.[r]||e}})).trim(),e}function a({data:e}){const t=e[0];if("string"!=typeof t)return e;if(t.lastIndexOf("{text}")===t.length-6)return e[0]=t.replace(/\s?{text}/,""),""===e[0]&&e.shift(),e;const r=t.split("{text}");let n=[];return""!==r[0]&&n.push(r[0]),n=n.concat(e.slice(1)),""!==r[1]&&n.push(r[1]),n}e.exports={concatFirstStringElements:function({data:e}){if("string"!=typeof e[0]||"string"!=typeof e[1])return e;if(e[0].match(/%[1cdfiOos]/))return e;return[`${e[0]} ${e[1]}`,...e.slice(2)]},formatScope:i,formatText:a,formatVariables:s,timeZoneFromOffset:o,format({message:e,logger:t,transport:r,data:o=e?.data}){switch(typeof r.format){case"string":return n({message:e,logger:t,transforms:[s,i,a],transport:r,initialData:[r.format,...o]});case"function":return r.format({data:o,level:e?.level||"info",logger:t,message:e,transport:r});default:return o}}}},4021:e=>{"use strict";e.exports={transformStyles:o,applyAnsiStyles:({data:e})=>o(e,r,n),removeStyles:({data:e})=>o(e,(()=>""))};const t={unset:"\x1b[0m",black:"\x1b[30m",red:"\x1b[31m",green:"\x1b[32m",yellow:"\x1b[33m",blue:"\x1b[34m",magenta:"\x1b[35m",cyan:"\x1b[36m",white:"\x1b[37m"};function r(e){const r=e.replace(/color:\s*(\w+).*/,"$1").toLowerCase();return t[r]||""}function n(e){return e+t.unset}function o(e,t,r){const n={};return e.reduce(((e,o,i,s)=>{if(n[i])return e;if("string"==typeof o){let e=i,a=!1;o=o.replace(/%[1cdfiOos]/g,(r=>{if(e+=1,"%c"!==r)return r;const i=s[e];return"string"==typeof i?(n[e]=!0,a=!0,t(i,o)):r})),a&&r&&(o=r(o))}return e.push(o),e}),[])}},8460:e=>{"use strict";e.exports={transform:function({logger:e,message:t,transport:r,initialData:n=t?.data||[],transforms:o=r?.transforms}){return o.reduce(((n,o)=>"function"==typeof o?o({data:n,logger:e,message:t,transport:r}):n),n)}}},9979:(e,t,r)=>{"use strict";const n="undefined"==typeof process||"renderer"===process.type||"worker"===process.type,o="object"==typeof process&&"browser"===process.type;n?(r(968),e.exports=r(43)):e.exports=r(o?5006:5411)},1555:(e,t,r)=>{"use strict";const n=r(1017),o=r(4866);e.exports=class extends o{electron=void 0;constructor({electron:e}={}){super(),this.electron=e}getAppName(){let e;try{e=this.appName||this.electron.app?.name||this.electron.app?.getName()}catch{}return e||super.getAppName()}getAppUserDataPath(e){return this.getPath("userData")||super.getAppUserDataPath(e)}getAppVersion(){let e;try{e=this.electron.app?.getVersion()}catch{}return e||super.getAppVersion()}getElectronLogPath(){return this.getPath("logs")||super.getElectronLogPath()}getPath(e){try{return this.electron.app?.getPath(e)}catch{return}}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:`Electron ${process.versions.electron}`,os:this.getOsVersion()}}getSystemPathAppData(){return this.getPath("appData")||super.getSystemPathAppData()}isDev(){if(void 0!==this.electron.app?.isPackaged)return!this.electron.app.isPackaged;if("string"==typeof process.execPath){return n.basename(process.execPath).toLowerCase().startsWith("electron")}return super.isDev()}onAppEvent(e,t){return this.electron.app?.on(e,t),()=>{this.electron.app?.off(e,t)}}onAppReady(e){this.electron.app?.isReady()?e():this.electron.app?.once?this.electron.app?.once("ready",e):e()}onEveryWebContentsEvent(e,t){return this.electron.webContents?.getAllWebContents()?.forEach((r=>{r.on(e,t)})),this.electron.app?.on("web-contents-created",r),()=>{this.electron.webContents?.getAllWebContents().forEach((r=>{r.off(e,t)})),this.electron.app?.off("web-contents-created",r)};function r(r,n){n.on(e,t)}}onIpc(e,t){this.electron.ipcMain?.on(e,t)}onIpcInvoke(e,t){this.electron.ipcMain?.handle?.(e,t)}openUrl(e,t=console.error){this.electron.shell?.openExternal(e).catch(t)}setPreloadFileForSessions({filePath:e,includeFutureSession:t=!0,getSessions:r=()=>[this.electron.session?.defaultSession]}){for(const e of r().filter(Boolean))n(e);function n(t){t.setPreloads([...t.getPreloads(),e])}t&&this.onAppEvent("session-created",(e=>{n(e)}))}sendIpc(e,t){this.electron.BrowserWindow?.getAllWindows()?.forEach((r=>{!1===r.webContents?.isDestroyed()&&!1===r.webContents?.isCrashed()&&r.webContents.send(e,t)}))}showErrorBox(e,t){this.electron.dialog?.showErrorBox(e,t)}}},5006:(e,t,r)=>{"use strict";const n=r(2298),o=r(1555),{initialize:i}=r(329),s=r(194),a=new o({electron:n}),l=s({dependencies:{externalApi:a},initializeFn:i});function c(e){l.Logger.getInstance(e)?.processMessage(e)}e.exports=l,a.onIpc("__ELECTRON_LOG__",((e,t)=>{t.scope&&l.Logger.getInstance(t).scope(t.scope);const r=new Date(t.date);c({...t,date:r.getTime()?r:new Date})})),a.onIpcInvoke("__ELECTRON_LOG__",((e,{cmd:t="",logId:r})=>{if("getOptions"===t){return{levels:l.Logger.getInstance({logId:r}).levels,logId:r}}return c({data:[`Unknown cmd '${t}'`],level:"error"}),{}}))},329:(e,t,r)=>{"use strict";const n=r(7147),o=r(2037),i=r(1017),s=r(968);e.exports={initialize({externalApi:e,getSessions:t,includeFutureSession:r,logger:a,preload:l=!0,spyRendererConsole:c=!1}){e.onAppReady((()=>{try{l&&function({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:a}){let l="string"==typeof a?a:void 0;try{l=i.resolve(__dirname,"../renderer/electron-log-preload.js")}catch{}if(!l||!n.existsSync(l)){l=i.join(e.getAppUserDataPath()||o.tmpdir(),"electron-log-preload.js");const t=`\n      try {\n        (${s.toString()})(require('electron'));\n      } catch(e) {\n        console.error(e);\n      }\n    `;n.writeFileSync(l,t,"utf8")}e.setPreloadFileForSessions({filePath:l,includeFutureSession:r,getSessions:t})}({externalApi:e,getSessions:t,includeFutureSession:r,preloadOption:l}),c&&function({externalApi:e,logger:t}){const r=["verbose","info","warning","error"];e.onEveryWebContentsEvent("console-message",((e,n,o)=>{t.processMessage({data:[o],level:r[n],variables:{processType:"renderer"}})}))}({externalApi:e,logger:a})}catch(e){a.warn(e)}}))}}},8259:e=>{"use strict";e.exports=class{externalApi=void 0;isActive=!1;logFn=void 0;onError=void 0;showDialog=!0;constructor({externalApi:e,logFn:t,onError:r,showDialog:n}={}){this.createIssue=this.createIssue.bind(this),this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.setOptions({externalApi:e,logFn:t,onError:r,showDialog:n}),this.startCatching=this.startCatching.bind(this),this.stopCatching=this.stopCatching.bind(this)}handle(e,{logFn:t=this.logFn,onError:r=this.onError,processType:n="browser",showDialog:o=this.showDialog,errorName:i=""}={}){e=function(e){if(e instanceof Error)return e;if(e&&"object"==typeof e){if(e.message)return Object.assign(new Error(e.message),e);try{return new Error(JSON.stringify(e))}catch(t){return new Error(`Couldn't normalize error ${String(e)}: ${t}`)}}return new Error(`Can't normalize error ${String(e)}`)}(e);try{if("function"==typeof r){const t=this.externalApi?.getVersions()||{},o=this.createIssue;if(!1===r({createIssue:o,error:e,errorName:i,processType:n,versions:t}))return}i?t(i,e):t(e),o&&!i.includes("rejection")&&this.externalApi&&this.externalApi.showErrorBox(`A JavaScript error occurred in the ${n} process`,e.stack)}catch{console.error(e)}}setOptions({externalApi:e,logFn:t,onError:r,showDialog:n}){"object"==typeof e&&(this.externalApi=e),"function"==typeof t&&(this.logFn=t),"function"==typeof r&&(this.onError=r),"boolean"==typeof n&&(this.showDialog=n)}startCatching({onError:e,showDialog:t}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:e,showDialog:t}),process.on("uncaughtException",this.handleError),process.on("unhandledRejection",this.handleRejection))}stopCatching(){this.isActive=!1,process.removeListener("uncaughtException",this.handleError),process.removeListener("unhandledRejection",this.handleRejection)}createIssue(e,t){this.externalApi?.openUrl(`${e}?${new URLSearchParams(t).toString()}`)}handleError(e){this.handle(e,{errorName:"Unhandled"})}handleRejection(e){const t=e instanceof Error?e:new Error(JSON.stringify(e));this.handle(t,{errorName:"Unhandled rejection"})}}},9160:e=>{"use strict";e.exports=class{disposers=[];format="{eventSource}#{eventName}:";formatters={app:{"certificate-error":({args:e})=>this.arrayToObject(e.slice(1,4),["url","error","certificate"]),"child-process-gone":({args:e})=>1===e.length?e[0]:e,"render-process-gone":({args:[e,t]})=>t&&"object"==typeof t?{...t,...this.getWebContentsDetails(e)}:[]},webContents:{"console-message":({args:[e,t,r,n]})=>{if(!(e<3))return{message:t,source:`${n}:${r}`}},"did-fail-load":({args:e})=>this.arrayToObject(e,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"did-fail-provisional-load":({args:e})=>this.arrayToObject(e,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"plugin-crashed":({args:e})=>this.arrayToObject(e,["name","version"]),"preload-error":({args:e})=>this.arrayToObject(e,["preloadPath","error"])}};events={app:{"certificate-error":!0,"child-process-gone":!0,"render-process-gone":!0},webContents:{"did-fail-load":!0,"did-fail-provisional-load":!0,"plugin-crashed":!0,"preload-error":!0,unresponsive:!0}};externalApi=void 0;level="error";scope="";constructor(e={}){this.setOptions(e)}setOptions({events:e,externalApi:t,level:r,logger:n,format:o,formatters:i,scope:s}){"object"==typeof e&&(this.events=e),"object"==typeof t&&(this.externalApi=t),"string"==typeof r&&(this.level=r),"object"==typeof n&&(this.logger=n),"string"!=typeof o&&"function"!=typeof o||(this.format=o),"object"==typeof i&&(this.formatters=i),"string"==typeof s&&(this.scope=s)}startLogging(e={}){this.setOptions(e),this.disposeListeners();for(const e of this.getEventNames(this.events.app))this.disposers.push(this.externalApi.onAppEvent(e,((...t)=>{this.handleEvent({eventSource:"app",eventName:e,handlerArgs:t})})));for(const e of this.getEventNames(this.events.webContents))this.disposers.push(this.externalApi.onEveryWebContentsEvent(e,((...t)=>{this.handleEvent({eventSource:"webContents",eventName:e,handlerArgs:t})})))}stopLogging(){this.disposeListeners()}arrayToObject(e,t){const r={};return t.forEach(((t,n)=>{r[t]=e[n]})),e.length>t.length&&(r.unknownArgs=e.slice(t.length)),r}disposeListeners(){this.disposers.forEach((e=>e())),this.disposers=[]}formatEventLog({eventName:e,eventSource:t,handlerArgs:r}){const[n,...o]=r;if("function"==typeof this.format)return this.format({args:o,event:n,eventName:e,eventSource:t});const i=this.formatters[t]?.[e];let s=o;if("function"==typeof i&&(s=i({args:o,event:n,eventName:e,eventSource:t})),!s)return;const a={};Array.isArray(s)?a.args=s:"object"==typeof s&&Object.assign(a,s),"webContents"===t&&Object.assign(a,this.getWebContentsDetails(n?.sender));return[this.format.replace("{eventSource}","app"===t?"App":"WebContents").replace("{eventName}",e),a]}getEventNames(e){return e&&"object"==typeof e?Object.entries(e).filter((([e,t])=>t)).map((([e])=>e)):[]}getWebContentsDetails(e){if(!e?.loadURL)return{};try{return{webContents:{id:e.id,url:e.getURL()}}}catch{return{}}}handleEvent({eventName:e,eventSource:t,handlerArgs:r}){const n=this.formatEventLog({eventName:e,eventSource:t,handlerArgs:r});if(n){const e=this.scope?this.logger.scope(this.scope):this.logger;e?.[this.level]?.(...n)}}}},4866:(e,t,r)=>{"use strict";const n=r(2081),o=r(2037),i=r(1017),s=r(4582);e.exports=class{appName=void 0;appPackageJson=void 0;platform=process.platform;getAppLogPath(e=this.getAppName()){return"darwin"===this.platform?i.join(this.getSystemPathHome(),"Library/Logs",e):i.join(this.getAppUserDataPath(e),"logs")}getAppName(){const e=this.appName||this.getAppPackageJson()?.name;if(!e)throw new Error("electron-log can't determine the app name. It tried these methods:\n1. Use `electron.app.name`\n2. Use productName or name from the nearest package.json`\nYou can also set it through log.transports.file.setAppName()");return e}getAppPackageJson(){return"object"!=typeof this.appPackageJson&&(this.appPackageJson=s.findAndReadPackageJson()),this.appPackageJson}getAppUserDataPath(e=this.getAppName()){return e?i.join(this.getSystemPathAppData(),e):void 0}getAppVersion(){return this.getAppPackageJson()?.version}getElectronLogPath(){return this.getAppLogPath()}getMacOsVersion(){const e=Number(o.release().split(".")[0]);return e<=19?"10."+(e-4):e-9}getOsVersion(){let e=o.type().replace("_"," "),t=o.release();return"Darwin"===e&&(e="macOS",t=this.getMacOsVersion()),`${e} ${t}`}getPathVariables(){const e=this.getAppName(),t=this.getAppVersion(),r=this;return{appData:this.getSystemPathAppData(),appName:e,appVersion:t,get electronDefaultDir(){return r.getElectronLogPath()},home:this.getSystemPathHome(),libraryDefaultDir:this.getAppLogPath(e),libraryTemplate:this.getAppLogPath("{appName}"),temp:this.getSystemPathTemp(),userData:this.getAppUserDataPath(e)}}getSystemPathAppData(){const e=this.getSystemPathHome();switch(this.platform){case"darwin":return i.join(e,"Library/Application Support");case"win32":return process.env.APPDATA||i.join(e,"AppData/Roaming");default:return process.env.XDG_CONFIG_HOME||i.join(e,".config")}}getSystemPathHome(){return o.homedir?.()||process.env.HOME}getSystemPathTemp(){return o.tmpdir()}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:void 0,os:this.getOsVersion()}}isDev(){return"1"===process.env.ELECTRON_IS_DEV}isElectron(){return Boolean(process.versions.electron)}onAppEvent(e,t){}onAppReady(e){e()}onEveryWebContentsEvent(e,t){}onIpc(e,t){}onIpcInvoke(e,t){}openUrl(e,t=console.error){const r={darwin:"open",win32:"start",linux:"xdg-open"}[process.platform]||"xdg-open";n.exec(`${r} ${e}`,{},(e=>{e&&t(e)}))}setAppName(e){this.appName=e}setPlatform(e){this.platform=e}setPreloadFileForSessions({filePath:e,includeFutureSession:t=!0,getSessions:r=()=>[]}){}sendIpc(e,t){}showErrorBox(e,t){}}},194:(e,t,r)=>{"use strict";const n=r(3253),o=r(8259),i=r(9160),s=r(4745),a=r(5553),l=r(6583),c=r(2631);e.exports=function({dependencies:e,initializeFn:t}){const r=new n({dependencies:e,errorHandler:new o,eventLogger:new i,initializeFn:t,isDev:e.externalApi?.isDev(),logId:"default",transportFactories:{console:s,file:a,ipc:l,remote:c},variables:{processType:"main"}});return r.default=r,r.Logger=n,r.processInternalErrorFn=e=>{r.transports.console.writeFn({message:{data:["Unhandled electron-log error",e],level:"error"}})},r}},5411:(e,t,r)=>{"use strict";const n=r(4866),o=r(194)({dependencies:{externalApi:new n}});e.exports=o},4582:(e,t,r)=>{"use strict";const n=r(7147),o=r(1017);function i(...e){if(e[0])try{const t=function(e,t){let r=t;for(;;){const t=o.parse(r),i=t.root,s=t.dir;if(n.existsSync(o.join(r,e)))return o.resolve(o.join(r,e));if(r===i)return null;r=s}}("package.json",o.join(...e));if(!t)return;const r=JSON.parse(n.readFileSync(t,"utf8")),i=r?.productName||r?.name;if(!i||"electron"===i.toLowerCase())return;return i?{name:i,version:r?.version}:void 0}catch(e){return}}e.exports={findAndReadPackageJson:function(){return i(function(){try{return r.c[r.s]?.filename}catch{return}}())||i(function(){const e=process.argv.filter((e=>0===e.indexOf("--user-data-dir=")));if(0===e.length||"string"!=typeof e[0])return null;return e[0].replace("--user-data-dir=","")}())||i(process.resourcesPath,"app.asar")||i(process.resourcesPath,"app")||i(process.cwd())||{name:void 0,version:void 0}},tryReadJsonAt:i}},9976:(e,t,r)=>{"use strict";const n=r(3837);function o(e={}){const t=new WeakSet;return function(r,n){if("object"==typeof n&&null!==n){if(t.has(n))return;t.add(n)}return i(r,n,e)}}function i(e,t,r={}){const n=!1!==r?.serializeMapAndSet;return t instanceof Error?t.stack:t?"function"==typeof t?`[function] ${t.toString()}`:t instanceof Date?t.toISOString():n&&t instanceof Map&&Object.fromEntries?Object.fromEntries(t):n&&t instanceof Set&&Array.from?Array.from(t):t:t}e.exports={serialize:i,maxDepth({data:t,transport:r,depth:n=r?.depth??6}){if(!t)return t;if(n<1)return Array.isArray(t)?"[array]":"object"==typeof t&&t?"[object]":t;if(Array.isArray(t))return t.map((t=>e.exports.maxDepth({data:t,depth:n-1})));if("object"!=typeof t)return t;if(t&&"function"==typeof t.toISOString)return t;if(null===t)return null;if(t instanceof Error)return t;const o={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=e.exports.maxDepth({data:t[r],depth:n-1}));return o},toJSON:({data:e})=>JSON.parse(JSON.stringify(e,o())),toString({data:e,transport:t}){const r=t?.inspectOptions||{},i=e.map((e=>{if(void 0!==e)try{const t=JSON.stringify(e,o(),"  ");return void 0===t?void 0:JSON.parse(t)}catch(t){return e}}));return n.formatWithOptions(r,...i)}}},4745:(e,t,r)=>{"use strict";const{concatFirstStringElements:n,format:o}=r(9189),{maxDepth:i,toJSON:s}=r(9976),{applyAnsiStyles:a,removeStyles:l}=r(4021),{transform:c}=r(8460),u={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};e.exports=d;const p=`%c{h}:{i}:{s}.{ms}{scope}%c ${"win32"===process.platform?">":"\u203a"} {text}`;function d(e){return Object.assign((function t(r){const n=c({logger:e,message:r,transport:t});t.writeFn({message:{...r,data:n}})}),{format:p,level:"silly",transforms:[h,o,f,n,i,s],useStyles:process.env.FORCE_STYLES,writeFn({message:e}){(u[e.level]||u.info)(...e.data)}})}function h({data:e,message:t,transport:r}){return r.format!==p?e:[`color:${g(t.level)}`,"color:unset",...e]}function f(e){const{message:t,transport:r}=e;return(function(e,t){if("boolean"==typeof e)return e;const r="error"===t||"warn"===t?process.stderr:process.stdout;return r&&r.isTTY}(r.useStyles,t.level)?a:l)(e)}function g(e){const t={error:"red",warn:"yellow",info:"cyan",default:"unset"};return t[e]||t.default}Object.assign(d,{DEFAULT_FORMAT:p})},3173:(e,t,r)=>{"use strict";const n=r(2361),o=r(7147),i=r(2037);e.exports=class extends n{asyncWriteQueue=[];bytesWritten=0;hasActiveAsyncWriting=!1;path=null;initialSize=void 0;writeOptions=null;writeAsync=!1;constructor({path:e,writeOptions:t={encoding:"utf8",flag:"a",mode:438},writeAsync:r=!1}){super(),this.path=e,this.writeOptions=t,this.writeAsync=r}get size(){return this.getSize()}clear(){try{return o.writeFileSync(this.path,"",{mode:this.writeOptions.mode,flag:"w"}),this.reset(),!0}catch(e){return"ENOENT"===e.code||(this.emit("error",e,this),!1)}}crop(e){try{const t=function(e,t){const r=Buffer.alloc(t),n=o.statSync(e),i=Math.min(n.size,t),s=Math.max(0,n.size-t),a=o.openSync(e,"r"),l=o.readSync(a,r,0,i,s);return o.closeSync(a),r.toString("utf8",0,l)}(this.path,e||4096);this.clear(),this.writeLine(`[log cropped]${i.EOL}${t}`)}catch(e){this.emit("error",new Error(`Couldn't crop file ${this.path}. ${e.message}`),this)}}getSize(){if(void 0===this.initialSize)try{const e=o.statSync(this.path);this.initialSize=e.size}catch(e){this.initialSize=0}return this.initialSize+this.bytesWritten}increaseBytesWrittenCounter(e){this.bytesWritten+=Buffer.byteLength(e,this.writeOptions.encoding)}isNull(){return!1}nextAsyncWrite(){const e=this;if(this.hasActiveAsyncWriting||0===this.asyncWriteQueue.length)return;const t=this.asyncWriteQueue.join("");this.asyncWriteQueue=[],this.hasActiveAsyncWriting=!0,o.writeFile(this.path,t,this.writeOptions,(r=>{e.hasActiveAsyncWriting=!1,r?e.emit("error",new Error(`Couldn't write to ${e.path}. ${r.message}`),this):e.increaseBytesWrittenCounter(t),e.nextAsyncWrite()}))}reset(){this.initialSize=void 0,this.bytesWritten=0}toString(){return this.path}writeLine(e){if(e+=i.EOL,this.writeAsync)return this.asyncWriteQueue.push(e),void this.nextAsyncWrite();try{o.writeFileSync(this.path,e,this.writeOptions),this.increaseBytesWrittenCounter(e)}catch(e){this.emit("error",new Error(`Couldn't write to ${this.path}. ${e.message}`),this)}}}},6207:(e,t,r)=>{"use strict";const n=r(2361),o=r(7147),i=r(1017),s=r(3173),a=r(2158);e.exports=class extends n{store={};constructor(){super(),this.emitError=this.emitError.bind(this)}provide({filePath:e,writeOptions:t={},writeAsync:r=!1}){let n;try{if(e=i.resolve(e),this.store[e])return this.store[e];n=this.createFile({filePath:e,writeOptions:t,writeAsync:r})}catch(t){n=new a({path:e}),this.emitError(t,n)}return n.on("error",this.emitError),this.store[e]=n,n}createFile({filePath:e,writeOptions:t,writeAsync:r}){return this.testFileWriting({filePath:e,writeOptions:t}),new s({path:e,writeOptions:t,writeAsync:r})}emitError(e,t){this.emit("error",e,t)}testFileWriting({filePath:e,writeOptions:t}){o.mkdirSync(i.dirname(e),{recursive:!0}),o.writeFileSync(e,"",{flag:"a",mode:t.mode})}}},2158:(e,t,r)=>{"use strict";const n=r(3173);e.exports=class extends n{clear(){}crop(){}getSize(){return 0}isNull(){return!0}writeLine(){}}},5553:(e,t,r)=>{"use strict";const n=r(7147),o=r(2037),i=r(1017),s=r(6207),{transform:a}=r(8460),{removeStyles:l}=r(4021),{format:c,concatFirstStringElements:u}=r(9189),{toString:p}=r(9976);e.exports=function(e,{registry:t=d,externalApi:r}={}){let s;t.listenerCount("error")<1&&t.on("error",((e,t)=>{m(`Can't write to ${t}`,e)}));return Object.assign(f,{fileName:h(e.variables.processType),format:"[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}",getFile:y,inspectOptions:{depth:5},level:"silly",maxSize:1048576,readAllLogs:function({fileFilter:e=e=>e.endsWith(".log")}={}){g();const t=i.dirname(f.resolvePathFn(s));if(!n.existsSync(t))return[];return n.readdirSync(t).map((e=>i.join(t,e))).filter(e).map((e=>{try{return{path:e,lines:n.readFileSync(e,"utf8").split(o.EOL)}}catch{return null}})).filter(Boolean)},sync:!0,transforms:[l,c,u,p],writeOptions:{flag:"a",mode:438,encoding:"utf8"},archiveLogFn(e){const t=e.toString(),r=i.parse(t);try{n.renameSync(t,i.join(r.dir,`${r.name}.old${r.ext}`))}catch(t){m("Could not rotate log",t);const r=Math.round(f.maxSize/4);e.crop(Math.min(r,262144))}},resolvePathFn:e=>i.join(e.libraryDefaultDir,e.fileName),setAppName(t){e.dependencies.externalApi.setAppName(t)}});function f(t){const r=y(t);f.maxSize>0&&r.size>f.maxSize&&(f.archiveLogFn(r),r.reset());const n=a({logger:e,message:t,transport:f});r.writeLine(n)}function g(){s||(s=Object.create(Object.prototype,{...Object.getOwnPropertyDescriptors(r.getPathVariables()),fileName:{get:()=>f.fileName,enumerable:!0}}),"function"==typeof f.archiveLog&&(f.archiveLogFn=f.archiveLog,m("archiveLog is deprecated. Use archiveLogFn instead")),"function"==typeof f.resolvePath&&(f.resolvePathFn=f.resolvePath,m("resolvePath is deprecated. Use resolvePathFn instead")))}function m(t,r=null,n="error"){const o=[`electron-log.transports.file: ${t}`];r&&o.push(r),e.transports.console({data:o,date:new Date,level:n})}function y(e){g();const r=f.resolvePathFn(s,e);return t.provide({filePath:r,writeAsync:!f.sync,writeOptions:f.writeOptions})}};const d=new s;function h(e=process.type){switch(e){case"renderer":return"renderer.log";case"worker":return"worker.log";default:return"main.log"}}},6583:(e,t,r)=>{"use strict";const{maxDepth:n,toJSON:o}=r(9976),{transform:i}=r(8460);e.exports=function(e,{externalApi:t}){return Object.assign(r,{depth:3,eventId:"__ELECTRON_LOG_IPC__",level:!!e.isDev&&"silly",transforms:[o,n]}),t?.isElectron()?r:void 0;function r(n){"renderer"!==n?.variables?.processType&&t?.sendIpc(r.eventId,{...n,data:i({logger:e,message:n,transport:r})})}}},2631:(e,t,r)=>{"use strict";const n=r(3685),o=r(5687),{transform:i}=r(8460),{removeStyles:s}=r(4021),{toJSON:a,maxDepth:l}=r(9976);e.exports=function(e){return Object.assign(t,{client:{name:"electron-application"},depth:6,level:!1,requestOptions:{},transforms:[s,a,l],makeBodyFn:({message:e})=>JSON.stringify({client:t.client,data:e.data,date:e.date.getTime(),level:e.level,scope:e.scope,variables:e.variables}),processErrorFn({error:r}){e.processMessage({data:[`electron-log: can't POST ${t.url}`,r],level:"warn"},{transports:["console","file"]})},sendRequestFn({serverUrl:e,requestOptions:t,body:r}){const i=(e.startsWith("https:")?o:n).request(e,{method:"POST",...t,headers:{"Content-Type":"application/json","Content-Length":r.length,...t.headers}});return i.write(r),i.end(),i}});function t(r){if(!t.url)return;const n=t.makeBodyFn({logger:e,message:{...r,data:i({logger:e,message:r,transport:t})},transport:t}),o=t.sendRequestFn({serverUrl:t.url,requestOptions:t.requestOptions,body:Buffer.from(n,"utf8")});o.on("error",(n=>t.processErrorFn({error:n,logger:e,message:r,request:o,transport:t})))}}},968:(e,t,r)=>{"use strict";let n={};try{n=r(2298)}catch(e){}function o({contextBridge:e,ipcRenderer:t}){if(!t)return;t.on("__ELECTRON_LOG_IPC__",((e,t)=>{window.postMessage({cmd:"message",...t})})),t.invoke("__ELECTRON_LOG__",{cmd:"getOptions"}).catch((e=>console.error(new Error(`electron-log isn't initialized in the main process. Please call log.initialize() before. ${e.message}`))));const r={sendToMain(e){try{t.send("__ELECTRON_LOG__",e)}catch(r){console.error("electronLog.sendToMain ",r,"data:",e),t.send("__ELECTRON_LOG__",{cmd:"errorHandler",error:{message:r?.message,stack:r?.stack},errorName:"sendToMain"})}},log(...e){r.sendToMain({data:e,level:"info"})}};for(const e of["error","warn","info","verbose","debug","silly"])r[e]=(...t)=>r.sendToMain({data:t,level:e});if(e&&process.contextIsolated)try{e.exposeInMainWorld("__electronLog",r)}catch{}"object"==typeof window?window.__electronLog=r:__electronLog=r}n.ipcRenderer&&o(n),e.exports=o},43:(e,t,r)=>{"use strict";const n=r(3253),o=r(9264),i=r(9621),s=r(7728);e.exports=function(){const e=new n({allowUnknownLevel:!0,errorHandler:new o,initializeFn:()=>{},logId:"default",transportFactories:{console:i,ipc:s},variables:{processType:"renderer"}});e.errorHandler.setOptions({logFn({error:t,errorName:r,showDialog:n}){e.transports.console({data:[r,t].filter(Boolean),level:"error"}),e.transports.ipc({cmd:"errorHandler",error:{cause:t?.cause,code:t?.code,name:t?.name,message:t?.message,stack:t?.stack},errorName:r,logId:e.logId,showDialog:n})}}),"object"==typeof window&&window.addEventListener("message",(e=>{const{cmd:t,logId:r,...o}=e.data||{},i=n.getInstance({logId:r});"message"===t&&i.processMessage(o,{transports:["console"]})}));return new Proxy(e,{get:(t,r)=>void 0!==t[r]?t[r]:(...t)=>e.logData(t,{level:r})})}(),e.exports.Logger=n,e.exports.default=e.exports},9264:e=>{"use strict";const t=console.error;e.exports=class{logFn=null;onError=null;showDialog=!1;preventDefault=!0;constructor({logFn:e=null}={}){this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.startCatching=this.startCatching.bind(this),this.logFn=e}handle(e,{logFn:r=this.logFn,errorName:n="",onError:o=this.onError,showDialog:i=this.showDialog}={}){try{!1!==o?.({error:e,errorName:n,processType:"renderer"})&&r({error:e,errorName:n,showDialog:i})}catch{t(e)}}setOptions({logFn:e,onError:t,preventDefault:r,showDialog:n}){"function"==typeof e&&(this.logFn=e),"function"==typeof t&&(this.onError=t),"boolean"==typeof r&&(this.preventDefault=r),"boolean"==typeof n&&(this.showDialog=n)}startCatching({onError:e,showDialog:t}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:e,showDialog:t}),window.addEventListener("error",(e=>{this.preventDefault&&e.preventDefault?.(),this.handleError(e.error||e)})),window.addEventListener("unhandledrejection",(e=>{this.preventDefault&&e.preventDefault?.(),this.handleRejection(e.reason||e)})))}handleError(e){this.handle(e,{errorName:"Unhandled"})}handleRejection(e){const t=e instanceof Error?e:new Error(JSON.stringify(e));this.handle(t,{errorName:"Unhandled rejection"})}}},9621:(e,t,r)=>{"use strict";const{transform:n}=r(8460);e.exports=function(e){return Object.assign((function t(r){t.writeFn({message:{...r,data:n({logger:e,message:r,transport:t})}})}),{format:"{h}:{i}:{s}.{ms}{scope} \u203a {text}",transforms:[i],writeFn({message:{level:e,data:t}}){const r=o[e]||o.info;setTimeout((()=>r(...t)))}})};const o={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};function i({data:e=[],logger:t={},message:r={},transport:n={}}){if("function"==typeof n.format)return n.format({data:e,level:r?.level||"info",logger:t,message:r,transport:n});if("string"!=typeof n.format)return e;e.unshift(n.format),"string"==typeof e[1]&&e[1].match(/%[1cdfiOos]/)&&(e=[`${e[0]} ${e[1]}`,...e.slice(2)]);const o=r.date||new Date;return e[0]=e[0].replace(/\{(\w+)}/g,((e,n)=>{switch(n){case"level":return r.level;case"logId":return r.logId;case"scope":{const e=r.scope||t.scope?.defaultLabel;return e?` (${e})`:""}case"text":return"";case"y":return o.getFullYear().toString(10);case"m":return(o.getMonth()+1).toString(10).padStart(2,"0");case"d":return o.getDate().toString(10).padStart(2,"0");case"h":return o.getHours().toString(10).padStart(2,"0");case"i":return o.getMinutes().toString(10).padStart(2,"0");case"s":return o.getSeconds().toString(10).padStart(2,"0");case"ms":return o.getMilliseconds().toString(10).padStart(3,"0");case"iso":return o.toISOString();default:return r.variables?.[n]||e}})).trim(),e}},7728:(e,t,r)=>{"use strict";const{transform:n}=r(8460);e.exports=function(e){return Object.assign((function t(r){if(!window.__electronLog)return void e.processMessage({data:["electron-log: logger isn't initialized in the main process"],level:"error"},{transports:["console"]});try{const o=n({initialData:r,logger:e,message:r,transport:t});__electronLog.sendToMain(o)}catch(t){e.transports.console({data:["electronLog.transports.ipc",t,"data:",r.data],level:"error"})}}),{depth:5,transforms:[s]})};const o=new Set([Promise,WeakMap,WeakSet]);function i(e){return Object(e)!==e}function s({data:e,depth:t,seen:r=new WeakSet,transport:n={}}={}){const a=t||n.depth||5;return r.has(e)?"[Circular]":a<1?i(e)?e:Array.isArray(e)?"[Array]":`[${typeof e}]`:["function","symbol"].includes(typeof e)?e.toString():i(e)?e:o.has(e.constructor)?`[${e.constructor.name}]`:Array.isArray(e)?e.map((e=>s({data:e,depth:a-1,seen:r}))):e instanceof Date?e.toISOString():e instanceof Error?e.stack:e instanceof Map?new Map(Array.from(e).map((([e,t])=>[s({data:e,depth:a-1,seen:r}),s({data:t,depth:a-1,seen:r})]))):e instanceof Set?new Set(Array.from(e).map((e=>s({data:e,depth:a-1,seen:r})))):(r.add(e),Object.fromEntries(Object.entries(e).map((([e,t])=>[e,s({data:t,depth:a-1,seen:r})]))))}},3749:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppCacheDir=function(){const e=(0,o.homedir)();let t;t="win32"===process.platform?process.env.LOCALAPPDATA||n.join(e,"AppData","Local"):"darwin"===process.platform?n.join(e,"Library","Caches"):process.env.XDG_CACHE_HOME||n.join(e,".cache");return t};const n=r(1017),o=r(2037)},3974:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppImageUpdater=void 0;const n=r(9517),o=r(2081),i=r(2877),s=r(7147),a=r(1017),l=r(1088),c=r(4755),u=r(2080),p=r(4663);class d extends l.BaseUpdater{constructor(e,t){super(e,t)}isUpdaterActive(){return null==process.env.APPIMAGE?(null==process.env.SNAP?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(e){const t=e.updateInfoAndProvider.provider,r=(0,p.findFile)(t.resolveFiles(e.updateInfoAndProvider.info),"AppImage",["rpm","deb"]);return this.executeDownload({fileExtension:"AppImage",fileInfo:r,downloadUpdateOptions:e,task:async(o,s)=>{const a=process.env.APPIMAGE;if(null==a)throw(0,n.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let l=!1;try{const n={newUrl:r.url,oldFile:a,logger:this._logger,newFile:o,isUseMultipleRangeRequest:t.isUseMultipleRangeRequest,requestHeaders:e.requestHeaders,cancellationToken:e.cancellationToken};this.listenerCount(u.DOWNLOAD_PROGRESS)>0&&(n.onProgress=e=>this.emit(u.DOWNLOAD_PROGRESS,e)),await new c.FileWithEmbeddedBlockMapDifferentialDownloader(r.info,this.httpExecutor,n).download()}catch(e){this._logger.error(`Cannot download differentially, fallback to full download: ${e.stack||e}`),l="linux"===process.platform}l&&await this.httpExecutor.download(r.url,o,s),await(0,i.chmod)(o,493)}})}doInstall(e){const t=process.env.APPIMAGE;if(null==t)throw(0,n.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let r;(0,s.unlinkSync)(t);const i=a.basename(t);r=a.basename(e.installerPath)!==i&&/\d+\.\d+\.\d+/.test(i)?a.join(a.dirname(t),a.basename(e.installerPath)):t,(0,o.execFileSync)("mv",["-f",e.installerPath,r]),r!==t&&this.emit("appimage-filename-updated",r);const l={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return e.isForceRunAfter?this.spawnLog(r,[],l):(l.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,o.execFileSync)(r,[],{env:l})),!0}}t.AppImageUpdater=d},2787:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpLogger=t.AppUpdater=void 0;const n=r(9517),o=r(6113),i=r(2037),s=r(2361),a=r(2877),l=r(97),c=r(4908),u=r(1017),p=r(7968),d=r(8901),h=r(3401),f=r(5561),g=r(5711),m=r(2080),y=r(1220),v=r(9796),w=r(5707),b=r(5877);class E extends s.EventEmitter{get channel(){return this._channel}set channel(e){if(null!=this._channel){if("string"!=typeof e)throw(0,n.newError)(`Channel must be a string, but got: ${e}`,"ERR_UPDATER_INVALID_CHANNEL");if(0===e.length)throw(0,n.newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=e,this.allowDowngrade=!0}addAuthHeader(e){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:e})}get netSession(){return(0,f.getNetSession)()}get logger(){return this._logger}set logger(e){this._logger=null==e?new S:e}set updateConfigPath(e){this.clientPromise=null,this._appUpdateConfigPath=e,this.configOnDisk=new c.Lazy((()=>this.loadUpdateConfig()))}constructor(e,t){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.disableDifferentialDownload=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new m.UpdaterSignal(this),this._appUpdateConfigPath=null,this.clientPromise=null,this.stagingUserIdPromise=new c.Lazy((()=>this.getOrCreateStagingUserId())),this.configOnDisk=new c.Lazy((()=>this.loadUpdateConfig())),this.checkForUpdatesPromise=null,this.downloadPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",(e=>{this._logger.error(`Error: ${e.stack||e.message}`)})),null==t?(this.app=new h.ElectronAppAdapter,this.httpExecutor=new f.ElectronHttpExecutor(((e,t)=>this.emit("login",e,t)))):(this.app=t,this.httpExecutor=null);const r=this.app.version,o=(0,p.parse)(r);if(null==o)throw(0,n.newError)(`App version is not a valid semver version: "${r}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=o,this.allowPrerelease=function(e){const t=(0,p.prerelease)(e);return null!=t&&t.length>0}(o),null!=e&&(this.setFeedURL(e),"string"!=typeof e&&e.requestHeaders&&(this.requestHeaders=e.requestHeaders))}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(e){const t=this.createProviderRuntimeOptions();let r;r="string"==typeof e?new g.GenericProvider({provider:"generic",url:e},this,{...t,isUseMultipleRangeRequest:(0,y.isUrlProbablySupportMultiRangeRequests)(e)}):(0,y.createClient)(e,this,t),this.clientPromise=Promise.resolve(r)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let e=this.checkForUpdatesPromise;if(null!=e)return this._logger.info("Checking for update (already in progress)"),e;const t=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),e=this.doCheckForUpdates().then((e=>(t(),e))).catch((e=>{throw t(),this.emit("error",e,`Cannot check for updates: ${(e.stack||e).toString()}`),e})),this.checkForUpdatesPromise=e,e}isUpdaterActive(){return!(!this.app.isPackaged&&!this.forceDevUpdateConfig)||(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(e){return this.checkForUpdates().then((t=>(null==t?void 0:t.downloadPromise)?(t.downloadPromise.then((()=>{const n=E.formatDownloadNotification(t.updateInfo.version,this.app.name,e);new(r(2298).Notification)(n).show()})),t):(null!=this._logger.debug&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),t)))}static formatDownloadNotification(e,t,r){return null==r&&(r={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),r={title:r.title.replace("{appName}",t).replace("{version}",e),body:r.body.replace("{appName}",t).replace("{version}",e)}}async isStagingMatch(e){const t=e.stagingPercentage;let r=t;if(null==r)return!0;if(r=parseInt(r,10),isNaN(r))return this._logger.warn(`Staging percentage is NaN: ${t}`),!0;r/=100;const o=await this.stagingUserIdPromise.value,i=n.UUID.parse(o).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${r}, percentage: ${i}, user id: ${o}`),i<r}computeFinalHeaders(e){return null!=this.requestHeaders&&Object.assign(e,this.requestHeaders),e}async isUpdateAvailable(e){const t=(0,p.parse)(e.version);if(null==t)throw(0,n.newError)(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${e.version}"`,"ERR_UPDATER_INVALID_VERSION");const r=this.currentVersion;if((0,p.eq)(t,r))return!1;const o=null==e?void 0:e.minimumSystemVersion,s=(0,i.release)();if(o)try{if((0,p.lt)(s,o))return this._logger.info(`Current OS version ${s} is less than the minimum OS version required ${o} for version ${s}`),!1}catch(e){this._logger.warn(`Failed to compare current OS version(${s}) with minimum OS version(${o}): ${(e.message||e).toString()}`)}if(!await this.isStagingMatch(e))return!1;const a=(0,p.gt)(t,r),l=(0,p.lt)(t,r);return!!a||this.allowDowngrade&&l}async getUpdateInfoAndProvider(){await this.app.whenReady(),null==this.clientPromise&&(this.clientPromise=this.configOnDisk.value.then((e=>(0,y.createClient)(e,this,this.createProviderRuntimeOptions()))));const e=await this.clientPromise,t=await this.stagingUserIdPromise.value;return e.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":t})),{info:await e.getLatestVersion(),provider:e}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:null==this._testOnlyOptions?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const e=await this.getUpdateInfoAndProvider(),t=e.info;if(!await this.isUpdateAvailable(t))return this._logger.info(`Update for version ${this.currentVersion.format()} is not available (latest version: ${t.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",t),{versionInfo:t,updateInfo:t};this.updateInfoAndProvider=e,this.onUpdateAvailable(t);const r=new n.CancellationToken;return{versionInfo:t,updateInfo:t,cancellationToken:r,downloadPromise:this.autoDownload?this.downloadUpdate(r):null}}onUpdateAvailable(e){this._logger.info(`Found version ${e.version} (url: ${(0,n.asArray)(e.files).map((e=>e.url)).join(", ")})`),this.emit("update-available",e)}downloadUpdate(e=new n.CancellationToken){const t=this.updateInfoAndProvider;if(null==t){const e=new Error("Please check update first");return this.dispatchError(e),Promise.reject(e)}if(null!=this.downloadPromise)return this._logger.info("Downloading update (already in progress)"),this.downloadPromise;this._logger.info(`Downloading update from ${(0,n.asArray)(t.info.files).map((e=>e.url)).join(", ")}`);const r=e=>{if(!(e instanceof n.CancellationError))try{this.dispatchError(e)}catch(e){this._logger.warn(`Cannot dispatch error event: ${e.stack||e}`)}return e};return this.downloadPromise=this.doDownloadUpdate({updateInfoAndProvider:t,requestHeaders:this.computeRequestHeaders(t.provider),cancellationToken:e,disableWebInstaller:this.disableWebInstaller,disableDifferentialDownload:this.disableDifferentialDownload}).catch((e=>{throw r(e)})).finally((()=>{this.downloadPromise=null})),this.downloadPromise}dispatchError(e){this.emit("error",e,(e.stack||e).toString())}dispatchUpdateDownloaded(e){this.emit(m.UPDATE_DOWNLOADED,e)}async loadUpdateConfig(){return null==this._appUpdateConfigPath&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,l.load)(await(0,a.readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(e){const t=e.fileExtraDownloadHeaders;if(null!=t){const e=this.requestHeaders;return null==e?t:{...t,...e}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const e=u.join(this.app.userDataPath,".updaterId");try{const t=await(0,a.readFile)(e,"utf-8");if(n.UUID.check(t))return t;this._logger.warn(`Staging user id file exists, but content was invalid: ${t}`)}catch(e){"ENOENT"!==e.code&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${e}`)}const t=n.UUID.v5((0,o.randomBytes)(4096),n.UUID.OID);this._logger.info(`Generated new staging user ID: ${t}`);try{await(0,a.outputFile)(e,t)}catch(e){this._logger.warn(`Couldn't write out staging user ID: ${e}`)}return t}get isAddNoCacheQuery(){const e=this.requestHeaders;if(null==e)return!0;for(const t of Object.keys(e)){const e=t.toLowerCase();if("authorization"===e||"private-token"===e)return!1}return!0}async getOrCreateDownloadHelper(){let e=this.downloadedUpdateHelper;if(null==e){const t=(await this.configOnDisk.value).updaterCacheDirName,r=this._logger;null==t&&r.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const n=u.join(this.app.baseCachePath,t||this.app.name);null!=r.debug&&r.debug(`updater cache dir: ${n}`),e=new d.DownloadedUpdateHelper(n),this.downloadedUpdateHelper=e}return e}async executeDownload(e){const t=e.fileInfo,r={headers:e.downloadUpdateOptions.requestHeaders,cancellationToken:e.downloadUpdateOptions.cancellationToken,sha2:t.info.sha2,sha512:t.info.sha512};this.listenerCount(m.DOWNLOAD_PROGRESS)>0&&(r.onProgress=e=>this.emit(m.DOWNLOAD_PROGRESS,e));const o=e.downloadUpdateOptions.updateInfoAndProvider.info,i=o.version,s=t.packageInfo;const l=await this.getOrCreateDownloadHelper(),c=l.cacheDirForPendingUpdate;await(0,a.mkdir)(c,{recursive:!0});const p=function(){const t=decodeURIComponent(e.fileInfo.url.pathname);return t.endsWith(`.${e.fileExtension}`)?u.basename(t):e.fileInfo.info.url}();let h=u.join(c,p);const f=null==s?null:u.join(c,`package-${i}${u.extname(s.path)||".7z"}`),g=async r=>(await l.setDownloadedFile(h,f,o,t,p,r),await e.done({...o,downloadedFile:h}),null==f?[h]:[h,f]),y=this._logger,v=await l.validateDownloadedPath(h,o,t,y);if(null!=v)return h=v,await g(!1);const w=async()=>(await l.clear().catch((()=>{})),await(0,a.unlink)(h).catch((()=>{}))),b=await(0,d.createTempUpdateFile)(`temp-${p}`,c,y);try{await e.task(b,r,f,w),await(0,n.retry)((()=>(0,a.rename)(b,h)),60,500,0,0,(e=>e instanceof Error&&/^EBUSY:/.test(e.message)))}catch(e){throw await w(),e instanceof n.CancellationError&&(y.info("cancelled"),this.emit("update-cancelled",o)),e}return y.info(`New version ${i} has been downloaded to ${h}`),await g(!0)}async differentialDownloadInstaller(e,t,r,n,o){try{if(null!=this._testOnlyOptions&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const i=(0,w.blockmapFiles)(e.url,this.app.version,t.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${i[0]}", new: ${i[1]})`);const s=async e=>{const r=await this.httpExecutor.downloadToBuffer(e,{headers:t.requestHeaders,cancellationToken:t.cancellationToken});if(null==r||0===r.length)throw new Error(`Blockmap "${e.href}" is empty`);try{return JSON.parse((0,v.gunzipSync)(r).toString())}catch(t){throw new Error(`Cannot parse blockmap "${e.href}", error: ${t}`)}},a={newUrl:e.url,oldFile:u.join(this.downloadedUpdateHelper.cacheDir,o),logger:this._logger,newFile:r,isUseMultipleRangeRequest:n.isUseMultipleRangeRequest,requestHeaders:t.requestHeaders,cancellationToken:t.cancellationToken};this.listenerCount(m.DOWNLOAD_PROGRESS)>0&&(a.onProgress=e=>this.emit(m.DOWNLOAD_PROGRESS,e));const l=await Promise.all(i.map((e=>s(e))));return await new b.GenericDifferentialDownloader(e.info,this.httpExecutor,a).download(l[0],l[1]),!1}catch(e){if(this._logger.error(`Cannot download differentially, fallback to full download: ${e.stack||e}`),null!=this._testOnlyOptions)throw e;return!0}}}t.AppUpdater=E;class S{info(e){}warn(e){}error(e){}}t.NoOpLogger=S},1088:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseUpdater=void 0;const n=r(2081),o=r(2787);class i extends o.AppUpdater{constructor(e,t){super(e,t),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(e=!1,t=!1){this._logger.info("Install on explicit quitAndInstall");this.install(e,e?t:this.autoRunAppAfterInstall)?setImmediate((()=>{r(2298).autoUpdater.emit("before-quit-for-update"),this.app.quit()})):this.quitAndInstallCalled=!1}executeDownload(e){return super.executeDownload({...e,done:e=>(this.dispatchUpdateDownloaded(e),this.addQuitHandler(),Promise.resolve())})}install(e=!1,t=!1){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const r=this.downloadedUpdateHelper,n=r&&r.file?"linux"===process.platform?r.file.replace(/ /g,"\\ "):r.file:null,o=null==r?null:r.downloadedFileInfo;if(null==n||null==o)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${e}, isForceRunAfter: ${t}`),this.doInstall({installerPath:n,isSilent:e,isForceRunAfter:t,isAdminRightsRequired:o.isAdminRightsRequired})}catch(e){return this.dispatchError(e),!1}}addQuitHandler(){!this.quitHandlerAdded&&this.autoInstallOnAppQuit&&(this.quitHandlerAdded=!0,this.app.onQuit((e=>{this.quitAndInstallCalled?this._logger.info("Update installer has already been triggered. Quitting application."):this.autoInstallOnAppQuit?0===e?(this._logger.info("Auto install update on quit"),this.install(!0,!1)):this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${e}`):this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.")})))}wrapSudo(){const{name:e}=this.app,t=`"${e} would like to update"`,r=this.spawnSyncLog("which gksudo || which kdesudo || which pkexec || which beesu"),n=[r];return/kdesudo/i.test(r)?(n.push("--comment",t),n.push("-c")):/gksudo/i.test(r)?n.push("--message",t):/pkexec/i.test(r)&&n.push("--disable-internal-agent"),n.join(" ")}spawnSyncLog(e,t=[],r={}){this._logger.info(`Executing: ${e} with args: ${t}`);return(0,n.spawnSync)(e,t,{env:{...process.env,...r},encoding:"utf-8",shell:!0}).stdout.trim()}async spawnLog(e,t=[],r=void 0,o="ignore"){return this._logger.info(`Executing: ${e} with args: ${t}`),new Promise(((i,s)=>{try{const a={stdio:o,env:r,detached:!0},l=(0,n.spawn)(e,t,a);l.on("error",(e=>{s(e)})),l.unref(),void 0!==l.pid&&i(!0)}catch(e){s(e)}}))}}t.BaseUpdater=i},2412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebUpdater=void 0;const n=r(1088),o=r(2080),i=r(4663);class s extends n.BaseUpdater{constructor(e,t){super(e,t)}doDownloadUpdate(e){const t=e.updateInfoAndProvider.provider,r=(0,i.findFile)(t.resolveFiles(e.updateInfoAndProvider.info),"deb",["AppImage","rpm"]);return this.executeDownload({fileExtension:"deb",fileInfo:r,downloadUpdateOptions:e,task:async(e,t)=>{this.listenerCount(o.DOWNLOAD_PROGRESS)>0&&(t.onProgress=e=>this.emit(o.DOWNLOAD_PROGRESS,e)),await this.httpExecutor.download(r.url,e,t)}})}doInstall(e){const t=this.wrapSudo(),r=/pkexec/i.test(t)?"":'"',n=["dpkg","-i",e.installerPath,"||","apt-get","install","-f","-y"];return this.spawnSyncLog(t,[`${r}/bin/bash`,"-c",`'${n.join(" ")}'${r}`]),e.isForceRunAfter&&this.app.relaunch(),!0}}t.DebUpdater=s},8901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadedUpdateHelper=void 0,t.createTempUpdateFile=async function(e,t,r){let n=0,o=a.join(t,e);for(let i=0;i<3;i++)try{return await(0,s.unlink)(o),o}catch(i){if("ENOENT"===i.code)return o;r.warn(`Error on remove temp update file: ${i}`),o=a.join(t,`${n++}-${e}`)}return o};const n=r(6113),o=r(7147),i=r(7361),s=r(2877),a=r(1017);t.DownloadedUpdateHelper=class{constructor(e){this.cacheDir=e,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return a.join(this.cacheDir,"pending")}async validateDownloadedPath(e,t,r,n){if(null!=this.versionInfo&&this.file===e&&null!=this.fileInfo)return i(this.versionInfo,t)&&i(this.fileInfo.info,r.info)&&await(0,s.pathExists)(e)?e:null;const o=await this.getValidCachedUpdateFile(r,n);return null===o?null:(n.info(`Update has already been downloaded to ${e}).`),this._file=o,o)}async setDownloadedFile(e,t,r,n,o,i){this._file=e,this._packageFile=t,this.versionInfo=r,this.fileInfo=n,this._downloadedFileInfo={fileName:o,sha512:n.info.sha512,isAdminRightsRequired:!0===n.info.isAdminRightsRequired},i&&await(0,s.outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,s.emptyDir)(this.cacheDirForPendingUpdate)}catch(e){}}async getValidCachedUpdateFile(e,t){const r=this.getUpdateInfoFile();if(!await(0,s.pathExists)(r))return null;let i;try{i=await(0,s.readJson)(r)}catch(e){let r="No cached update info available";return"ENOENT"!==e.code&&(await this.cleanCacheDirForPendingUpdate(),r+=` (error on read: ${e.message})`),t.info(r),null}if(!(null!==(null==i?void 0:i.fileName)))return t.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(e.info.sha512!==i.sha512)return t.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${i.sha512}, expected: ${e.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const l=a.join(this.cacheDirForPendingUpdate,i.fileName);if(!await(0,s.pathExists)(l))return t.info("Cached update file doesn't exist"),null;const c=await function(e,t="sha512",r="base64",i){return new Promise(((s,a)=>{const l=(0,n.createHash)(t);l.on("error",a).setEncoding(r),(0,o.createReadStream)(e,{...i,highWaterMark:1048576}).on("error",a).on("end",(()=>{l.end(),s(l.read())})).pipe(l,{end:!1})}))}(l);return e.info.sha512!==c?(t.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${c}, expected: ${e.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=i,l)}getUpdateInfoFile(){return a.join(this.cacheDirForPendingUpdate,"update-info.json")}}},3401:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElectronAppAdapter=void 0;const n=r(1017),o=r(3749);t.ElectronAppAdapter=class{constructor(e=r(2298).app){this.app=e}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return!0===this.app.isPackaged}get appUpdateConfigPath(){return this.isPackaged?n.join(process.resourcesPath,"app-update.yml"):n.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,o.getAppCacheDir)()}quit(){this.app.quit()}relaunch(){this.app.relaunch()}onQuit(e){this.app.once("quit",((t,r)=>e(r)))}}},2542:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MacUpdater=void 0;const n=r(9517),o=r(2877),i=r(7147),s=r(1017),a=r(3685),l=r(2787),c=r(4663),u=r(2081),p=r(6113);class d extends l.AppUpdater{constructor(e,t){super(e,t),this.nativeUpdater=r(2298).autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",(e=>{this._logger.warn(e),this.emit("error",e)})),this.nativeUpdater.on("update-downloaded",(()=>{this.squirrelDownloadedUpdate=!0,this.debug("nativeUpdater.update-downloaded")}))}debug(e){null!=this._logger.debug&&this._logger.debug(e)}closeServerIfExists(){this.server&&(this.debug("Closing proxy server"),this.server.close((e=>{e&&this.debug("proxy server wasn't already open, probably attempted closing again as a safety check before quit")})))}async doDownloadUpdate(e){let t=e.updateInfoAndProvider.provider.resolveFiles(e.updateInfoAndProvider.info);const r=this._logger,a="sysctl.proc_translated";let l=!1;try{this.debug("Checking for macOS Rosetta environment");l=(0,u.execFileSync)("sysctl",[a],{encoding:"utf8"}).includes(`${a}: 1`),r.info(`Checked for macOS Rosetta environment (isRosetta=${l})`)}catch(e){r.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${e}`)}let p=!1;try{this.debug("Checking for arm64 in uname");const e=(0,u.execFileSync)("uname",["-a"],{encoding:"utf8"}).includes("ARM");r.info(`Checked 'uname -a': arm64=${e}`),p=p||e}catch(e){r.warn(`uname shell command to check for arm64 failed: ${e}`)}p=p||"arm64"===process.arch||l;const d=e=>{var t;return e.url.pathname.includes("arm64")||(null===(t=e.info.url)||void 0===t?void 0:t.includes("arm64"))};t=p&&t.some(d)?t.filter((e=>p===d(e))):t.filter((e=>!d(e)));const h=(0,c.findFile)(t,"zip",["pkg","dmg"]);if(null==h)throw(0,n.newError)(`ZIP file not provided: ${(0,n.safeStringifyJson)(t)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");const f=e.updateInfoAndProvider.provider,g="update.zip";return this.executeDownload({fileExtension:"zip",fileInfo:h,downloadUpdateOptions:e,task:async(t,n)=>{const i=s.join(this.downloadedUpdateHelper.cacheDir,g);let a=!0;((0,o.pathExistsSync)(i)?!e.disableDifferentialDownload:(r.info("Unable to locate previous update.zip for differential download (is this first install?), falling back to full download"),0))&&(a=await this.differentialDownloadInstaller(h,e,t,f,g)),a&&await this.httpExecutor.download(h.url,t,n)},done:t=>{if(!e.disableDifferentialDownload)try{const e=s.join(this.downloadedUpdateHelper.cacheDir,g);(0,i.copyFileSync)(t.downloadedFile,e)}catch(e){this._logger.warn(`Unable to copy file for caching for future differential downloads: ${e.message}`)}return this.updateDownloaded(h,t)}})}async updateDownloaded(e,t){var r;const n=t.downloadedFile,s=null!==(r=e.info.size)&&void 0!==r?r:(await(0,o.stat)(n)).size,l=this._logger,c=`fileToProxy=${e.url.href}`;this.closeServerIfExists(),this.debug(`Creating proxy server for native Squirrel.Mac (${c})`),this.server=(0,a.createServer)(),this.debug(`Proxy server for native Squirrel.Mac is created (${c})`),this.server.on("close",(()=>{l.info(`Proxy server for native Squirrel.Mac is closed (${c})`)}));const u=e=>{const t=e.address();return"string"==typeof t?t:`http://127.0.0.1:${null==t?void 0:t.port}`};return await new Promise(((e,r)=>{const o=(0,p.randomBytes)(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),a=Buffer.from(`autoupdater:${o}`,"ascii"),d=`/${(0,p.randomBytes)(64).toString("hex")}.zip`;this.server.on("request",((t,a)=>{const c=t.url;if(l.info(`${c} requested`),"/"===c){if(!t.headers.authorization||-1===t.headers.authorization.indexOf("Basic "))return a.statusCode=401,a.statusMessage="Invalid Authentication Credentials",a.end(),void l.warn("No authenthication info");const e=t.headers.authorization.split(" ")[1],r=Buffer.from(e,"base64").toString("ascii"),[n,i]=r.split(":");if("autoupdater"!==n||i!==o)return a.statusCode=401,a.statusMessage="Invalid Authentication Credentials",a.end(),void l.warn("Invalid authenthication credentials");const s=Buffer.from(`{ "url": "${u(this.server)}${d}" }`);return a.writeHead(200,{"Content-Type":"application/json","Content-Length":s.length}),void a.end(s)}if(!c.startsWith(d))return l.warn(`${c} requested, but not supported`),a.writeHead(404),void a.end();l.info(`${d} requested by Squirrel.Mac, pipe ${n}`);let p=!1;a.on("finish",(()=>{p||(this.nativeUpdater.removeListener("error",r),e([]))}));const h=(0,i.createReadStream)(n);h.on("error",(e=>{try{a.end()}catch(e){l.warn(`cannot end response: ${e}`)}p=!0,this.nativeUpdater.removeListener("error",r),r(new Error(`Cannot pipe "${n}": ${e}`))})),a.writeHead(200,{"Content-Type":"application/zip","Content-Length":s}),h.pipe(a)})),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${c})`),this.server.listen(0,"127.0.0.1",(()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${u(this.server)}, ${c})`),this.nativeUpdater.setFeedURL({url:u(this.server),headers:{"Cache-Control":"no-cache",Authorization:`Basic ${a.toString("base64")}`}}),this.dispatchUpdateDownloaded(t),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",r),this.nativeUpdater.checkForUpdates()):e([])}))}))}quitAndInstall(){this.squirrelDownloadedUpdate?(this.nativeUpdater.quitAndInstall(),this.closeServerIfExists()):(this.nativeUpdater.on("update-downloaded",(()=>{this.nativeUpdater.quitAndInstall(),this.closeServerIfExists()})),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}}t.MacUpdater=d},8697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NsisUpdater=void 0;const n=r(9517),o=r(1017),i=r(1088),s=r(4755),a=r(2080),l=r(4663),c=r(2877),u=r(2208),p=r(7310);class d extends i.BaseUpdater{constructor(e,t){super(e,t),this._verifyUpdateCodeSignature=(e,t)=>(0,u.verifySignature)(e,t,this._logger)}get verifyUpdateCodeSignature(){return this._verifyUpdateCodeSignature}set verifyUpdateCodeSignature(e){e&&(this._verifyUpdateCodeSignature=e)}doDownloadUpdate(e){const t=e.updateInfoAndProvider.provider,r=(0,l.findFile)(t.resolveFiles(e.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:e,fileInfo:r,task:async(o,i,s,a)=>{const l=r.packageInfo,u=null!=l&&null!=s;if(u&&e.disableWebInstaller)throw(0,n.newError)(`Unable to download new version ${e.updateInfoAndProvider.info.version}. Web Installers are disabled`,"ERR_UPDATER_WEB_INSTALLER_DISABLED");u||e.disableWebInstaller||this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(u||e.disableDifferentialDownload||await this.differentialDownloadInstaller(r,e,o,t,n.CURRENT_APP_INSTALLER_FILE_NAME))&&await this.httpExecutor.download(r.url,o,i);const d=await this.verifySignature(o);if(null!=d)throw await a(),(0,n.newError)(`New version ${e.updateInfoAndProvider.info.version} is not signed by the application owner: ${d}`,"ERR_UPDATER_INVALID_SIGNATURE");if(u&&await this.differentialDownloadWebPackage(e,l,s,t))try{await this.httpExecutor.download(new p.URL(l.path),s,{headers:e.requestHeaders,cancellationToken:e.cancellationToken,sha512:l.sha512})}catch(e){try{await(0,c.unlink)(s)}catch(e){}throw e}}})}async verifySignature(e){let t;try{if(t=(await this.configOnDisk.value).publisherName,null==t)return null}catch(e){if("ENOENT"===e.code)return null;throw e}return await this._verifyUpdateCodeSignature(Array.isArray(t)?t:[t],e)}doInstall(e){const t=["--updated"];e.isSilent&&t.push("/S"),e.isForceRunAfter&&t.push("--force-run"),this.installDirectory&&t.push(`/D=${this.installDirectory}`);const n=null==this.downloadedUpdateHelper?null:this.downloadedUpdateHelper.packageFile;null!=n&&t.push(`--package-file=${n}`);const i=()=>{this.spawnLog(o.join(process.resourcesPath,"elevate.exe"),[e.installerPath].concat(t)).catch((e=>this.dispatchError(e)))};return e.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),i(),!0):(this.spawnLog(e.installerPath,t).catch((t=>{const n=t.code;this._logger.info(`Cannot run installer: error code: ${n}, error message: "${t.message}", will be executed again using elevate if EACCES, and will try to use electron.shell.openItem if ENOENT`),"UNKNOWN"===n||"EACCES"===n?i():"ENOENT"===n?r(2298).shell.openPath(e.installerPath).catch((e=>this.dispatchError(e))):this.dispatchError(t)})),!0)}async differentialDownloadWebPackage(e,t,r,i){if(null==t.blockMapSize)return!0;try{const l={newUrl:new p.URL(t.path),oldFile:o.join(this.downloadedUpdateHelper.cacheDir,n.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:r,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,cancellationToken:e.cancellationToken};this.listenerCount(a.DOWNLOAD_PROGRESS)>0&&(l.onProgress=e=>this.emit(a.DOWNLOAD_PROGRESS,e)),await new s.FileWithEmbeddedBlockMapDifferentialDownloader(t,this.httpExecutor,l).download()}catch(e){return this._logger.error(`Cannot download differentially, fallback to full download: ${e.stack||e}`),"win32"===process.platform}return!1}}t.NsisUpdater=d},8814:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RpmUpdater=void 0;const n=r(1088),o=r(2080),i=r(4663);class s extends n.BaseUpdater{constructor(e,t){super(e,t)}doDownloadUpdate(e){const t=e.updateInfoAndProvider.provider,r=(0,i.findFile)(t.resolveFiles(e.updateInfoAndProvider.info),"rpm",["AppImage","deb"]);return this.executeDownload({fileExtension:"rpm",fileInfo:r,downloadUpdateOptions:e,task:async(e,t)=>{this.listenerCount(o.DOWNLOAD_PROGRESS)>0&&(t.onProgress=e=>this.emit(o.DOWNLOAD_PROGRESS,e)),await this.httpExecutor.download(r.url,e,t)}})}doInstall(e){const t=e.installerPath,r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',o=this.spawnSyncLog("which zypper");let i;if(o)i=[o,"--no-refresh","install","--allow-unsigned-rpm","-y","-f",t];else{i=[this.spawnSyncLog("which dnf || which yum"),"-y","install",t]}return this.spawnSyncLog(r,[`${n}/bin/bash`,"-c",`'${i.join(" ")}'${n}`]),e.isForceRunAfter&&this.app.relaunch(),!0}}t.RpmUpdater=s},9644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataSplitter=void 0,t.copyData=c;const n=r(9517),o=r(7147),i=r(2781),s=r(1528),a=Buffer.from("\r\n\r\n");var l;function c(e,t,r,n,i){const s=(0,o.createReadStream)("",{fd:r,autoClose:!1,start:e.start,end:e.end-1});s.on("error",n),s.once("end",i),s.pipe(t,{end:!1})}!function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(l||(l={}));class u extends i.Writable{constructor(e,t,r,n,o,i){super(),this.out=e,this.options=t,this.partIndexToTaskIndex=r,this.partIndexToLength=o,this.finishHandler=i,this.partIndex=-1,this.headerListBuffer=null,this.readState=l.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=n.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(e,t,r){this.isFinished?console.error(`Trailing ignored data: ${e.length} bytes`):this.handleData(e).then(r).catch(r)}async handleData(e){let t=0;if(0!==this.ignoreByteCount&&0!==this.remainingPartDataCount)throw(0,n.newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const r=Math.min(this.ignoreByteCount,e.length);this.ignoreByteCount-=r,t=r}else if(this.remainingPartDataCount>0){const r=Math.min(this.remainingPartDataCount,e.length);this.remainingPartDataCount-=r,await this.processPartData(e,0,r),t=r}if(t!==e.length){if(this.readState===l.HEADER){const r=this.searchHeaderListEnd(e,t);if(-1===r)return;t=r,this.readState=l.BODY,this.headerListBuffer=null}for(;;){if(this.readState===l.BODY)this.readState=l.INIT;else{this.partIndex++;let r=this.partIndexToTaskIndex.get(this.partIndex);if(null==r){if(!this.isFinished)throw(0,n.newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");r=this.options.end}const o=0===this.partIndex?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(o<r)await this.copyExistingData(o,r);else if(o>r)throw(0,n.newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished)return this.onPartEnd(),void this.finishHandler();if(t=this.searchHeaderListEnd(e,t),-1===t)return void(this.readState=l.HEADER)}const r=this.partIndexToLength[this.partIndex],o=t+r,i=Math.min(o,e.length);if(await this.processPartStarted(e,t,i),this.remainingPartDataCount=r-(i-t),this.remainingPartDataCount>0)return;if(t=o+this.boundaryLength,t>=e.length)return void(this.ignoreByteCount=this.boundaryLength-(e.length-o))}}}copyExistingData(e,t){return new Promise(((r,n)=>{const o=()=>{if(e===t)return void r();const i=this.options.tasks[e];i.kind===s.OperationKind.COPY?c(i,this.out,this.options.oldFileFd,n,(()=>{e++,o()})):n(new Error("Task kind must be COPY"))};o()}))}searchHeaderListEnd(e,t){const r=e.indexOf(a,t);if(-1!==r)return r+a.length;const n=0===t?e:e.slice(t);return null==this.headerListBuffer?this.headerListBuffer=n:this.headerListBuffer=Buffer.concat([this.headerListBuffer,n]),-1}onPartEnd(){const e=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==e)throw(0,n.newError)(`Expected length: ${e} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(e,t,r){return 0!==this.partIndex&&this.onPartEnd(),this.processPartData(e,t,r)}processPartData(e,t,r){this.actualPartLength+=r-t;const n=this.out;return n.write(0===t&&e.length===r?e:e.slice(t,r))?Promise.resolve():new Promise(((e,t)=>{n.on("error",t),n.once("drain",(()=>{n.removeListener("error",t),e()}))}))}}t.DataSplitter=u},4408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DifferentialDownloader=void 0;const n=r(9517),o=r(2877),i=r(7147),s=r(9644),a=r(7310),l=r(1528),c=r(2054),u=r(9789);function p(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}t.DifferentialDownloader=class{constructor(e,t,r){this.blockAwareFileInfo=e,this.httpExecutor=t,this.options=r,this.fileMetadataBuffer=null,this.logger=r.logger}createRequestOptions(){const e={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,n.configureRequestUrl)(this.options.newUrl,e),(0,n.configureRequestOptions)(e),e}doDownload(e,t){if(e.version!==t.version)throw new Error(`version is different (${e.version} - ${t.version}), full download is required`);const r=this.logger,n=(0,l.computeOperations)(e,t,r);null!=r.debug&&r.debug(JSON.stringify(n,null,2));let o=0,i=0;for(const e of n){const t=e.end-e.start;e.kind===l.OperationKind.DOWNLOAD?o+=t:i+=t}const s=this.blockAwareFileInfo.size;if(o+i+(null==this.fileMetadataBuffer?0:this.fileMetadataBuffer.length)!==s)throw new Error(`Internal error, size mismatch: downloadSize: ${o}, copySize: ${i}, newSize: ${s}`);return r.info(`Full: ${p(s)}, To download: ${p(o)} (${Math.round(o/(s/100))}%)`),this.downloadFile(n)}downloadFile(e){const t=[],r=()=>Promise.all(t.map((e=>(0,o.close)(e.descriptor).catch((t=>{this.logger.error(`cannot close file "${e.path}": ${t}`)})))));return this.doDownloadFile(e,t).then(r).catch((e=>r().catch((t=>{try{this.logger.error(`cannot close files: ${t}`)}catch(e){try{console.error(e)}catch(e){}}throw e})).then((()=>{throw e}))))}async doDownloadFile(e,t){const r=await(0,o.open)(this.options.oldFile,"r");t.push({descriptor:r,path:this.options.oldFile});const p=await(0,o.open)(this.options.newFile,"w");t.push({descriptor:p,path:this.options.newFile});const d=(0,i.createWriteStream)(this.options.newFile,{fd:p});await new Promise(((o,i)=>{const p=[];let h;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const t=[];let r=0;for(const n of e)n.kind===l.OperationKind.DOWNLOAD&&(t.push(n.end-n.start),r+=n.end-n.start);const n={expectedByteCounts:t,grandTotal:r};h=new u.ProgressDifferentialDownloadCallbackTransform(n,this.options.cancellationToken,this.options.onProgress),p.push(h)}const f=new n.DigestTransform(this.blockAwareFileInfo.sha512);f.isValidateOnEnd=!1,p.push(f),d.on("finish",(()=>{d.close((()=>{t.splice(1,1);try{f.validate()}catch(e){return void i(e)}o(void 0)}))})),p.push(d);let g=null;for(const e of p)e.on("error",i),g=null==g?e:g.pipe(e);const m=p[0];let y;if(this.options.isUseMultipleRangeRequest)return y=(0,c.executeTasksUsingMultipleRangeRequests)(this,e,m,r,i),void y(0);let v=0,w=null;this.logger.info(`Differential download: ${this.options.newUrl}`);const b=this.createRequestOptions();b.redirect="manual",y=t=>{var o,c;if(t>=e.length)return null!=this.fileMetadataBuffer&&m.write(this.fileMetadataBuffer),void m.end();const u=e[t++];if(u.kind===l.OperationKind.COPY)return h&&h.beginFileCopy(),void(0,s.copyData)(u,m,r,i,(()=>y(t)));const p=`bytes=${u.start}-${u.end-1}`;b.headers.range=p,null===(c=null===(o=this.logger)||void 0===o?void 0:o.debug)||void 0===c||c.call(o,`download range: ${p}`),h&&h.beginRangeDownload();const d=this.httpExecutor.createRequest(b,(e=>{e.on("error",i),e.on("aborted",(()=>{i(new Error("response has been aborted by the server"))})),e.statusCode>=400&&i((0,n.createHttpError)(e)),e.pipe(m,{end:!1}),e.once("end",(()=>{h&&h.endRangeDownload(),100==++v?(v=0,setTimeout((()=>y(t)),1e3)):y(t)}))}));d.on("redirect",((e,t,r)=>{this.logger.info(`Redirect to ${function(e){const t=e.indexOf("?");return t<0?e:e.substring(0,t)}(r)}`),w=r,(0,n.configureRequestUrl)(new a.URL(w),b),d.followRedirect()})),this.httpExecutor.addErrorAndTimeoutHandlers(d,i),d.end()},y(0)}))}async readRemoteBytes(e,t){const r=Buffer.allocUnsafe(t+1-e),n=this.createRequestOptions();n.headers.range=`bytes=${e}-${t}`;let o=0;if(await this.request(n,(e=>{e.copy(r,o),o+=e.length})),o!==r.length)throw new Error(`Received data length ${o} is not equal to expected ${r.length}`);return r}request(e,t){return new Promise(((r,n)=>{const o=this.httpExecutor.createRequest(e,(e=>{(0,c.checkIsRangesSupported)(e,n)&&(e.on("error",n),e.on("aborted",(()=>{n(new Error("response has been aborted by the server"))})),e.on("data",t),e.on("end",(()=>r())))}));this.httpExecutor.addErrorAndTimeoutHandlers(o,n),o.end()}))}}},4755:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;const n=r(2877),o=r(4408),i=r(9796);class s extends o.DifferentialDownloader{async download(){const e=this.blockAwareFileInfo,t=e.size,r=t-(e.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(r,t-1);const o=a(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await async function(e){const t=await(0,n.open)(e,"r");try{const e=(await(0,n.fstat)(t)).size,r=Buffer.allocUnsafe(4);await(0,n.read)(t,r,0,r.length,e-r.length);const o=Buffer.allocUnsafe(r.readUInt32BE(0));return await(0,n.read)(t,o,0,o.length,e-r.length-o.length),await(0,n.close)(t),a(o)}catch(e){throw await(0,n.close)(t),e}}(this.options.oldFile),o)}}function a(e){return JSON.parse((0,i.inflateRawSync)(e).toString())}t.FileWithEmbeddedBlockMapDifferentialDownloader=s},5877:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericDifferentialDownloader=void 0;const n=r(4408);class o extends n.DifferentialDownloader{download(e,t){return this.doDownload(e,t)}}t.GenericDifferentialDownloader=o},9789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressDifferentialDownloadCallbackTransform=void 0;const n=r(2781);var o;!function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"}(o||(o={}));class i extends n.Transform{constructor(e,t,r){super(),this.progressDifferentialDownloadInfo=e,this.cancellationToken=t,this.onProgress=r,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=o.COPY,this.nextUpdate=this.start+1e3}_transform(e,t,r){if(this.cancellationToken.cancelled)return void r(new Error("cancelled"),null);if(this.operationType==o.COPY)return void r(null,e);this.transferred+=e.length,this.delta+=e.length;const n=Date.now();n>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=n+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((n-this.start)/1e3))}),this.delta=0),r(null,e)}beginFileCopy(){this.operationType=o.COPY}beginRangeDownload(){this.operationType=o.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(e){this.cancellationToken.cancelled?e(new Error("cancelled")):(this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,e(null))}}t.ProgressDifferentialDownloadCallbackTransform=i},1528:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.OperationKind=void 0,t.computeOperations=function(e,t,n){const s=i(e.files),a=i(t.files);let l=null;const c=t.files[0],u=[],p=c.name,d=s.get(p);if(null==d)throw new Error(`no file ${p} in old blockmap`);const h=a.get(p);let f=0;const{checksumToOffset:g,checksumToOldSize:m}=function(e,t,r){const n=new Map,o=new Map;let i=t;for(let t=0;t<e.checksums.length;t++){const s=e.checksums[t],a=e.sizes[t],l=o.get(s);if(void 0===l)n.set(s,i),o.set(s,a);else if(null!=r.debug){const e=l===a?"(same size)":`(size: ${l}, this size: ${a})`;r.debug(`${s} duplicated in blockmap ${e}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}i+=a}return{checksumToOffset:n,checksumToOldSize:o}}(s.get(p),d.offset,n);let y=c.offset;for(let e=0;e<h.checksums.length;y+=h.sizes[e],e++){const t=h.sizes[e],i=h.checksums[e];let s=g.get(i);null!=s&&m.get(i)!==t&&(n.warn(`Checksum ("${i}") matches, but size differs (old: ${m.get(i)}, new: ${t})`),s=void 0),void 0===s?(f++,null!=l&&l.kind===r.DOWNLOAD&&l.end===y?l.end+=t:(l={kind:r.DOWNLOAD,start:y,end:y+t},o(l,u,i,e))):null!=l&&l.kind===r.COPY&&l.end===s?l.end+=t:(l={kind:r.COPY,start:s,end:s+t},o(l,u,i,e))}f>0&&n.info(`File${"file"===c.name?"":" "+c.name} has ${f} changed blocks`);return u},function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"}(r||(t.OperationKind=r={}));const n="true"===process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES;function o(e,t,o,i){if(n&&0!==t.length){const n=t[t.length-1];if(n.kind===e.kind&&e.start<n.end&&e.start>n.start){const t=[n.start,n.end,e.start,e.end].reduce(((e,t)=>e<t?e:t));throw new Error(`operation (block index: ${i}, checksum: ${o}, kind: ${r[e.kind]}) overlaps previous operation (checksum: ${o}):\nabs: ${n.start} until ${n.end} and ${e.start} until ${e.end}\nrel: ${n.start-t} until ${n.end-t} and ${e.start-t} until ${e.end-t}`)}}t.push(e)}function i(e){const t=new Map;for(const r of e)t.set(r.name,r);return t}},2054:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeTasksUsingMultipleRangeRequests=function(e,t,r,a,l){const c=u=>{if(u>=t.length)return null!=e.fileMetadataBuffer&&r.write(e.fileMetadataBuffer),void r.end();const p=u+1e3;!function(e,t,r,a,l){let c="bytes=",u=0;const p=new Map,d=[];for(let e=t.start;e<t.end;e++){const r=t.tasks[e];r.kind===i.OperationKind.DOWNLOAD&&(c+=`${r.start}-${r.end-1}, `,p.set(u,e),u++,d.push(r.end-r.start))}if(u<=1){const n=c=>{if(c>=t.end)return void a();const u=t.tasks[c++];if(u.kind===i.OperationKind.COPY)(0,o.copyData)(u,r,t.oldFileFd,l,(()=>n(c)));else{const t=e.createRequestOptions();t.headers.Range=`bytes=${u.start}-${u.end-1}`;const o=e.httpExecutor.createRequest(t,(e=>{s(e,l)&&(e.pipe(r,{end:!1}),e.once("end",(()=>n(c))))}));e.httpExecutor.addErrorAndTimeoutHandlers(o,l),o.end()}};return void n(t.start)}const h=e.createRequestOptions();h.headers.Range=c.substring(0,c.length-2);const f=e.httpExecutor.createRequest(h,(e=>{if(!s(e,l))return;const i=(0,n.safeGetHeader)(e,"content-type"),c=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(i);if(null==c)return void l(new Error(`Content-Type "multipart/byteranges" is expected, but got "${i}"`));const u=new o.DataSplitter(r,t,p,c[1]||c[2],d,a);u.on("error",l),e.pipe(u),e.on("end",(()=>{setTimeout((()=>{f.abort(),l(new Error("Response ends without calling any handlers"))}),1e4)}))}));e.httpExecutor.addErrorAndTimeoutHandlers(f,l),f.end()}(e,{tasks:t,start:u,end:Math.min(t.length,p),oldFileFd:a},r,(()=>c(p)),l)};return c},t.checkIsRangesSupported=s;const n=r(9517),o=r(9644),i=r(1528);function s(e,t){if(e.statusCode>=400)return t((0,n.createHttpError)(e)),!1;if(206!==e.statusCode){const r=(0,n.safeGetHeader)(e,"accept-ranges");if(null==r||"none"===r)return t(new Error(`Server doesn't support Accept-Ranges (response code ${e.statusCode})`)),!1}return!0}},5561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElectronHttpExecutor=t.NET_SESSION_NAME=void 0,t.getNetSession=o;const n=r(9517);function o(){return r(2298).session.fromPartition(t.NET_SESSION_NAME,{cache:!1})}t.NET_SESSION_NAME="electron-updater";class i extends n.HttpExecutor{constructor(e){super(),this.proxyLoginCallback=e,this.cachedSession=null}async download(e,t,r){return await r.cancellationToken.createPromise(((o,i,s)=>{const a={headers:r.headers||void 0,redirect:"manual"};(0,n.configureRequestUrl)(e,a),(0,n.configureRequestOptions)(a),this.doDownload(a,{destination:t,options:r,onCancel:s,callback:e=>{null==e?o(t):i(e)},responseHandler:null},0)}))}createRequest(e,t){e.headers&&e.headers.Host&&(e.host=e.headers.Host,delete e.headers.Host),null==this.cachedSession&&(this.cachedSession=o());const n=r(2298).net.request({...e,session:this.cachedSession});return n.on("response",t),null!=this.proxyLoginCallback&&n.on("login",this.proxyLoginCallback),n}addRedirectHandlers(e,t,r,o,i){e.on("redirect",((s,a,l)=>{e.abort(),o>this.maxRedirects?r(this.createMaxRedirectError()):i(n.HttpExecutor.prepareRedirectUrlOptions(l,t))}))}}t.ElectronHttpExecutor=i},2080:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdaterSignal=t.UPDATE_DOWNLOADED=t.DOWNLOAD_PROGRESS=t.NsisUpdater=t.MacUpdater=t.RpmUpdater=t.DebUpdater=t.AppImageUpdater=t.Provider=t.CancellationToken=t.NoOpLogger=t.AppUpdater=t.BaseUpdater=void 0;const n=r(9517);Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return n.CancellationToken}});const o=r(2877),i=r(1017);var s=r(1088);Object.defineProperty(t,"BaseUpdater",{enumerable:!0,get:function(){return s.BaseUpdater}});var a=r(2787);Object.defineProperty(t,"AppUpdater",{enumerable:!0,get:function(){return a.AppUpdater}}),Object.defineProperty(t,"NoOpLogger",{enumerable:!0,get:function(){return a.NoOpLogger}});var l=r(4663);Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return l.Provider}});var c=r(3974);Object.defineProperty(t,"AppImageUpdater",{enumerable:!0,get:function(){return c.AppImageUpdater}});var u=r(2412);Object.defineProperty(t,"DebUpdater",{enumerable:!0,get:function(){return u.DebUpdater}});var p=r(8814);Object.defineProperty(t,"RpmUpdater",{enumerable:!0,get:function(){return p.RpmUpdater}});var d=r(2542);Object.defineProperty(t,"MacUpdater",{enumerable:!0,get:function(){return d.MacUpdater}});var h=r(8697);let f;Object.defineProperty(t,"NsisUpdater",{enumerable:!0,get:function(){return h.NsisUpdater}}),Object.defineProperty(t,"autoUpdater",{enumerable:!0,get:()=>f||function(){if("win32"===process.platform)f=new(r(8697).NsisUpdater);else if("darwin"===process.platform)f=new(r(2542).MacUpdater);else{f=new(r(3974).AppImageUpdater);try{const e=i.join(process.resourcesPath,"package-type");if(!(0,o.existsSync)(e))return f;console.info("Checking for beta autoupdate feature for deb/rpm distributions");const t=(0,o.readFileSync)(e).toString().trim();switch(console.info("Found package-type:",t),t){case"deb":f=new(r(2412).DebUpdater);break;case"rpm":f=new(r(8814).RpmUpdater)}}catch(e){console.warn("Unable to detect 'package-type' for autoUpdater (beta rpm/deb support). If you'd like to expand support, please consider contributing to electron-builder",e.message)}}return f}()}),t.DOWNLOAD_PROGRESS="download-progress",t.UPDATE_DOWNLOADED="update-downloaded";t.UpdaterSignal=class{constructor(e){this.emitter=e}login(e){m(this.emitter,"login",e)}progress(e){m(this.emitter,t.DOWNLOAD_PROGRESS,e)}updateDownloaded(e){m(this.emitter,t.UPDATE_DOWNLOADED,e)}updateCancelled(e){m(this.emitter,"update-cancelled",e)}};const g=!1;function m(e,t,r){g?e.on(t,((...e)=>{console.log("%s %s",t,e),r(...e)})):e.on(t,r)}},1220:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlProbablySupportMultiRangeRequests=c,t.createClient=function(e,t,r){if("string"==typeof e)throw(0,n.newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const u=e.provider;switch(u){case"github":{const n=e,o=(n.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||n.token;return null==o?new s.GitHubProvider(n,t,r):new l.PrivateGitHubProvider(n,t,o,r)}case"bitbucket":return new o.BitbucketProvider(e,t,r);case"keygen":return new a.KeygenProvider(e,t,r);case"s3":case"spaces":return new i.GenericProvider({provider:"generic",url:(0,n.getS3LikeProviderBaseUrl)(e),channel:e.channel||null},t,{...r,isUseMultipleRangeRequest:!1});case"generic":{const n=e;return new i.GenericProvider(n,t,{...r,isUseMultipleRangeRequest:!1!==n.useMultipleRangeRequest&&c(n.url)})}case"custom":{const o=e,i=o.updateProvider;if(!i)throw(0,n.newError)("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new i(o,t,r)}default:throw(0,n.newError)(`Unsupported provider: ${u}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}};const n=r(9517),o=r(6709),i=r(5711),s=r(9181),a=r(9355),l=r(7688);function c(e){return!e.includes("s3.amazonaws.com")}},6709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitbucketProvider=void 0;const n=r(9517),o=r(5707),i=r(4663);class s extends i.Provider{constructor(e,t,r){super({...r,isUseMultipleRangeRequest:!1}),this.configuration=e,this.updater=t;const{owner:n,slug:i}=e;this.baseUrl=(0,o.newBaseUrl)(`https://api.bitbucket.org/2.0/repositories/${n}/${i}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){const e=new n.CancellationToken,t=(0,o.getChannelFilename)(this.getCustomChannelName(this.channel)),r=(0,o.newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);try{const n=await this.httpRequest(r,void 0,e);return(0,i.parseUpdateInfo)(n,t,r)}catch(e){throw(0,n.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${e.stack||e.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(e){return(0,i.resolveFiles)(e,this.baseUrl)}toString(){const{owner:e,slug:t}=this.configuration;return`Bitbucket (owner: ${e}, slug: ${t}, channel: ${this.channel})`}}t.BitbucketProvider=s},5711:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericProvider=void 0;const n=r(9517),o=r(5707),i=r(4663);class s extends i.Provider{constructor(e,t,r){super(r),this.configuration=e,this.updater=t,this.baseUrl=(0,o.newBaseUrl)(this.configuration.url)}get channel(){const e=this.updater.channel||this.configuration.channel;return null==e?this.getDefaultChannelName():this.getCustomChannelName(e)}async getLatestVersion(){const e=(0,o.getChannelFilename)(this.channel),t=(0,o.newUrlFromBase)(e,this.baseUrl,this.updater.isAddNoCacheQuery);for(let r=0;;r++)try{return(0,i.parseUpdateInfo)(await this.httpRequest(t),e,t)}catch(t){if(t instanceof n.HttpError&&404===t.statusCode)throw(0,n.newError)(`Cannot find channel "${e}" update info: ${t.stack||t.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if("ECONNREFUSED"===t.code&&r<3){await new Promise(((e,t)=>{try{setTimeout(e,1e3*r)}catch(e){t(e)}}));continue}throw t}}resolveFiles(e){return(0,i.resolveFiles)(e,this.baseUrl)}}t.GenericProvider=s},9181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GitHubProvider=t.BaseGitHubProvider=void 0,t.computeReleaseNotes=p;const n=r(9517),o=r(7968),i=r(7310),s=r(5707),a=r(4663),l=/\/tag\/([^/]+)$/;class c extends a.Provider{constructor(e,t,r){super({...r,isUseMultipleRangeRequest:!1}),this.options=e,this.baseUrl=(0,s.newBaseUrl)((0,n.githubUrl)(e,t));const o="github.com"===t?"api.github.com":t;this.baseApiUrl=(0,s.newBaseUrl)((0,n.githubUrl)(e,o))}computeGithubBasePath(e){const t=this.options.host;return t&&!["github.com","api.github.com"].includes(t)?`/api/v3${e}`:e}}t.BaseGitHubProvider=c;function u(e){const t=e.elementValueOrEmpty("content");return"No content."===t?"":t}function p(e,t,r,n){if(!t)return u(n);const i=[];for(const t of r.getElements("entry")){const r=/\/tag\/v?([^/]+)$/.exec(t.element("link").attribute("href"))[1];o.lt(e,r)&&i.push({version:r,note:u(t)})}return i.sort(((e,t)=>o.rcompare(e.version,t.version)))}t.GitHubProvider=class extends c{constructor(e,t,r){super(e,"github.com",r),this.options=e,this.updater=t}get channel(){const e=this.updater.channel||this.options.channel;return null==e?this.getDefaultChannelName():this.getCustomChannelName(e)}async getLatestVersion(){var e,t,r,i,c;const u=new n.CancellationToken,d=await this.httpRequest((0,s.newUrlFromBase)(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},u),h=(0,n.parseXml)(d);let f,g=h.element("entry",!1,"No published versions on GitHub"),m=null;try{if(this.updater.allowPrerelease){const n=(null===(e=this.updater)||void 0===e?void 0:e.channel)||(null===(t=o.prerelease(this.updater.currentVersion))||void 0===t?void 0:t[0])||null;if(null===n)m=l.exec(g.element("link").attribute("href"))[1];else for(const e of h.getElements("entry")){const t=l.exec(e.element("link").attribute("href"));if(null===t)continue;const i=t[1],s=(null===(r=o.prerelease(i))||void 0===r?void 0:r[0])||null,a=!n||["alpha","beta"].includes(n),c=null!==s&&!["alpha","beta"].includes(String(s));if(a&&!c&&!("beta"===n&&"alpha"===s)){m=i;break}if(s&&s===n){m=i;break}}}else{m=await this.getLatestTagName(u);for(const e of h.getElements("entry"))if(l.exec(e.element("link").attribute("href"))[1]===m){g=e;break}}}catch(e){throw(0,n.newError)(`Cannot parse releases feed: ${e.stack||e.message},\nXML:\n${d}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(null==m)throw(0,n.newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let y="",v="";const w=async e=>{y=(0,s.getChannelFilename)(e),v=(0,s.newUrlFromBase)(this.getBaseDownloadPath(String(m),y),this.baseUrl);const t=this.createRequestOptions(v);try{return await this.executor.request(t,u)}catch(e){if(e instanceof n.HttpError&&404===e.statusCode)throw(0,n.newError)(`Cannot find ${y} in the latest release artifacts (${v}): ${e.stack||e.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");throw e}};try{let e=this.channel;this.updater.allowPrerelease&&(null===(i=o.prerelease(m))||void 0===i?void 0:i[0])&&(e=this.getCustomChannelName(String(null===(c=o.prerelease(m))||void 0===c?void 0:c[0]))),f=await w(e)}catch(e){if(!this.updater.allowPrerelease)throw e;f=await w(this.getDefaultChannelName())}const b=(0,a.parseUpdateInfo)(f,y,v);return null==b.releaseName&&(b.releaseName=g.elementValueOrEmpty("title")),null==b.releaseNotes&&(b.releaseNotes=p(this.updater.currentVersion,this.updater.fullChangelog,h,g)),{tag:m,...b}}async getLatestTagName(e){const t=this.options,r=null==t.host||"github.com"===t.host?(0,s.newUrlFromBase)(`${this.basePath}/latest`,this.baseUrl):new i.URL(`${this.computeGithubBasePath(`/repos/${t.owner}/${t.repo}/releases`)}/latest`,this.baseApiUrl);try{const t=await this.httpRequest(r,{Accept:"application/json"},e);if(null==t)return null;return JSON.parse(t).tag_name}catch(e){throw(0,n.newError)(`Unable to find latest version on GitHub (${r}), please ensure a production release exists: ${e.stack||e.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(e){return(0,a.resolveFiles)(e,this.baseUrl,(t=>this.getBaseDownloadPath(e.tag,t.replace(/ /g,"-"))))}getBaseDownloadPath(e,t){return`${this.basePath}/download/${e}/${t}`}}},9355:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeygenProvider=void 0;const n=r(9517),o=r(5707),i=r(4663);class s extends i.Provider{constructor(e,t,r){super({...r,isUseMultipleRangeRequest:!1}),this.configuration=e,this.updater=t,this.baseUrl=(0,o.newBaseUrl)(`https://api.keygen.sh/v1/accounts/${this.configuration.account}/artifacts?product=${this.configuration.product}`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){const e=new n.CancellationToken,t=(0,o.getChannelFilename)(this.getCustomChannelName(this.channel)),r=(0,o.newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);try{const n=await this.httpRequest(r,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},e);return(0,i.parseUpdateInfo)(n,t,r)}catch(e){throw(0,n.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${e.stack||e.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(e){return(0,i.resolveFiles)(e,this.baseUrl)}toString(){const{account:e,product:t,platform:r}=this.configuration;return`Keygen (account: ${e}, product: ${t}, platform: ${r}, channel: ${this.channel})`}}t.KeygenProvider=s},7688:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrivateGitHubProvider=void 0;const n=r(9517),o=r(97),i=r(1017),s=r(7310),a=r(5707),l=r(9181),c=r(4663);class u extends l.BaseGitHubProvider{constructor(e,t,r,n){super(e,"api.github.com",n),this.updater=t,this.token=r}createRequestOptions(e,t){const r=super.createRequestOptions(e,t);return r.redirect="manual",r}async getLatestVersion(){const e=new n.CancellationToken,t=(0,a.getChannelFilename)(this.getDefaultChannelName()),r=await this.getLatestVersionInfo(e),i=r.assets.find((e=>e.name===t));if(null==i)throw(0,n.newError)(`Cannot find ${t} in the release ${r.html_url||r.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const l=new s.URL(i.url);let c;try{c=(0,o.load)(await this.httpRequest(l,this.configureHeaders("application/octet-stream"),e))}catch(e){if(e instanceof n.HttpError&&404===e.statusCode)throw(0,n.newError)(`Cannot find ${t} in the latest release artifacts (${l}): ${e.stack||e.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");throw e}return c.assets=r.assets,c}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(e){return{accept:e,authorization:`token ${this.token}`}}async getLatestVersionInfo(e){const t=this.updater.allowPrerelease;let r=this.basePath;t||(r=`${r}/latest`);const o=(0,a.newUrlFromBase)(r,this.baseUrl);try{const r=JSON.parse(await this.httpRequest(o,this.configureHeaders("application/vnd.github.v3+json"),e));return t?r.find((e=>e.prerelease))||r[0]:r}catch(e){throw(0,n.newError)(`Unable to find latest version on GitHub (${o}), please ensure a production release exists: ${e.stack||e.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(e){return(0,c.getFileList)(e).map((t=>{const r=i.posix.basename(t.url).replace(/ /g,"-"),o=e.assets.find((e=>null!=e&&e.name===r));if(null==o)throw(0,n.newError)(`Cannot find asset "${r}" in: ${JSON.stringify(e.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new s.URL(o.url),info:t}}))}}t.PrivateGitHubProvider=u},4663:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=void 0,t.findFile=function(e,t,r){if(0===e.length)throw(0,n.newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const o=e.find((e=>e.url.pathname.toLowerCase().endsWith(`.${t}`)));return null!=o?o:null==r?e[0]:e.find((e=>!r.some((t=>e.url.pathname.toLowerCase().endsWith(`.${t}`)))))},t.parseUpdateInfo=function(e,t,r){if(null==e)throw(0,n.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let i;try{i=(0,o.load)(e)}catch(o){throw(0,n.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): ${o.stack||o.message}, rawData: ${e}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return i},t.getFileList=s,t.resolveFiles=function(e,t,r=e=>e){const o=s(e).map((e=>{if(null==e.sha2&&null==e.sha512)throw(0,n.newError)(`Update info doesn't contain nor sha256 neither sha512 checksum: ${(0,n.safeStringifyJson)(e)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:(0,i.newUrlFromBase)(r(e.url),t),info:e}})),a=e.packages,l=null==a?null:a[process.arch]||a.ia32;null!=l&&(o[0].packageInfo={...l,path:(0,i.newUrlFromBase)(r(l.path),t).href});return o};const n=r(9517),o=r(97),i=r(5707);function s(e){const t=e.files;if(null!=t&&t.length>0)return t;if(null!=e.path)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw(0,n.newError)(`No files provided: ${(0,n.safeStringifyJson)(e)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}t.Provider=class{constructor(e){this.runtimeOptions=e,this.requestHeaders=null,this.executor=e.executor}get isUseMultipleRangeRequest(){return!1!==this.runtimeOptions.isUseMultipleRangeRequest}getChannelFilePrefix(){if("linux"===this.runtimeOptions.platform){const e=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+("x64"===e?"":`-${e}`)}return"darwin"===this.runtimeOptions.platform?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(e){return`${e}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(e){this.requestHeaders=e}httpRequest(e,t,r){return this.executor.request(this.createRequestOptions(e,t),r)}createRequestOptions(e,t){const r={};return null==this.requestHeaders?null!=t&&(r.headers=t):r.headers=null==t?this.requestHeaders:{...this.requestHeaders,...t},(0,n.configureRequestUrl)(e,r),r}}},5707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newBaseUrl=function(e){const t=new n.URL(e);t.pathname.endsWith("/")||(t.pathname+="/");return t},t.newUrlFromBase=i,t.getChannelFilename=function(e){return`${e}.yml`},t.blockmapFiles=function(e,t,r){const n=i(`${e.pathname}.blockmap`,e);return[i(`${e.pathname.replace(new RegExp(o(r),"g"),t)}.blockmap`,e),n]};const n=r(7310),o=r(2395);function i(e,t,r=!1){const o=new n.URL(e,t),i=t.search;return null!=i&&0!==i.length?o.search=i:r&&(o.search=`noCache=${Date.now().toString(32)}`),o}},2208:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifySignature=function(e,t,r){return new Promise(((i,l)=>{const c=t.replace(/'/g,"''");r.info(`Verifying signature ${c}`),(0,o.execFile)('set "PSModulePath=" & chcp 65001 >NUL & powershell.exe',["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`"Get-AuthenticodeSignature -LiteralPath '${c}' | ConvertTo-Json -Compress"`],{shell:!0,timeout:2e4},((o,c,u)=>{var p;try{if(null!=o||u)return a(r,o,u,l),void i(null);const d=function(e){const t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;const r=t.SignerCertificate;null!=r&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName);return t}(c);if(0===d.Status){try{const e=s.normalize(d.Path),n=s.normalize(t);if(r.info(`LiteralPath: ${e}. Update Path: ${n}`),e!==n)return a(r,new Error(`LiteralPath of ${e} is different than ${n}`),u,l),void i(null)}catch(o){r.warn(`Unable to verify LiteralPath of update asset due to missing data.Path. Skipping this step of validation. Message: ${null!==(p=o.message)&&void 0!==p?p:o.stack}`)}const c=(0,n.parseDn)(d.SignerCertificate.Subject);let h=!1;for(const t of e){const e=(0,n.parseDn)(t);if(e.size){h=Array.from(e.keys()).every((t=>e.get(t)===c.get(t)))}else t===c.get("CN")&&(r.warn(`Signature validated using only CN ${t}. Please add your full Distinguished Name (DN) to publisherNames configuration`),h=!0);if(h)return void i(null)}}const h=`publisherNames: ${e.join(" | ")}, raw info: `+JSON.stringify(d,((e,t)=>"RawData"===e?void 0:t),2);r.warn(`Sign verification failed, installer signed with incorrect certificate: ${h}`),i(h)}catch(e){return a(r,e,null,l),void i(null)}}))}))};const n=r(9517),o=r(2081),i=r(2037),s=r(1017);function a(e,t,r,n){if(function(){const e=i.release();return e.startsWith("6.")&&!e.startsWith("6.3")}())e.warn(`Cannot execute Get-AuthenticodeSignature: ${t||r}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);else{try{(0,o.execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:1e4})}catch(t){return void e.warn(`Cannot execute ConvertTo-Json: ${t.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`)}null!=t&&n(t),r&&n(new Error(`Cannot execute Get-AuthenticodeSignature, stderr: ${r}. Failing signature validation due to unknown stderr.`))}}},1699:(e,t,r)=>{"use strict";const n=r(5030),o=r(1017),i=r(8536).mkdirsSync,s=r(9384).utimesMillisSync,a=r(6769);function l(e,t,r,i){const s=(i.dereference?n.statSync:n.lstatSync)(t);if(s.isDirectory())return function(e,t,r,o,i){return t?p(r,o,i):function(e,t,r,o){return n.mkdirSync(r),p(t,r,o),u(r,e)}(e.mode,r,o,i)}(s,e,t,r,i);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(e,t,r,o,i){return t?function(e,t,r,o){if(o.overwrite)return n.unlinkSync(r),c(e,t,r,o);if(o.errorOnExist)throw new Error(`'${r}' already exists`)}(e,r,o,i):c(e,r,o,i)}(s,e,t,r,i);if(s.isSymbolicLink())return function(e,t,r,i){let s=n.readlinkSync(t);i.dereference&&(s=o.resolve(process.cwd(),s));if(e){let e;try{e=n.readlinkSync(r)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return n.symlinkSync(s,r);throw e}if(i.dereference&&(e=o.resolve(process.cwd(),e)),a.isSrcSubdir(s,e))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`);if(n.statSync(r).isDirectory()&&a.isSrcSubdir(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return n.unlinkSync(t),n.symlinkSync(e,t)}(s,r)}return n.symlinkSync(s,r)}(e,t,r,i);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function c(e,t,r,o){return n.copyFileSync(t,r),o.preserveTimestamps&&function(e,t,r){(function(e){return!(128&e)})(e)&&function(e,t){u(e,128|t)}(r,e);(function(e,t){const r=n.statSync(e);s(t,r.atime,r.mtime)})(t,r)}(e.mode,t,r),u(r,e.mode)}function u(e,t){return n.chmodSync(e,t)}function p(e,t,r){n.readdirSync(e).forEach((n=>function(e,t,r,n){const i=o.join(t,e),s=o.join(r,e),{destStat:c}=a.checkPathsSync(i,s,"copy",n);return function(e,t,r,n){if(!n.filter||n.filter(t,r))return l(e,t,r,n)}(c,i,s,n)}(n,e,t,r)))}e.exports=function(e,t,r){"function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:s,destStat:c}=a.checkPathsSync(e,t,"copy",r);return a.checkParentPathsSync(e,s,t,"copy"),function(e,t,r,s){if(s.filter&&!s.filter(t,r))return;const a=o.dirname(r);n.existsSync(a)||i(a);return l(e,t,r,s)}(c,e,t,r)}},8261:(e,t,r)=>{"use strict";const n=r(5030),o=r(1017),i=r(8536).mkdirs,s=r(7270).pathExists,a=r(9384).utimesMillis,l=r(6769);function c(e,t,r,n,a){const l=o.dirname(r);s(l,((o,s)=>o?a(o):s?p(e,t,r,n,a):void i(l,(o=>o?a(o):p(e,t,r,n,a)))))}function u(e,t,r,n,o,i){Promise.resolve(o.filter(r,n)).then((s=>s?e(t,r,n,o,i):i()),(e=>i(e)))}function p(e,t,r,o,i){(o.dereference?n.stat:n.lstat)(t,((s,a)=>s?i(s):a.isDirectory()?function(e,t,r,o,i,s){return t?g(r,o,i,s):function(e,t,r,o,i){n.mkdir(r,(n=>{if(n)return i(n);g(t,r,o,(t=>t?i(t):f(r,e,i)))}))}(e.mode,r,o,i,s)}(a,e,t,r,o,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?function(e,t,r,o,i,s){return t?function(e,t,r,o,i){if(!o.overwrite)return o.errorOnExist?i(new Error(`'${r}' already exists`)):i();n.unlink(r,(n=>n?i(n):d(e,t,r,o,i)))}(e,r,o,i,s):d(e,r,o,i,s)}(a,e,t,r,o,i):a.isSymbolicLink()?y(e,t,r,o,i):a.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):a.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`))))}function d(e,t,r,o,i){n.copyFile(t,r,(n=>n?i(n):o.preserveTimestamps?function(e,t,r,n){if(function(e){return!(128&e)}(e))return function(e,t,r){return f(e,128|t,r)}(r,e,(o=>o?n(o):h(e,t,r,n)));return h(e,t,r,n)}(e.mode,t,r,i):f(r,e.mode,i)))}function h(e,t,r,o){!function(e,t,r){n.stat(e,((e,n)=>e?r(e):a(t,n.atime,n.mtime,r)))}(t,r,(t=>t?o(t):f(r,e,o)))}function f(e,t,r){return n.chmod(e,t,r)}function g(e,t,r,o){n.readdir(e,((n,i)=>n?o(n):m(i,e,t,r,o)))}function m(e,t,r,n,i){const s=e.pop();return s?function(e,t,r,n,i,s){const a=o.join(r,t),c=o.join(n,t);l.checkPaths(a,c,"copy",i,((t,o)=>{if(t)return s(t);const{destStat:l}=o;!function(e,t,r,n,o){n.filter?u(p,e,t,r,n,o):p(e,t,r,n,o)}(l,a,c,i,(t=>t?s(t):m(e,r,n,i,s)))}))}(e,s,t,r,n,i):i()}function y(e,t,r,i,s){n.readlink(t,((t,a)=>t?s(t):(i.dereference&&(a=o.resolve(process.cwd(),a)),e?void n.readlink(r,((t,c)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?n.symlink(a,r,s):s(t):(i.dereference&&(c=o.resolve(process.cwd(),c)),l.isSrcSubdir(a,c)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${c}'.`)):e.isDirectory()&&l.isSrcSubdir(c,a)?s(new Error(`Cannot overwrite '${c}' with '${a}'.`)):function(e,t,r){n.unlink(t,(o=>o?r(o):n.symlink(e,t,r)))}(a,r,s)))):n.symlink(a,r,s))))}e.exports=function(e,t,r,n){"function"!=typeof r||n?"function"==typeof r&&(r={filter:r}):(n=r,r={}),n=n||function(){},(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001"),l.checkPaths(e,t,"copy",r,((o,i)=>{if(o)return n(o);const{srcStat:s,destStat:a}=i;l.checkParentPaths(e,s,t,"copy",(o=>o?n(o):r.filter?u(c,a,e,t,r,n):c(a,e,t,r,n)))}))}},8533:(e,t,r)=>{"use strict";const n=r(4838).fromCallback;e.exports={copy:n(r(8261)),copySync:r(1699)}},203:(e,t,r)=>{"use strict";const n=r(4838).fromPromise,o=r(8412),i=r(1017),s=r(8536),a=r(4292),l=n((async function(e){let t;try{t=await o.readdir(e)}catch{return s.mkdirs(e)}return Promise.all(t.map((t=>a.remove(i.join(e,t)))))}));function c(e){let t;try{t=o.readdirSync(e)}catch{return s.mkdirsSync(e)}t.forEach((t=>{t=i.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:c,emptydirSync:c,emptyDir:l,emptydir:l}},1439:(e,t,r)=>{"use strict";const n=r(4838).fromCallback,o=r(1017),i=r(5030),s=r(8536);e.exports={createFile:n((function(e,t){function r(){i.writeFile(e,"",(e=>{if(e)return t(e);t()}))}i.stat(e,((n,a)=>{if(!n&&a.isFile())return t();const l=o.dirname(e);i.stat(l,((e,n)=>{if(e)return"ENOENT"===e.code?s.mkdirs(l,(e=>{if(e)return t(e);r()})):t(e);n.isDirectory()?r():i.readdir(l,(e=>{if(e)return t(e)}))}))}))})),createFileSync:function(e){let t;try{t=i.statSync(e)}catch{}if(t&&t.isFile())return;const r=o.dirname(e);try{i.statSync(r).isDirectory()||i.readdirSync(r)}catch(e){if(!e||"ENOENT"!==e.code)throw e;s.mkdirsSync(r)}i.writeFileSync(e,"")}}},9884:(e,t,r)=>{"use strict";const{createFile:n,createFileSync:o}=r(1439),{createLink:i,createLinkSync:s}=r(565),{createSymlink:a,createSymlinkSync:l}=r(6621);e.exports={createFile:n,createFileSync:o,ensureFile:n,ensureFileSync:o,createLink:i,createLinkSync:s,ensureLink:i,ensureLinkSync:s,createSymlink:a,createSymlinkSync:l,ensureSymlink:a,ensureSymlinkSync:l}},565:(e,t,r)=>{"use strict";const n=r(4838).fromCallback,o=r(1017),i=r(5030),s=r(8536),a=r(7270).pathExists,{areIdentical:l}=r(6769);e.exports={createLink:n((function(e,t,r){function n(e,t){i.link(e,t,(e=>{if(e)return r(e);r(null)}))}i.lstat(t,((c,u)=>{i.lstat(e,((i,c)=>{if(i)return i.message=i.message.replace("lstat","ensureLink"),r(i);if(u&&l(c,u))return r(null);const p=o.dirname(t);a(p,((o,i)=>o?r(o):i?n(e,t):void s.mkdirs(p,(o=>{if(o)return r(o);n(e,t)}))))}))}))})),createLinkSync:function(e,t){let r;try{r=i.lstatSync(t)}catch{}try{const t=i.lstatSync(e);if(r&&l(t,r))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=o.dirname(t);return i.existsSync(n)||s.mkdirsSync(n),i.linkSync(e,t)}}},1059:(e,t,r)=>{"use strict";const n=r(1017),o=r(5030),i=r(7270).pathExists;e.exports={symlinkPaths:function(e,t,r){if(n.isAbsolute(e))return o.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:e})));{const s=n.dirname(t),a=n.join(s,e);return i(a,((t,i)=>t?r(t):i?r(null,{toCwd:a,toDst:e}):o.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:n.relative(s,e)})))))}},symlinkPathsSync:function(e,t){let r;if(n.isAbsolute(e)){if(r=o.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const i=n.dirname(t),s=n.join(i,e);if(r=o.existsSync(s),r)return{toCwd:s,toDst:e};if(r=o.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:n.relative(i,e)}}}}},9135:(e,t,r)=>{"use strict";const n=r(5030);e.exports={symlinkType:function(e,t,r){if(r="function"==typeof t?t:r,t="function"!=typeof t&&t)return r(null,t);n.lstat(e,((e,n)=>{if(e)return r(null,"file");t=n&&n.isDirectory()?"dir":"file",r(null,t)}))},symlinkTypeSync:function(e,t){let r;if(t)return t;try{r=n.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}}},6621:(e,t,r)=>{"use strict";const n=r(4838).fromCallback,o=r(1017),i=r(8412),s=r(8536),a=s.mkdirs,l=s.mkdirsSync,c=r(1059),u=c.symlinkPaths,p=c.symlinkPathsSync,d=r(9135),h=d.symlinkType,f=d.symlinkTypeSync,g=r(7270).pathExists,{areIdentical:m}=r(6769);function y(e,t,r,n){u(e,t,((s,l)=>{if(s)return n(s);e=l.toDst,h(l.toCwd,r,((r,s)=>{if(r)return n(r);const l=o.dirname(t);g(l,((r,o)=>r?n(r):o?i.symlink(e,t,s,n):void a(l,(r=>{if(r)return n(r);i.symlink(e,t,s,n)}))))}))}))}e.exports={createSymlink:n((function(e,t,r,n){n="function"==typeof r?r:n,r="function"!=typeof r&&r,i.lstat(t,((o,s)=>{!o&&s.isSymbolicLink()?Promise.all([i.stat(e),i.stat(t)]).then((([o,i])=>{if(m(o,i))return n(null);y(e,t,r,n)})):y(e,t,r,n)}))})),createSymlinkSync:function(e,t,r){let n;try{n=i.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const r=i.statSync(e),n=i.statSync(t);if(m(r,n))return}const s=p(e,t);e=s.toDst,r=f(s.toCwd,r);const a=o.dirname(t);return i.existsSync(a)||l(a),i.symlinkSync(e,t,r)}}},8412:(e,t,r)=>{"use strict";const n=r(4838).fromCallback,o=r(5030),i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof o[e]));Object.assign(t,o),i.forEach((e=>{t[e]=n(o[e])})),t.exists=function(e,t){return"function"==typeof t?o.exists(e,t):new Promise((t=>o.exists(e,t)))},t.read=function(e,t,r,n,i,s){return"function"==typeof s?o.read(e,t,r,n,i,s):new Promise(((s,a)=>{o.read(e,t,r,n,i,((e,t,r)=>{if(e)return a(e);s({bytesRead:t,buffer:r})}))}))},t.write=function(e,t,...r){return"function"==typeof r[r.length-1]?o.write(e,t,...r):new Promise(((n,i)=>{o.write(e,t,...r,((e,t,r)=>{if(e)return i(e);n({bytesWritten:t,buffer:r})}))}))},"function"==typeof o.writev&&(t.writev=function(e,t,...r){return"function"==typeof r[r.length-1]?o.writev(e,t,...r):new Promise(((n,i)=>{o.writev(e,t,...r,((e,t,r)=>{if(e)return i(e);n({bytesWritten:t,buffers:r})}))}))}),"function"==typeof o.realpath.native?t.realpath.native=n(o.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")},2877:(e,t,r)=>{"use strict";e.exports={...r(8412),...r(8533),...r(203),...r(9884),...r(3026),...r(8536),...r(8705),...r(6566),...r(7270),...r(4292)}},3026:(e,t,r)=>{"use strict";const n=r(4838).fromPromise,o=r(1971);o.outputJson=n(r(8858)),o.outputJsonSync=r(9280),o.outputJSON=o.outputJson,o.outputJSONSync=o.outputJsonSync,o.writeJSON=o.writeJson,o.writeJSONSync=o.writeJsonSync,o.readJSON=o.readJson,o.readJSONSync=o.readJsonSync,e.exports=o},1971:(e,t,r)=>{"use strict";const n=r(5159);e.exports={readJson:n.readFile,readJsonSync:n.readFileSync,writeJson:n.writeFile,writeJsonSync:n.writeFileSync}},9280:(e,t,r)=>{"use strict";const{stringify:n}=r(788),{outputFileSync:o}=r(6566);e.exports=function(e,t,r){const i=n(t,r);o(e,i,r)}},8858:(e,t,r)=>{"use strict";const{stringify:n}=r(788),{outputFile:o}=r(6566);e.exports=async function(e,t,r={}){const i=n(t,r);await o(e,i,r)}},8536:(e,t,r)=>{"use strict";const n=r(4838).fromPromise,{makeDir:o,makeDirSync:i}=r(7245),s=n(o);e.exports={mkdirs:s,mkdirsSync:i,mkdirp:s,mkdirpSync:i,ensureDir:s,ensureDirSync:i}},7245:(e,t,r)=>{"use strict";const n=r(8412),{checkPath:o}=r(3333),i=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(o(e),n.mkdir(e,{mode:i(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(o(e),n.mkdirSync(e,{mode:i(t),recursive:!0}))},3333:(e,t,r)=>{"use strict";const n=r(1017);e.exports.checkPath=function(e){if("win32"===process.platform){if(/[<>:"|?*]/.test(e.replace(n.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}}},8705:(e,t,r)=>{"use strict";const n=r(4838).fromCallback;e.exports={move:n(r(1079)),moveSync:r(8438)}},8438:(e,t,r)=>{"use strict";const n=r(5030),o=r(1017),i=r(8533).copySync,s=r(4292).removeSync,a=r(8536).mkdirpSync,l=r(6769);function c(e,t,r){try{n.renameSync(e,t)}catch(n){if("EXDEV"!==n.code)throw n;return function(e,t,r){const n={overwrite:r,errorOnExist:!0};return i(e,t,n),s(e)}(e,t,r)}}e.exports=function(e,t,r){const i=(r=r||{}).overwrite||r.clobber||!1,{srcStat:u,isChangingCase:p=!1}=l.checkPathsSync(e,t,"move",r);return l.checkParentPathsSync(e,u,t,"move"),function(e){const t=o.dirname(e);return o.parse(t).root===t}(t)||a(o.dirname(t)),function(e,t,r,o){if(o)return c(e,t,r);if(r)return s(t),c(e,t,r);if(n.existsSync(t))throw new Error("dest already exists.");return c(e,t,r)}(e,t,i,p)}},1079:(e,t,r)=>{"use strict";const n=r(5030),o=r(1017),i=r(8533).copy,s=r(4292).remove,a=r(8536).mkdirp,l=r(7270).pathExists,c=r(6769);function u(e,t,r,n,o){return n?p(e,t,r,o):r?s(t,(n=>n?o(n):p(e,t,r,o))):void l(t,((n,i)=>n?o(n):i?o(new Error("dest already exists.")):p(e,t,r,o)))}function p(e,t,r,o){n.rename(e,t,(n=>n?"EXDEV"!==n.code?o(n):function(e,t,r,n){const o={overwrite:r,errorOnExist:!0};i(e,t,o,(t=>t?n(t):s(e,n)))}(e,t,r,o):o()))}e.exports=function(e,t,r,n){"function"==typeof r&&(n=r,r={});const i=(r=r||{}).overwrite||r.clobber||!1;c.checkPaths(e,t,"move",r,((r,s)=>{if(r)return n(r);const{srcStat:l,isChangingCase:p=!1}=s;c.checkParentPaths(e,l,t,"move",(r=>r?n(r):function(e){const t=o.dirname(e);return o.parse(t).root===t}(t)?u(e,t,i,p,n):void a(o.dirname(t),(r=>r?n(r):u(e,t,i,p,n)))))}))}},6566:(e,t,r)=>{"use strict";const n=r(4838).fromCallback,o=r(5030),i=r(1017),s=r(8536),a=r(7270).pathExists;e.exports={outputFile:n((function(e,t,r,n){"function"==typeof r&&(n=r,r="utf8");const l=i.dirname(e);a(l,((i,a)=>i?n(i):a?o.writeFile(e,t,r,n):void s.mkdirs(l,(i=>{if(i)return n(i);o.writeFile(e,t,r,n)}))))})),outputFileSync:function(e,...t){const r=i.dirname(e);if(o.existsSync(r))return o.writeFileSync(e,...t);s.mkdirsSync(r),o.writeFileSync(e,...t)}}},7270:(e,t,r)=>{"use strict";const n=r(4838).fromPromise,o=r(8412);e.exports={pathExists:n((function(e){return o.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:o.existsSync}},4292:(e,t,r)=>{"use strict";const n=r(5030),o=r(4838).fromCallback,i=r(5881);e.exports={remove:o((function(e,t){if(n.rm)return n.rm(e,{recursive:!0,force:!0},t);i(e,t)})),removeSync:function(e){if(n.rmSync)return n.rmSync(e,{recursive:!0,force:!0});i.sync(e)}}},5881:(e,t,r)=>{"use strict";const n=r(5030),o=r(1017),i=r(9491),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((t=>{e[t]=e[t]||n[t],e[t+="Sync"]=e[t]||n[t]})),e.maxBusyTries=e.maxBusyTries||3}function l(e,t,r){let n=0;"function"==typeof t&&(r=t,t={}),i(e,"rimraf: missing path"),i.strictEqual(typeof e,"string","rimraf: path should be a string"),i.strictEqual(typeof r,"function","rimraf: callback function required"),i(t,"rimraf: invalid options argument provided"),i.strictEqual(typeof t,"object","rimraf: options should be object"),a(t),c(e,t,(function o(i){if(i){if(("EBUSY"===i.code||"ENOTEMPTY"===i.code||"EPERM"===i.code)&&n<t.maxBusyTries){n++;return setTimeout((()=>c(e,t,o)),100*n)}"ENOENT"===i.code&&(i=null)}r(i)}))}function c(e,t,r){i(e),i(t),i("function"==typeof r),t.lstat(e,((n,o)=>n&&"ENOENT"===n.code?r(null):n&&"EPERM"===n.code&&s?u(e,t,n,r):o&&o.isDirectory()?d(e,t,n,r):void t.unlink(e,(n=>{if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return s?u(e,t,n,r):d(e,t,n,r);if("EISDIR"===n.code)return d(e,t,n,r)}return r(n)}))))}function u(e,t,r,n){i(e),i(t),i("function"==typeof n),t.chmod(e,438,(o=>{o?n("ENOENT"===o.code?null:r):t.stat(e,((o,i)=>{o?n("ENOENT"===o.code?null:r):i.isDirectory()?d(e,t,r,n):t.unlink(e,n)}))}))}function p(e,t,r){let n;i(e),i(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw r}try{n=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw r}n.isDirectory()?f(e,t,r):t.unlinkSync(e)}function d(e,t,r,n){i(e),i(t),i("function"==typeof n),t.rmdir(e,(s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?n(r):n(s):function(e,t,r){i(e),i(t),i("function"==typeof r),t.readdir(e,((n,i)=>{if(n)return r(n);let s,a=i.length;if(0===a)return t.rmdir(e,r);i.forEach((n=>{l(o.join(e,n),t,(n=>{if(!s)return n?r(s=n):void(0==--a&&t.rmdir(e,r))}))}))}))}(e,t,n)}))}function h(e,t){let r;a(t=t||{}),i(e,"rimraf: missing path"),i.strictEqual(typeof e,"string","rimraf: path should be a string"),i(t,"rimraf: missing options"),i.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&s&&p(e,t,r)}try{r&&r.isDirectory()?f(e,t,null):t.unlinkSync(e)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return s?p(e,t,r):f(e,t,r);if("EISDIR"!==r.code)throw r;f(e,t,r)}}function f(e,t,r){i(e),i(t);try{t.rmdirSync(e)}catch(n){if("ENOTDIR"===n.code)throw r;if("ENOTEMPTY"===n.code||"EEXIST"===n.code||"EPERM"===n.code)!function(e,t){if(i(e),i(t),t.readdirSync(e).forEach((r=>h(o.join(e,r),t))),!s){return t.rmdirSync(e,t)}{const r=Date.now();do{try{return t.rmdirSync(e,t)}catch{}}while(Date.now()-r<500)}}(e,t);else if("ENOENT"!==n.code)throw n}}e.exports=l,l.sync=h},6769:(e,t,r)=>{"use strict";const n=r(8412),o=r(1017),i=r(3837);function s(e,t,r){const o=r.dereference?e=>n.stat(e,{bigint:!0}):e=>n.lstat(e,{bigint:!0});return Promise.all([o(e),o(t).catch((e=>{if("ENOENT"===e.code)return null;throw e}))]).then((([e,t])=>({srcStat:e,destStat:t})))}function a(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function l(e,t){const r=o.resolve(e).split(o.sep).filter((e=>e)),n=o.resolve(t).split(o.sep).filter((e=>e));return r.reduce(((e,t,r)=>e&&n[r]===t),!0)}function c(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,r,n,u){i.callbackify(s)(e,t,n,((n,i)=>{if(n)return u(n);const{srcStat:s,destStat:p}=i;if(p){if(a(s,p)){const n=o.basename(e),i=o.basename(t);return"move"===r&&n!==i&&n.toLowerCase()===i.toLowerCase()?u(null,{srcStat:s,destStat:p,isChangingCase:!0}):u(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&!p.isDirectory())return u(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!s.isDirectory()&&p.isDirectory())return u(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return s.isDirectory()&&l(e,t)?u(new Error(c(e,t,r))):u(null,{srcStat:s,destStat:p})}))},checkPathsSync:function(e,t,r,i){const{srcStat:s,destStat:u}=function(e,t,r){let o;const i=r.dereference?e=>n.statSync(e,{bigint:!0}):e=>n.lstatSync(e,{bigint:!0}),s=i(e);try{o=i(t)}catch(e){if("ENOENT"===e.code)return{srcStat:s,destStat:null};throw e}return{srcStat:s,destStat:o}}(e,t,i);if(u){if(a(s,u)){const n=o.basename(e),i=o.basename(t);if("move"===r&&n!==i&&n.toLowerCase()===i.toLowerCase())return{srcStat:s,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&l(e,t))throw new Error(c(e,t,r));return{srcStat:s,destStat:u}},checkParentPaths:function e(t,r,i,s,l){const u=o.resolve(o.dirname(t)),p=o.resolve(o.dirname(i));if(p===u||p===o.parse(p).root)return l();n.stat(p,{bigint:!0},((n,o)=>n?"ENOENT"===n.code?l():l(n):a(r,o)?l(new Error(c(t,i,s))):e(t,r,p,s,l)))},checkParentPathsSync:function e(t,r,i,s){const l=o.resolve(o.dirname(t)),u=o.resolve(o.dirname(i));if(u===l||u===o.parse(u).root)return;let p;try{p=n.statSync(u,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(a(r,p))throw new Error(c(t,i,s));return e(t,r,u,s)},isSrcSubdir:l,areIdentical:a}},9384:(e,t,r)=>{"use strict";const n=r(5030);e.exports={utimesMillis:function(e,t,r,o){n.open(e,"r+",((e,i)=>{if(e)return o(e);n.futimes(i,t,r,(e=>{n.close(i,(t=>{o&&o(e||t)}))}))}))},utimesMillisSync:function(e,t,r){const o=n.openSync(e,"r+");return n.futimesSync(o,t,r),n.closeSync(o)}}},8983:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var r={__proto__:t(e)};else r=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})),r};var t=Object.getPrototypeOf||function(e){return e.__proto__}},5030:(e,t,r)=>{var n,o,i=r(7147),s=r(2218),a=r(1886),l=r(8983),c=r(3837);function u(e,t){Object.defineProperty(e,n,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(n=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",o="___graceful-fs.previous");var p,d=function(){};if(c.debuglog?d=c.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var e=c.format.apply(c,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!i[n]){var h=global[n]||[];u(i,h),i.close=function(e){function t(t,r){return e.call(i,t,(function(e){e||m(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(t,o,{value:e}),t}(i.close),i.closeSync=function(e){function t(t){e.apply(i,arguments),m()}return Object.defineProperty(t,o,{value:e}),t}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){d(i[n]),r(9491).equal(i[n].length,0)}))}function f(e){s(e),e.gracefulify=f,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var t=e.readFile;e.readFile=function(e,r,n){"function"==typeof r&&(n=r,r=null);return function e(r,n,o,i){return t(r,n,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof o&&o.apply(this,arguments):g([e,[r,n,o],t,i||Date.now(),Date.now()])}))}(e,r,n)};var r=e.writeFile;e.writeFile=function(e,t,n,o){"function"==typeof n&&(o=n,n=null);return function e(t,n,o,i,s){return r(t,n,o,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof i&&i.apply(this,arguments):g([e,[t,n,o,i],r,s||Date.now(),Date.now()])}))}(e,t,n,o)};var n=e.appendFile;n&&(e.appendFile=function(e,t,r,o){"function"==typeof r&&(o=r,r=null);return function e(t,r,o,i,s){return n(t,r,o,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof i&&i.apply(this,arguments):g([e,[t,r,o,i],n,s||Date.now(),Date.now()])}))}(e,t,r,o)});var o=e.copyFile;o&&(e.copyFile=function(e,t,r,n){"function"==typeof r&&(n=r,r=0);return function e(t,r,n,i,s){return o(t,r,n,(function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):g([e,[t,r,n,i],o,s||Date.now(),Date.now()])}))}(e,t,r,n)});var i=e.readdir;e.readdir=function(e,t,r){"function"==typeof t&&(r=t,t=null);var n=l.test(process.version)?function(e,t,r,n){return i(e,o(e,t,r,n))}:function(e,t,r,n){return i(e,t,o(e,t,r,n))};return n(e,t,r);function o(e,t,r,o){return function(i,s){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?(s&&s.sort&&s.sort(),"function"==typeof r&&r.call(this,i,s)):g([n,[e,t,r],i,o||Date.now(),Date.now()])}}};var l=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var c=a(e);m=c.ReadStream,y=c.WriteStream}var u=e.ReadStream;u&&(m.prototype=Object.create(u.prototype),m.prototype.open=function(){var e=this;w(e.path,e.flags,e.mode,(function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())}))});var p=e.WriteStream;p&&(y.prototype=Object.create(p.prototype),y.prototype.open=function(){var e=this;w(e.path,e.flags,e.mode,(function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var d=m;Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var h=y;function m(e,t){return this instanceof m?(u.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function y(e,t){return this instanceof y?(p.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var v=e.open;function w(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,o,i){return v(t,r,n,(function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,r,n,o],s,i||Date.now(),Date.now()])}))}(e,t,r,n)}return e.open=w,e}function g(e){d("ENQUEUE",e[0].name,e[1]),i[n].push(e),y()}function m(){for(var e=Date.now(),t=0;t<i[n].length;++t)i[n][t].length>2&&(i[n][t][3]=e,i[n][t][4]=e);y()}function y(){if(clearTimeout(p),p=void 0,0!==i[n].length){var e=i[n].shift(),t=e[0],r=e[1],o=e[2],s=e[3],a=e[4];if(void 0===s)d("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-s>=6e4){d("TIMEOUT",t.name,r);var l=r.pop();"function"==typeof l&&l.call(null,o)}else{var c=Date.now()-a,u=Math.max(a-s,1);c>=Math.min(1.2*u,100)?(d("RETRY",t.name,r),t.apply(null,r.concat([s]))):i[n].push(e)}void 0===p&&(p=setTimeout(y,0))}}global[n]||u(global,i[n]),e.exports=f(l(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(e.exports=f(i),i.__patched=!0)},1886:(e,t,r)=>{var n=r(2781).Stream;e.exports=function(e){return{ReadStream:function t(r,o){if(!(this instanceof t))return new t(r,o);n.call(this);var i=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,o=o||{};for(var s=Object.keys(o),a=0,l=s.length;a<l;a++){var c=s[a];this[c]=o[c]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){i._read()}));e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return i.emit("error",e),void(i.readable=!1);i.fd=t,i.emit("open",t),i._read()}))},WriteStream:function t(r,o){if(!(this instanceof t))return new t(r,o);n.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var i=Object.keys(o),s=0,a=i.length;s<a;s++){var l=i[s];this[l]=o[l]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},2218:(e,t,r)=>{var n=r(2057),o=process.cwd,i=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=o.call(process)),i};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){i=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,r,o){e.open(t,n.O_WRONLY|n.O_SYMLINK,r,(function(t,n){t?o&&o(t):e.fchmod(n,r,(function(t){e.close(n,(function(e){o&&o(t||e)}))}))}))},e.lchmodSync=function(t,r){var o,i=e.openSync(t,n.O_WRONLY|n.O_SYMLINK,r),s=!0;try{o=e.fchmodSync(i,r),s=!1}finally{if(s)try{e.closeSync(i)}catch(e){}else e.closeSync(i)}return o}}(e);e.lutimes||function(e){n.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,r,o,i){e.open(t,n.O_SYMLINK,(function(t,n){t?i&&i(t):e.futimes(n,r,o,(function(t){e.close(n,(function(e){i&&i(t||e)}))}))}))},e.lutimesSync=function(t,r,o){var i,s=e.openSync(t,n.O_SYMLINK),a=!0;try{i=e.futimesSync(s,r,o),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return i}):e.futimes&&(e.lutimes=function(e,t,r,n){n&&process.nextTick(n)},e.lutimesSync=function(){})}(e);e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=i(e.chownSync),e.fchownSync=i(e.fchownSync),e.lchownSync=i(e.lchownSync),e.chmodSync=r(e.chmodSync),e.fchmodSync=r(e.fchmodSync),e.lchmodSync=r(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,r){r&&process.nextTick(r)},e.lchmodSync=function(){});e.chown&&!e.lchown&&(e.lchown=function(e,t,r,n){n&&process.nextTick(n)},e.lchownSync=function(){});"win32"===s&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function r(r,n,o){var i=Date.now(),s=0;t(r,n,(function a(l){if(l&&("EACCES"===l.code||"EPERM"===l.code||"EBUSY"===l.code)&&Date.now()-i<6e4)return setTimeout((function(){e.stat(n,(function(e,i){e&&"ENOENT"===e.code?t(r,n,a):o(l)}))}),s),void(s<100&&(s+=10));o&&o(l)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.rename));function t(t){return t?function(r,n,o){return t.call(e,r,n,(function(e){c(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function r(t){return t?function(r,n){try{return t.call(e,r,n)}catch(e){if(!c(e))throw e}}:t}function o(t){return t?function(r,n,o,i){return t.call(e,r,n,o,(function(e){c(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function i(t){return t?function(r,n,o){try{return t.call(e,r,n,o)}catch(e){if(!c(e))throw e}}:t}function a(t){return t?function(r,n,o){function i(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof n&&(o=n,n=null),n?t.call(e,r,n,i):t.call(e,r,i)}:t}function l(t){return t?function(r,n){var o=n?t.call(e,r,n):t.call(e,r);return o&&(o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296)),o}:t}function c(e){return!e||("ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code))}e.read="function"!=typeof e.read?e.read:function(t){function r(r,n,o,i,s,a){var l;if(a&&"function"==typeof a){var c=0;l=function(u,p,d){if(u&&"EAGAIN"===u.code&&c<10)return c++,t.call(e,r,n,o,i,s,l);a.apply(this,arguments)}}return t.call(e,r,n,o,i,s,l)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(u=e.readSync,function(t,r,n,o,i){for(var s=0;;)try{return u.call(e,t,r,n,o,i)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}});var u}},1981:e=>{"use strict";const t=e=>"string"==typeof e,r=()=>{let e,t;const r=new Promise(((r,n)=>{e=r,t=n}));return r.resolve=e,r.reject=t,r},n=e=>null==e?"":""+e,o=/###/g,i=e=>e&&e.indexOf("###")>-1?e.replace(o,"."):e,s=e=>!e||t(e),a=(e,r,n)=>{const o=t(r)?r.split("."):r;let a=0;for(;a<o.length-1;){if(s(e))return{};const t=i(o[a]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++a}return s(e)?{}:{obj:e,k:i(o[a])}},l=(e,t,r)=>{const{obj:n,k:o}=a(e,t,Object);if(void 0!==n||1===t.length)return void(n[o]=r);let i=t[t.length-1],s=t.slice(0,t.length-1),l=a(e,s,Object);for(;void 0===l.obj&&s.length;)i=`${s[s.length-1]}.${i}`,s=s.slice(0,s.length-1),l=a(e,s,Object),l?.obj&&void 0!==l.obj[`${l.k}.${i}`]&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=r},c=(e,t)=>{const{obj:r,k:n}=a(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},u=(e,r,n)=>{for(const o in r)"__proto__"!==o&&"constructor"!==o&&(o in e?t(e[o])||e[o]instanceof String||t(r[o])||r[o]instanceof String?n&&(e[o]=r[o]):u(e[o],r[o],n):e[o]=r[o]);return e},p=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const h=e=>t(e)?e.replace(/[&<>"'\/]/g,(e=>d[e])):e;const f=[" ",",","?","!",";"],g=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}(20),m=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const n=t.split(r);let o=e;for(let e=0;e<n.length;){if(!o||"object"!=typeof o)return;let t,i="";for(let s=e;s<n.length;++s)if(s!==e&&(i+=r),i+=n[s],t=o[i],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&s<n.length-1)continue;e+=s-e+1;break}o=t}return o},y=e=>e?.replace("_","-"),v={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class w{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||v,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,o){return o&&!this.debug?null:(t(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new w(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new w(this.logger,e)}}var b=new w;class E{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,n]=e;for(let e=0;e<n;e++)t(...r)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[n,o]=t;for(let t=0;t<o;t++)n.apply(n,[e,...r])}))}}}class S extends E{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,r,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,s=void 0!==o.ignoreJSONStructure?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,r],n&&(Array.isArray(n)?a.push(...n):t(n)&&i?a.push(...n.split(i)):a.push(n)));const l=c(this.data,a);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=a[0],r=a[1],n=a.slice(2).join(".")),!l&&s&&t(n)?m(this.data?.[e]?.[r],n,i):l}addResource(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let s=[e,t];r&&(s=s.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(s=e.split("."),n=t,t=s[1]),this.addNamespaces(t),l(this.data,s,n),o.silent||this.emit("added",e,t,r,n)}addResources(e,r,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const o in n)(t(n[o])||Array.isArray(n[o]))&&this.addResource(e,r,o,n[o],{silent:!0});o.silent||this.emit("added",e,r,n)}addResourceBundle(e,t,r,n,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),n=r,r=t,t=s[1]),this.addNamespaces(t);let a=c(this.data,s)||{};i.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?u(a,r,o):a={...a,...r},l(this.data,s,a),i.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var O={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,o){return e.forEach((e=>{t=this.processors[e]?.process(t,r,n,o)??t})),t}};const A={},_=e=>!t(e)&&"boolean"!=typeof e&&"number"!=typeof e;class C extends E{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;super(),r=e,n=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((e=>{r[e]&&(n[e]=r[e])})),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=b.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const r=this.resolve(e,t);return void 0!==r?.res}extractFromKey(e,r){let n=void 0!==r.nsSeparator?r.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||r.keySeparator||this.options.userDefinedNsSeparator||r.nsSeparator||((e,t,r)=>{t=t||"",r=r||"";const n=f.filter((e=>t.indexOf(e)<0&&r.indexOf(e)<0));if(0===n.length)return!0;const o=g.getRegExp(`(${n.map((e=>"?"===e?"\\?":e)).join("|")})`);let i=!o.test(e);if(!i){const t=e.indexOf(r);t>0&&!o.test(e.substring(0,t))&&(i=!0)}return i})(e,n,o));if(s&&!a){const r=e.match(this.interpolator.nestingRegexp);if(r&&r.length>0)return{key:e,namespaces:t(i)?[i]:i};const s=e.split(n);(n!==o||n===o&&this.options.ns.indexOf(s[0])>-1)&&(i=s.shift()),e=s.join(o)}return{key:e,namespaces:t(i)?[i]:i}}translate(e,r,n){if("object"!=typeof r&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof r&&(r={...r}),r||(r={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const o=void 0!==r.returnDetails?r.returnDetails:this.options.returnDetails,i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],r),l=a[a.length-1],c=r.lng||this.language,u=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===c?.toLowerCase()){if(u){const e=r.nsSeparator||this.options.nsSeparator;return o?{res:`${l}${e}${s}`,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${e}${s}`}return o?{res:s,usedKey:s,exactUsedKey:s,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:s}const p=this.resolve(e,r);let d=p?.res;const h=p?.usedKey||s,f=p?.exactUsedKey||s,g=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,y=void 0!==r.count&&!t(r.count),v=C.hasDefaultValue(r),w=y?this.pluralResolver.getSuffix(c,r.count,r):"",b=r.ordinal&&y?this.pluralResolver.getSuffix(c,r.count,{ordinal:!1}):"",E=y&&!r.ordinal&&0===r.count,S=E&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${w}`]||r[`defaultValue${b}`]||r.defaultValue;let O=d;m&&!d&&v&&(O=S);const A=_(O),I=Object.prototype.toString.apply(O);if(!(m&&O&&A&&["[object Number]","[object Function]","[object RegExp]"].indexOf(I)<0)||t(g)&&Array.isArray(O))if(m&&t(g)&&Array.isArray(d))d=d.join(g),d&&(d=this.extendTranslation(d,e,r,n));else{let t=!1,o=!1;!this.isValidLookup(d)&&v&&(t=!0,d=S),this.isValidLookup(d)||(o=!0,d=s);const a=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:d,u=v&&S!==d&&this.options.updateMissing;if(o||t||u){if(this.logger.log(u?"updateKey":"missingKey",c,l,s,u?S:d),i){const e=this.resolve(s,{...r,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let r=0;r<t.length;r++)e.push(t[r]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(r.lng||this.language):e.push(r.lng||this.language);const n=(e,t,n)=>{const o=v&&n!==d?n:a;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,o,u,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,t,o,u,r),this.emit("missingKey",e,l,t,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?e.forEach((e=>{const t=this.pluralResolver.getSuffixes(e,r);E&&r[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach((t=>{n([e],s+t,r[`defaultValue${t}`]||S)}))})):n(e,s,S))}d=this.extendTranslation(d,e,r,p,n),o&&d===s&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${s}`),(o||t)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,t?d:void 0))}else{if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,O,{...r,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return o?(p.res=e,p.usedParams=this.getUsedParamsDetails(r),p):e}if(i){const e=Array.isArray(O),t=e?[]:{},n=e?f:h;for(const e in O)if(Object.prototype.hasOwnProperty.call(O,e)){const o=`${n}${i}${e}`;t[e]=v&&!d?this.translate(o,{...r,defaultValue:_(S)?S[e]:void 0,joinArrays:!1,ns:a}):this.translate(o,{...r,joinArrays:!1,ns:a}),t[e]===o&&(t[e]=O[e])}d=t}}return o?(p.res=d,p.usedParams=this.getUsedParamsDetails(r),p):d}extendTranslation(e,r,n,o,i){var s=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a=t(e)&&(void 0!==n?.interpolation?.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(a){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let c=n.replace&&!t(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,n.lng||this.language||o.usedLng,n),a){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(n.nest=!1)}!n.lng&&o&&o.res&&(n.lng=this.language||o.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return i?.[0]!==t[0]||n.context?s.translate(...t,r):(s.logger.warn(`It seems you are nesting recursively key: ${t[0]} in key: ${r[0]}`),null)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,l=t(a)?[a]:a;return null!=e&&l?.length&&!1!==n.applyPostProcessor&&(e=O.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r,n,o,i,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(e,a),c=l.key;n=c;let u=l.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const p=void 0!==a.count&&!t(a.count),d=p&&!a.ordinal&&0===a.count,h=void 0!==a.context&&(t(a.context)||"number"==typeof a.context)&&""!==a.context,f=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);u.forEach((e=>{this.isValidLookup(r)||(s=e,A[`${f[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(s)||(A[`${f[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${f.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((t=>{if(this.isValidLookup(r))return;i=t;const n=[c];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(n,c,t,e,a);else{let e;p&&(e=this.pluralResolver.getSuffix(t,a.count,a));const r=`${this.options.pluralSeparator}zero`,o=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(n.push(c+e),a.ordinal&&0===e.indexOf(o)&&n.push(c+e.replace(o,this.options.pluralSeparator)),d&&n.push(c+r)),h){const t=`${c}${this.options.contextSeparator}${a.context}`;n.push(t),p&&(n.push(t+e),a.ordinal&&0===e.indexOf(o)&&n.push(t+e.replace(o,this.options.pluralSeparator)),d&&n.push(t+r))}}let s;for(;s=n.pop();)this.isValidLookup(r)||(o=s,r=this.getResource(t,e,s,a))})))}))})),{res:r,usedKey:n,exactUsedKey:o,usedLng:i,usedNS:s}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!t(e.replace);let o=n?e.replace:e;if(n&&void 0!==e.count&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!n){o={...o};for(const e of r)delete o[e]}return o}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,12)&&void 0!==e[r])return!0;return!1}}class I{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=b.create("languageUtils")}getScriptPartFromCode(e){if(!(e=y(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=y(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(t(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const r=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(r)||(t=r)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find((e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,r){if(!e)return[];if("function"==typeof e&&(e=e(r)),t(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),o=[],i=e=>{e&&(this.isSupportedCode(e)?o.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return t(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):t(e)&&i(this.formatLanguageCode(e)),n.forEach((e=>{o.indexOf(e)<0&&i(this.formatLanguageCode(e))})),o}}const x={zero:0,one:1,two:2,few:3,many:4,other:5},T={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class N{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=b.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=y("dev"===e?"en":e),n=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:n});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let i;try{i=new Intl.PluralRules(r,{type:n})}catch(r){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),T;if(!e.match(/-|_/))return T;const n=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(n,t)}return this.pluralRulesCache[o]=i,i}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort(((e,t)=>x[e]-x[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):[]}getSuffix(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.getRule(e,r);return n?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const P=function(e,r,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=((e,t,r)=>{const n=c(e,r);return void 0!==n?n:c(t,r)})(e,r,n);return!s&&i&&t(n)&&(s=m(e,n,o),void 0===s&&(s=m(r,n,o))),s},R=e=>e.replace(/\$/g,"$$$$");class D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=b.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:n,prefix:o,prefixEscaped:i,suffix:s,suffixEscaped:a,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:m,nestingOptionsSeparator:y,maxReplaces:v,alwaysFormat:w}=e.interpolation;this.escape=void 0!==t?t:h,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==n&&n,this.prefix=o?p(o):i||"{{",this.suffix=s?p(s):a||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?p(d):f||p("$t("),this.nestingSuffix=g?p(g):m||p(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=v||1e3,this.alwaysFormat=void 0!==w&&w,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,o,i){let s,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=e=>{if(e.indexOf(this.formatSeparator)<0){const t=P(r,c,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(t,void 0,o,{...i,...r,interpolationkey:e}):t}const t=e.split(this.formatSeparator),n=t.shift().trim(),s=t.join(this.formatSeparator).trim();return this.format(P(r,c,n,this.options.keySeparator,this.options.ignoreJSONStructure),s,o,{...i,...r,interpolationkey:n})};this.resetRegExp();const p=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=void 0!==i?.interpolation?.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>R(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?R(this.escape(e)):R(e)}].forEach((r=>{for(l=0;s=r.regex.exec(e);){const o=s[1].trim();if(a=u(o),void 0===a)if("function"==typeof p){const r=p(e,s,i);a=t(r)?r:""}else if(i&&Object.prototype.hasOwnProperty.call(i,o))a="";else{if(d){a=s[0];continue}this.logger.warn(`missed to pass in variable ${o} for interpolating ${e}`),a=""}else t(a)||this.useRawValueToEscape||(a=n(a));const c=r.safeValue(a);if(e=e.replace(s[0],c),d?(r.regex.lastIndex+=a.length,r.regex.lastIndex-=s[0].length):r.regex.lastIndex=0,l++,l>=this.maxReplaces)break}})),e}nest(e,r){let o,i,s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=(e,t)=>{const r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;const n=e.split(new RegExp(`${r}[ ]*{`));let o=`{${n[1]}`;e=n[0],o=this.interpolate(o,s);const i=o.match(/'/g),a=o.match(/"/g);((i?.length??0)%2==0&&!a||a.length%2!=0)&&(o=o.replace(/'/g,'"'));try{s=JSON.parse(o),t&&(s={...t,...s})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${r}${o}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,e};for(;o=this.nestingRegexp.exec(e);){let c=[];s={...a},s=s.replace&&!t(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(-1!==o[0].indexOf(this.formatSeparator)&&!/{.*}/.test(o[1])){const e=o[1].split(this.formatSeparator).map((e=>e.trim()));o[1]=e.shift(),c=e,u=!0}if(i=r(l.call(this,o[1].trim(),s),s),i&&o[0]===e&&!t(i))return i;t(i)||(i=n(i)),i||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),i=""),u&&(i=c.reduce(((e,t)=>this.format(e,t,a.lng,{...a,interpolationkey:o[1].trim()})),i.trim())),e=e.replace(o[0],i),this.regexp.lastIndex=0}return e}}const k=e=>{const t={};return(r,n,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i={...i,[o.interpolationkey]:void 0});const s=n+JSON.stringify(i);let a=t[s];return a||(a=e(y(n),o),t[s]=a),a(r)}};class L{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=b.create("formatter"),this.options=e,this.formats={number:k(((e,t)=>{const r=new Intl.NumberFormat(e,{...t});return e=>r.format(e)})),currency:k(((e,t)=>{const r=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>r.format(e)})),datetime:k(((e,t)=>{const r=new Intl.DateTimeFormat(e,{...t});return e=>r.format(e)})),relativetime:k(((e,t)=>{const r=new Intl.RelativeTimeFormat(e,{...t});return e=>r.format(e,t.range||"day")})),list:k(((e,t)=>{const r=new Intl.ListFormat(e,{...t});return e=>r.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=k(t)}format(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find((e=>e.indexOf(")")>-1))){const e=o.findIndex((e=>e.indexOf(")")>-1));o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}return o.reduce(((e,t)=>{const{formatName:o,formatOptions:i}=(e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const o=n[1].substring(0,n[1].length-1);"currency"===t&&o.indexOf(":")<0?r.currency||(r.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?r.range||(r.range=o.trim()):o.split(";").forEach((e=>{if(e){const[t,...n]=e.split(":"),o=n.join(":").trim().replace(/^'+|'+$/g,""),i=t.trim();r[i]||(r[i]=o),"false"===o&&(r[i]=!1),"true"===o&&(r[i]=!0),isNaN(o)||(r[i]=parseInt(o,10))}}))}return{formatName:t,formatOptions:r}})(t);if(this.formats[o]){let t=e;try{const s=n?.formatParams?.[n.interpolationkey]||{},a=s.locale||s.lng||n.locale||n.lng||r;t=this.formats[o](e,a,{...i,...n,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${o}`),e}),e)}}class F extends E{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=b.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,n.backend,n)}queueLoad(e,t,r,n){const o={},i={},s={},a={};return e.forEach((e=>{let n=!0;t.forEach((t=>{const s=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===i[s]&&(i[s]=!0):(this.state[s]=1,n=!1,void 0===i[s]&&(i[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===a[t]&&(a[t]=!0)))})),n||(s[e]=!0)})),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(a)}}loaded(e,t,r){const n=e.split("|"),o=n[0],i=n[1];t&&this.emit("failedLoading",o,i,t),!t&&r&&this.store.addResourceBundle(o,i,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const s={};this.queue.forEach((r=>{((e,t,r)=>{const{obj:n,k:o}=a(e,t,Object);n[o]=n[o]||[],n[o].push(r)})(r.loaded,[o],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach((e=>{s[e]||(s[e]={});const t=r.loaded[e];t.length&&t.forEach((t=>{void 0===s[e][t]&&(s[e][t]=!0)}))})),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((e=>!e.done))}read(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:o,callback:i});this.readingCalls++;const s=(s,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&a&&n<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,r,n+1,2*o,i)}),o):i(s,a)},a=this.backend[r].bind(this.backend);if(2!==a.length)return a(e,t,s);try{const r=a(e,t);r&&"function"==typeof r.then?r.then((e=>s(null,e))).catch(s):s(null,r)}catch(e){s(e)}}prepareLoading(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();t(e)&&(e=this.languageUtils.toResolveHierarchy(e)),t(r)&&(r=[r]);const i=this.queueLoad(e,r,n,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e.split("|"),n=r[0],o=r[1];this.read(n,o,"read",void 0,void 0,((r,i)=>{r&&this.logger.warn(`${t}loading namespace ${o} for language ${n} failed`,r),!r&&i&&this.logger.log(`${t}loaded namespace ${o} for language ${n}`,i),this.loaded(e,r,i)}))}saveMissing(e,t,r,n,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=r&&""!==r){if(this.backend?.create){const a={...i,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let o;o=5===l.length?l(e,t,r,n,a):l(e,t,r,n),o&&"function"==typeof o.then?o.then((e=>s(null,e))).catch(s):s(null,o)}catch(e){s(e)}else l(e,t,r,n,s,a)}e&&e[0]&&this.store.addResource(e[0],t,r,n)}}else this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const $=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let r={};if("object"==typeof e[1]&&(r=e[1]),t(e[1])&&(r.defaultValue=e[1]),t(e[2])&&(r.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const t=e[3]||e[2];Object.keys(t).forEach((e=>{r[e]=t[e]}))}return r},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),U=e=>(t(e.ns)&&(e.ns=[e.ns]),t(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),t(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),M=()=>{};class j extends E{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var r;if(super(),this.options=U(e),this.services={},this.logger=b,this.modules={external:[]},r=this,Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((e=>{"function"==typeof r[e]&&(r[e]=r[e].bind(r))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof n&&(o=n,n={}),null==n.defaultNS&&n.ns&&(t(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=$();this.options={...i,...this.options,...U(n)},this.options.interpolation={...i.interpolation,...this.options.interpolation},void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?b.init(s(this.modules.logger),this.options):b.init(null,this.options),t=this.modules.formatter?this.modules.formatter:L;const r=new I(this.options);this.store=new S(this.options.resources,this.options);const n=this.services;n.logger=b,n.resourceStore=this.store,n.languageUtils=r,n.pluralResolver=new N(r,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(n.formatter=s(t),n.formatter.init(n,this.options),this.options.interpolation.format=n.formatter.format.bind(n.formatter)),n.interpolator=new D(this.options),n.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},n.backendConnector=new F(s(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit(t,...n)})),this.modules.languageDetector&&(n.languageDetector=s(this.modules.languageDetector),n.languageDetector.init&&n.languageDetector.init(n,this.options.detection,this.options)),this.modules.i18nFormat&&(n.i18nFormat=s(this.modules.i18nFormat),n.i18nFormat.init&&n.i18nFormat.init(this)),this.translator=new C(this.services,this.options),this.translator.on("*",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit(t,...n)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,o||(o=M),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const a=r(),l=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),o(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;const n=t(e)?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===n?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return r();const e=[],t=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)t(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>t(e)))}this.options.preload?.forEach?.((e=>t(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),r(e)}))}else r(null)}reloadResources(e,t,n){const o=r();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=M),this.services.backendConnector.reload(e,t,(e=>{o.resolve(),n(e)})),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&O.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,n){var o=this;this.isLanguageChangingTo=e;const i=r();this.emit("languageChanging",e);const s=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,t)=>{t?(s(t),this.translator.changeLanguage(t),this.isLanguageChangingTo=void 0,this.emit("languageChanged",t),this.logger.log("languageChanged",t)):this.isLanguageChangingTo=void 0,i.resolve((function(){return o.t(...arguments)})),n&&n(e,(function(){return o.t(...arguments)}))},l=r=>{e||r||!this.services.languageDetector||(r=[]);const n=t(r)?r:this.services.languageUtils.getBestMatchFromCodes(r);n&&(this.language||s(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector?.cacheUserLanguage?.(n)),this.loadResources(n,(e=>{a(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e):l(this.services.languageDetector.detect()),i}getFixedT(e,r,n){var o=this;const i=function(e,t){let r;if("object"!=typeof t){for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];r=o.options.overloadTranslationOptionHandler([e,t].concat(a))}else r={...t};r.lng=r.lng||i.lng,r.lngs=r.lngs||i.lngs,r.ns=r.ns||i.ns,""!==r.keyPrefix&&(r.keyPrefix=r.keyPrefix||n||i.keyPrefix);const c=o.options.keySeparator||".";let u;return u=r.keyPrefix&&Array.isArray(e)?e.map((e=>`${r.keyPrefix}${c}${e}`)):r.keyPrefix?`${r.keyPrefix}${c}${e}`:e,o.t(u,r)};return t(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.translator?.translate(...t)}exists(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.translator?.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;const i=(e,t)=>{const r=this.services.backendConnector.state[`${e}|${t}`];return-1===r||0===r||2===r};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!i(r,e)||n&&!i(o,e)))}loadNamespaces(e,n){const o=r();return this.options.ns?(t(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{o.resolve(),n&&n(e)})),o):(n&&n(),Promise.resolve())}loadLanguages(e,n){const o=r();t(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter((e=>i.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return s.length?(this.options.preload=i.concat(s),this.loadResources((e=>{o.resolve(),n&&n(e)})),o):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services?.languageUtils||new I($());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new j(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},o=new j(n);void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e));if(["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const e=Object.keys(this.store.data).reduce(((e,t)=>(e[t]={...this.store.data[t]},Object.keys(e[t]).reduce(((r,n)=>(r[n]={...e[t][n]},r)),{}))),{});o.store=new S(e,n),o.services.resourceStore=o.store}return o.translator=new C(o.services,n),o.translator.on("*",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];o.emit(e,...r)})),o.init(n,t),o.translator.options=n,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const B=j.createInstance();B.createInstance=j.createInstance,e.exports=B},97:(e,t,r)=>{"use strict";var n=r(7980),o=r(9719);function i(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}e.exports.Type=r(5344),e.exports.Schema=r(2459),e.exports.FAILSAFE_SCHEMA=r(9366),e.exports.JSON_SCHEMA=r(4068),e.exports.CORE_SCHEMA=r(5243),e.exports.DEFAULT_SCHEMA=r(6392),e.exports.load=n.load,e.exports.loadAll=n.loadAll,e.exports.dump=o.dump,e.exports.YAMLException=r(4699),e.exports.types={binary:r(3389),float:r(5948),map:r(9274),null:r(1237),pairs:r(7988),set:r(576),timestamp:r(6405),bool:r(3691),int:r(492),merge:r(945),omap:r(4868),seq:r(6821),str:r(3432)},e.exports.safeLoad=i("safeLoad","load"),e.exports.safeLoadAll=i("safeLoadAll","loadAll"),e.exports.safeDump=i("safeDump","dump")},1392:e=>{"use strict";function t(e){return null==e}e.exports.isNothing=t,e.exports.isObject=function(e){return"object"==typeof e&&null!==e},e.exports.toArray=function(e){return Array.isArray(e)?e:t(e)?[]:[e]},e.exports.repeat=function(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n},e.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},e.exports.extend=function(e,t){var r,n,o,i;if(t)for(r=0,n=(i=Object.keys(t)).length;r<n;r+=1)e[o=i[r]]=t[o];return e}},9719:(e,t,r)=>{"use strict";var n=r(1392),o=r(4699),i=r(6392),s=Object.prototype.toString,a=Object.prototype.hasOwnProperty,l=65279,c={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},u=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],p=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function d(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else{if(!(e<=4294967295))throw new o("code point within a string may not be greater than 0xFFFFFFFF");r="U",i=8}return"\\"+r+n.repeat("0",i-t.length)+t}function h(e){this.schema=e.schema||i,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=n.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,n,o,i,s,l,c;if(null===t)return{};for(r={},o=0,i=(n=Object.keys(t)).length;o<i;o+=1)s=n[o],l=String(t[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(c=e.compiledTypeMap.fallback[s])&&a.call(c.styleAliases,l)&&(l=c.styleAliases[l]),r[s]=l;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function f(e,t){for(var r,o=n.repeat(" ",t),i=0,s=-1,a="",l=e.length;i<l;)-1===(s=e.indexOf("\n",i))?(r=e.slice(i),i=l):(r=e.slice(i,s+1),i=s+1),r.length&&"\n"!==r&&(a+=o),a+=r;return a}function g(e,t){return"\n"+n.repeat(" ",e.indent*t)}function m(e){return 32===e||9===e}function y(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==l||65536<=e&&e<=1114111}function v(e){return y(e)&&e!==l&&13!==e&&10!==e}function w(e,t,r){var n=v(e),o=n&&!m(e);return(r?n:n&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!o)||v(t)&&!m(t)&&35===e||58===t&&o}function b(e,t){var r,n=e.charCodeAt(t);return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(n-55296)+r-56320+65536:n}function E(e){return/^\n* /.test(e)}function S(e,t,r,n,o,i,s,a){var c,u,p=0,d=null,h=!1,f=!1,g=-1!==n,v=-1,S=y(u=b(e,0))&&u!==l&&!m(u)&&45!==u&&63!==u&&58!==u&&44!==u&&91!==u&&93!==u&&123!==u&&125!==u&&35!==u&&38!==u&&42!==u&&33!==u&&124!==u&&61!==u&&62!==u&&39!==u&&34!==u&&37!==u&&64!==u&&96!==u&&function(e){return!m(e)&&58!==e}(b(e,e.length-1));if(t||s)for(c=0;c<e.length;p>=65536?c+=2:c++){if(!y(p=b(e,c)))return 5;S=S&&w(p,d,a),d=p}else{for(c=0;c<e.length;p>=65536?c+=2:c++){if(10===(p=b(e,c)))h=!0,g&&(f=f||c-v-1>n&&" "!==e[v+1],v=c);else if(!y(p))return 5;S=S&&w(p,d,a),d=p}f=f||g&&c-v-1>n&&" "!==e[v+1]}return h||f?r>9&&E(e)?5:s?2===i?5:2:f?4:3:!S||s||o(e)?2===i?5:2:1}function O(e,t,r,n,i){e.dump=function(){if(0===t.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==u.indexOf(t)||p.test(t)))return 2===e.quotingType?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),l=n||e.flowLevel>-1&&r>=e.flowLevel;switch(S(t,l,e.indent,a,(function(t){return function(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!n,i)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+A(t,e.indent)+_(f(t,s));case 4:return">"+A(t,e.indent)+_(f(function(e,t){var r,n,o=/(\n+)([^\n]*)/g,i=(a=e.indexOf("\n"),a=-1!==a?a:e.length,o.lastIndex=a,C(e.slice(0,a),t)),s="\n"===e[0]||" "===e[0];var a;for(;n=o.exec(e);){var l=n[1],c=n[2];r=" "===c[0],i+=l+(s||r||""===c?"":"\n")+C(c,t),s=r}return i}(t,a),s));case 5:return'"'+function(e){for(var t,r="",n=0,o=0;o<e.length;n>=65536?o+=2:o++)n=b(e,o),!(t=c[n])&&y(n)?(r+=e[o],n>=65536&&(r+=e[o+1])):r+=t||d(n);return r}(t)+'"';default:throw new o("impossible error: invalid scalar style")}}()}function A(e,t){var r=E(e)?String(t):"",n="\n"===e[e.length-1];return r+(n&&("\n"===e[e.length-2]||"\n"===e)?"+":n?"":"-")+"\n"}function _(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function C(e,t){if(""===e||" "===e[0])return e;for(var r,n,o=/ [^ ]/g,i=0,s=0,a=0,l="";r=o.exec(e);)(a=r.index)-i>t&&(n=s>i?s:a,l+="\n"+e.slice(i,n),i=n+1),s=a;return l+="\n",e.length-i>t&&s>i?l+=e.slice(i,s)+"\n"+e.slice(s+1):l+=e.slice(i),l.slice(1)}function I(e,t,r,n){var o,i,s,a="",l=e.tag;for(o=0,i=r.length;o<i;o+=1)s=r[o],e.replacer&&(s=e.replacer.call(r,String(o),s)),(T(e,t+1,s,!0,!0,!1,!0)||void 0===s&&T(e,t+1,null,!0,!0,!1,!0))&&(n&&""===a||(a+=g(e,t)),e.dump&&10===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=l,e.dump=a||"[]"}function x(e,t,r){var n,i,l,c,u,p;for(l=0,c=(i=r?e.explicitTypes:e.implicitTypes).length;l<c;l+=1)if(((u=i[l]).instanceOf||u.predicate)&&(!u.instanceOf||"object"==typeof t&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(r?u.multi&&u.representName?e.tag=u.representName(t):e.tag=u.tag:e.tag="?",u.represent){if(p=e.styleMap[u.tag]||u.defaultStyle,"[object Function]"===s.call(u.represent))n=u.represent(t,p);else{if(!a.call(u.represent,p))throw new o("!<"+u.tag+'> tag resolver accepts not "'+p+'" style');n=u.represent[p](t,p)}e.dump=n}return!0}return!1}function T(e,t,r,n,i,a,l){e.tag=null,e.dump=r,x(e,r,!1)||x(e,r,!0);var c,u=s.call(e.dump),p=n;n&&(n=e.flowLevel<0||e.flowLevel>t);var d,h,f="[object Object]"===u||"[object Array]"===u;if(f&&(h=-1!==(d=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(i=!1),h&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(f&&h&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),"[object Object]"===u)n&&0!==Object.keys(e.dump).length?(!function(e,t,r,n){var i,s,a,l,c,u,p="",d=e.tag,h=Object.keys(r);if(!0===e.sortKeys)h.sort();else if("function"==typeof e.sortKeys)h.sort(e.sortKeys);else if(e.sortKeys)throw new o("sortKeys must be a boolean or a function");for(i=0,s=h.length;i<s;i+=1)u="",n&&""===p||(u+=g(e,t)),l=r[a=h[i]],e.replacer&&(l=e.replacer.call(r,a,l)),T(e,t+1,a,!0,!0,!0)&&((c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?u+="?":u+="? "),u+=e.dump,c&&(u+=g(e,t)),T(e,t+1,l,!0,c)&&(e.dump&&10===e.dump.charCodeAt(0)?u+=":":u+=": ",p+=u+=e.dump));e.tag=d,e.dump=p||"{}"}(e,t,e.dump,i),h&&(e.dump="&ref_"+d+e.dump)):(!function(e,t,r){var n,o,i,s,a,l="",c=e.tag,u=Object.keys(r);for(n=0,o=u.length;n<o;n+=1)a="",""!==l&&(a+=", "),e.condenseFlow&&(a+='"'),s=r[i=u[n]],e.replacer&&(s=e.replacer.call(r,i,s)),T(e,t,i,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),T(e,t,s,!1,!1)&&(l+=a+=e.dump));e.tag=c,e.dump="{"+l+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+d+" "+e.dump));else if("[object Array]"===u)n&&0!==e.dump.length?(e.noArrayIndent&&!l&&t>0?I(e,t-1,e.dump,i):I(e,t,e.dump,i),h&&(e.dump="&ref_"+d+e.dump)):(!function(e,t,r){var n,o,i,s="",a=e.tag;for(n=0,o=r.length;n<o;n+=1)i=r[n],e.replacer&&(i=e.replacer.call(r,String(n),i)),(T(e,t,i,!1,!1)||void 0===i&&T(e,t,null,!1,!1))&&(""!==s&&(s+=","+(e.condenseFlow?"":" ")),s+=e.dump);e.tag=a,e.dump="["+s+"]"}(e,t,e.dump),h&&(e.dump="&ref_"+d+" "+e.dump));else{if("[object String]"!==u){if("[object Undefined]"===u)return!1;if(e.skipInvalid)return!1;throw new o("unacceptable kind of an object to dump "+u)}"?"!==e.tag&&O(e,e.dump,t,a,p)}null!==e.tag&&"?"!==e.tag&&(c=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),c="!"===e.tag[0]?"!"+c:"tag:yaml.org,2002:"===c.slice(0,18)?"!!"+c.slice(18):"!<"+c+">",e.dump=c+" "+e.dump)}return!0}function N(e,t){var r,n,o=[],i=[];for(P(e,o,i),r=0,n=i.length;r<n;r+=1)t.duplicates.push(o[i[r]]);t.usedDuplicates=new Array(n)}function P(e,t,r){var n,o,i;if(null!==e&&"object"==typeof e)if(-1!==(o=t.indexOf(e)))-1===r.indexOf(o)&&r.push(o);else if(t.push(e),Array.isArray(e))for(o=0,i=e.length;o<i;o+=1)P(e[o],t,r);else for(o=0,i=(n=Object.keys(e)).length;o<i;o+=1)P(e[n[o]],t,r)}e.exports.dump=function(e,t){var r=new h(t=t||{});r.noRefs||N(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),T(r,0,n,!0,!0)?r.dump+"\n":""}},4699:e=>{"use strict";function t(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),n+" "+r):n}function r(e,r){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=r,this.message=t(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.toString=function(e){return this.name+": "+t(this,e)},e.exports=r},7980:(e,t,r)=>{"use strict";var n=r(1392),o=r(4699),i=r(5638),s=r(6392),a=Object.prototype.hasOwnProperty,l=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,c=/[\x85\u2028\u2029]/,u=/[,\[\]\{\}]/,p=/^(?:!|!!|![a-z\-]+!)$/i,d=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function h(e){return Object.prototype.toString.call(e)}function f(e){return 10===e||13===e}function g(e){return 9===e||32===e}function m(e){return 9===e||32===e||10===e||13===e}function y(e){return 44===e||91===e||93===e||123===e||125===e}function v(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function w(e){return 48===e?"\0":97===e?"\x07":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"\x1b":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"\x85":95===e?"\xa0":76===e?"\u2028":80===e?"\u2029":""}function b(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var E=new Array(256),S=new Array(256),O=0;O<256;O++)E[O]=w(O)?1:0,S[O]=w(O);function A(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||s,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function _(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=i(r),new o(t,r)}function C(e,t){throw _(e,t)}function I(e,t){e.onWarning&&e.onWarning.call(null,_(e,t))}var x={YAML:function(e,t,r){var n,o,i;null!==e.version&&C(e,"duplication of %YAML directive"),1!==r.length&&C(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&C(e,"ill-formed argument of the YAML directive"),o=parseInt(n[1],10),i=parseInt(n[2],10),1!==o&&C(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=i<2,1!==i&&2!==i&&I(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var n,o;2!==r.length&&C(e,"TAG directive accepts exactly two arguments"),n=r[0],o=r[1],p.test(n)||C(e,"ill-formed tag handle (first argument) of the TAG directive"),a.call(e.tagMap,n)&&C(e,'there is a previously declared suffix for "'+n+'" tag handle'),d.test(o)||C(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(t){C(e,"tag prefix is malformed: "+o)}e.tagMap[n]=o}};function T(e,t,r,n){var o,i,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(o=0,i=a.length;o<i;o+=1)9===(s=a.charCodeAt(o))||32<=s&&s<=1114111||C(e,"expected valid JSON character");else l.test(a)&&C(e,"the stream contains non-printable characters");e.result+=a}}function N(e,t,r,o){var i,s,l,c;for(n.isObject(r)||C(e,"cannot merge mappings; the provided source object is unacceptable"),l=0,c=(i=Object.keys(r)).length;l<c;l+=1)s=i[l],a.call(t,s)||(t[s]=r[s],o[s]=!0)}function P(e,t,r,n,o,i,s,l,c){var u,p;if(Array.isArray(o))for(u=0,p=(o=Array.prototype.slice.call(o)).length;u<p;u+=1)Array.isArray(o[u])&&C(e,"nested arrays are not supported inside keys"),"object"==typeof o&&"[object Object]"===h(o[u])&&(o[u]="[object Object]");if("object"==typeof o&&"[object Object]"===h(o)&&(o="[object Object]"),o=String(o),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(i))for(u=0,p=i.length;u<p;u+=1)N(e,t,i[u],r);else N(e,t,i,r);else e.json||a.call(r,o)||!a.call(t,o)||(e.line=s||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,C(e,"duplicated mapping key")),"__proto__"===o?Object.defineProperty(t,o,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[o]=i,delete r[o];return t}function R(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):C(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function D(e,t,r){for(var n=0,o=e.input.charCodeAt(e.position);0!==o;){for(;g(o);)9===o&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),o=e.input.charCodeAt(++e.position);if(t&&35===o)do{o=e.input.charCodeAt(++e.position)}while(10!==o&&13!==o&&0!==o);if(!f(o))break;for(R(e),o=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position)}return-1!==r&&0!==n&&e.lineIndent<r&&I(e,"deficient indentation"),n}function k(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!m(t)))}function L(e,t){1===t?e.result+=" ":t>1&&(e.result+=n.repeat("\n",t-1))}function F(e,t){var r,n,o=e.tag,i=e.anchor,s=[],a=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),n=e.input.charCodeAt(e.position);0!==n&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,C(e,"tab characters must not be used in indentation")),45===n)&&m(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,D(e,!0,-1)&&e.lineIndent<=t)s.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,M(e,t,3,!1,!0),s.push(e.result),D(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==n)C(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=o,e.anchor=i,e.kind="sequence",e.result=s,!0)}function $(e){var t,r,n,o,i=!1,s=!1;if(33!==(o=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&C(e,"duplication of a tag property"),60===(o=e.input.charCodeAt(++e.position))?(i=!0,o=e.input.charCodeAt(++e.position)):33===o?(s=!0,r="!!",o=e.input.charCodeAt(++e.position)):r="!",t=e.position,i){do{o=e.input.charCodeAt(++e.position)}while(0!==o&&62!==o);e.position<e.length?(n=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):C(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==o&&!m(o);)33===o&&(s?C(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),p.test(r)||C(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),u.test(n)&&C(e,"tag suffix cannot contain flow indicator characters")}n&&!d.test(n)&&C(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch(t){C(e,"tag name is malformed: "+n)}return i?e.tag=n:a.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:"!"===r?e.tag="!"+n:"!!"===r?e.tag="tag:yaml.org,2002:"+n:C(e,'undeclared tag handle "'+r+'"'),!0}function U(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&C(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!m(r)&&!y(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&C(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function M(e,t,r,o,i){var s,l,c,u,p,d,h,w,O,A=1,_=!1,I=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=l=c=4===r||3===r,o&&D(e,!0,-1)&&(_=!0,e.lineIndent>t?A=1:e.lineIndent===t?A=0:e.lineIndent<t&&(A=-1)),1===A)for(;$(e)||U(e);)D(e,!0,-1)?(_=!0,c=s,e.lineIndent>t?A=1:e.lineIndent===t?A=0:e.lineIndent<t&&(A=-1)):c=!1;if(c&&(c=_||i),1!==A&&4!==r||(w=1===r||2===r?t:t+1,O=e.position-e.lineStart,1===A?c&&(F(e,O)||function(e,t,r){var n,o,i,s,a,l,c,u=e.tag,p=e.anchor,d={},h=Object.create(null),f=null,y=null,v=null,w=!1,b=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),c=e.input.charCodeAt(e.position);0!==c;){if(w||-1===e.firstTabInLine||(e.position=e.firstTabInLine,C(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),i=e.line,63!==c&&58!==c||!m(n)){if(s=e.line,a=e.lineStart,l=e.position,!M(e,r,2,!1,!0))break;if(e.line===i){for(c=e.input.charCodeAt(e.position);g(c);)c=e.input.charCodeAt(++e.position);if(58===c)m(c=e.input.charCodeAt(++e.position))||C(e,"a whitespace character is expected after the key-value separator within a block mapping"),w&&(P(e,d,h,f,y,null,s,a,l),f=y=v=null),b=!0,w=!1,o=!1,f=e.tag,y=e.result;else{if(!b)return e.tag=u,e.anchor=p,!0;C(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return e.tag=u,e.anchor=p,!0;C(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(w&&(P(e,d,h,f,y,null,s,a,l),f=y=v=null),b=!0,w=!0,o=!0):w?(w=!1,o=!0):C(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,c=n;if((e.line===i||e.lineIndent>t)&&(w&&(s=e.line,a=e.lineStart,l=e.position),M(e,t,4,!0,o)&&(w?y=e.result:v=e.result),w||(P(e,d,h,f,y,v,s,a,l),f=y=v=null),D(e,!0,-1),c=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&0!==c)C(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return w&&P(e,d,h,f,y,null,s,a,l),b&&(e.tag=u,e.anchor=p,e.kind="mapping",e.result=d),b}(e,O,w))||function(e,t){var r,n,o,i,s,a,l,c,u,p,d,h,f=!0,g=e.tag,y=e.anchor,v=Object.create(null);if(91===(h=e.input.charCodeAt(e.position)))s=93,c=!1,i=[];else{if(123!==h)return!1;s=125,c=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),h=e.input.charCodeAt(++e.position);0!==h;){if(D(e,!0,t),(h=e.input.charCodeAt(e.position))===s)return e.position++,e.tag=g,e.anchor=y,e.kind=c?"mapping":"sequence",e.result=i,!0;f?44===h&&C(e,"expected the node content, but found ','"):C(e,"missed comma between flow collection entries"),d=null,a=l=!1,63===h&&m(e.input.charCodeAt(e.position+1))&&(a=l=!0,e.position++,D(e,!0,t)),r=e.line,n=e.lineStart,o=e.position,M(e,t,1,!1,!0),p=e.tag,u=e.result,D(e,!0,t),h=e.input.charCodeAt(e.position),!l&&e.line!==r||58!==h||(a=!0,h=e.input.charCodeAt(++e.position),D(e,!0,t),M(e,t,1,!1,!0),d=e.result),c?P(e,i,v,p,u,d,r,n,o):a?i.push(P(e,null,v,p,u,d,r,n,o)):i.push(u),D(e,!0,t),44===(h=e.input.charCodeAt(e.position))?(f=!0,h=e.input.charCodeAt(++e.position)):f=!1}C(e,"unexpected end of the stream within a flow collection")}(e,w)?I=!0:(l&&function(e,t){var r,o,i,s,a,l=1,c=!1,u=!1,p=t,d=0,h=!1;if(124===(s=e.input.charCodeAt(e.position)))o=!1;else{if(62!==s)return!1;o=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)1===l?l=43===s?3:2:C(e,"repeat of a chomping mode identifier");else{if(!((i=48<=(a=s)&&a<=57?a-48:-1)>=0))break;0===i?C(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?C(e,"repeat of an indentation width identifier"):(p=t+i-1,u=!0)}if(g(s)){do{s=e.input.charCodeAt(++e.position)}while(g(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!f(s)&&0!==s)}for(;0!==s;){for(R(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!u||e.lineIndent<p)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>p&&(p=e.lineIndent),f(s))d++;else{if(e.lineIndent<p){3===l?e.result+=n.repeat("\n",c?1+d:d):1===l&&c&&(e.result+="\n");break}for(o?g(s)?(h=!0,e.result+=n.repeat("\n",c?1+d:d)):h?(h=!1,e.result+=n.repeat("\n",d+1)):0===d?c&&(e.result+=" "):e.result+=n.repeat("\n",d):e.result+=n.repeat("\n",c?1+d:d),c=!0,u=!0,d=0,r=e.position;!f(s)&&0!==s;)s=e.input.charCodeAt(++e.position);T(e,r,e.position,!1)}}return!0}(e,w)||function(e,t){var r,n,o;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=o=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(T(e,n,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,o=e.position}else f(r)?(T(e,n,o,!0),L(e,D(e,!1,t)),n=o=e.position):e.position===e.lineStart&&k(e)?C(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);C(e,"unexpected end of the stream within a single quoted scalar")}(e,w)||function(e,t){var r,n,o,i,s,a,l;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return T(e,r,e.position,!0),e.position++,!0;if(92===a){if(T(e,r,e.position,!0),f(a=e.input.charCodeAt(++e.position)))D(e,!1,t);else if(a<256&&E[a])e.result+=S[a],e.position++;else if((s=120===(l=a)?2:117===l?4:85===l?8:0)>0){for(o=s,i=0;o>0;o--)(s=v(a=e.input.charCodeAt(++e.position)))>=0?i=(i<<4)+s:C(e,"expected hexadecimal character");e.result+=b(i),e.position++}else C(e,"unknown escape sequence");r=n=e.position}else f(a)?(T(e,r,n,!0),L(e,D(e,!1,t)),r=n=e.position):e.position===e.lineStart&&k(e)?C(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}C(e,"unexpected end of the stream within a double quoted scalar")}(e,w)?I=!0:!function(e){var t,r,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!m(n)&&!y(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&C(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),a.call(e.anchorMap,r)||C(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],D(e,!0,-1),!0}(e)?function(e,t,r){var n,o,i,s,a,l,c,u,p=e.kind,d=e.result;if(m(u=e.input.charCodeAt(e.position))||y(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(m(n=e.input.charCodeAt(e.position+1))||r&&y(n)))return!1;for(e.kind="scalar",e.result="",o=i=e.position,s=!1;0!==u;){if(58===u){if(m(n=e.input.charCodeAt(e.position+1))||r&&y(n))break}else if(35===u){if(m(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&k(e)||r&&y(u))break;if(f(u)){if(a=e.line,l=e.lineStart,c=e.lineIndent,D(e,!1,-1),e.lineIndent>=t){s=!0,u=e.input.charCodeAt(e.position);continue}e.position=i,e.line=a,e.lineStart=l,e.lineIndent=c;break}}s&&(T(e,o,i,!1),L(e,e.line-a),o=i=e.position,s=!1),g(u)||(i=e.position+1),u=e.input.charCodeAt(++e.position)}return T(e,o,i,!1),!!e.result||(e.kind=p,e.result=d,!1)}(e,w,1===r)&&(I=!0,null===e.tag&&(e.tag="?")):(I=!0,null===e.tag&&null===e.anchor||C(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===A&&(I=c&&F(e,O))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&C(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,p=e.implicitTypes.length;u<p;u+=1)if((h=e.implicitTypes[u]).resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(a.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,u=0,p=(d=e.typeMap.multi[e.kind||"fallback"]).length;u<p;u+=1)if(e.tag.slice(0,d[u].tag.length)===d[u].tag){h=d[u];break}h||C(e,"unknown tag !<"+e.tag+">"),null!==e.result&&h.kind!==e.kind&&C(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):C(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||I}function j(e){var t,r,n,o,i=e.position,s=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(o=e.input.charCodeAt(e.position))&&(D(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==o));){for(s=!0,o=e.input.charCodeAt(++e.position),t=e.position;0!==o&&!m(o);)o=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&C(e,"directive name must not be less than one character in length");0!==o;){for(;g(o);)o=e.input.charCodeAt(++e.position);if(35===o){do{o=e.input.charCodeAt(++e.position)}while(0!==o&&!f(o));break}if(f(o))break;for(t=e.position;0!==o&&!m(o);)o=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==o&&R(e),a.call(x,r)?x[r](e,r,n):I(e,'unknown document directive "'+r+'"')}D(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,D(e,!0,-1)):s&&C(e,"directives end mark is expected"),M(e,e.lineIndent-1,4,!1,!0),D(e,!0,-1),e.checkLineBreaks&&c.test(e.input.slice(i,e.position))&&I(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&k(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,D(e,!0,-1)):e.position<e.length-1&&C(e,"end of the stream or a document separator is expected")}function B(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new A(e,t),n=e.indexOf("\0");for(-1!==n&&(r.position=n,C(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)j(r);return r.documents}e.exports.loadAll=function(e,t,r){null!==t&&"object"==typeof t&&void 0===r&&(r=t,t=null);var n=B(e,r);if("function"!=typeof t)return n;for(var o=0,i=n.length;o<i;o+=1)t(n[o])},e.exports.load=function(e,t){var r=B(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new o("expected a single document in the stream, but found more")}}},2459:(e,t,r)=>{"use strict";var n=r(4699),o=r(5344);function i(e,t){var r=[];return e[t].forEach((function(e){var t=r.length;r.forEach((function(r,n){r.tag===e.tag&&r.kind===e.kind&&r.multi===e.multi&&(t=n)})),r[t]=e})),r}function s(e){return this.extend(e)}s.prototype.extend=function(e){var t=[],r=[];if(e instanceof o)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new n("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof o))throw new n("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new n("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new n("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),r.forEach((function(e){if(!(e instanceof o))throw new n("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var a=Object.create(s.prototype);return a.implicit=(this.implicit||[]).concat(t),a.explicit=(this.explicit||[]).concat(r),a.compiledImplicit=i(a,"implicit"),a.compiledExplicit=i(a,"explicit"),a.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(e){e.multi?(r.multi[e.kind].push(e),r.multi.fallback.push(e)):r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}(a.compiledImplicit,a.compiledExplicit),a},e.exports=s},5243:(e,t,r)=>{"use strict";e.exports=r(4068)},6392:(e,t,r)=>{"use strict";e.exports=r(5243).extend({implicit:[r(6405),r(945)],explicit:[r(3389),r(4868),r(7988),r(576)]})},9366:(e,t,r)=>{"use strict";var n=r(2459);e.exports=new n({explicit:[r(3432),r(6821),r(9274)]})},4068:(e,t,r)=>{"use strict";e.exports=r(9366).extend({implicit:[r(1237),r(3691),r(492),r(5948)]})},5638:(e,t,r)=>{"use strict";var n=r(1392);function o(e,t,r,n,o){var i="",s="",a=Math.floor(o/2)-1;return n-t>a&&(t=n-a+(i=" ... ").length),r-n>a&&(r=n+a-(s=" ...").length),{str:i+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+i.length}}function i(e,t){return n.repeat(" ",t-e.length)+e}e.exports=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var r,s=/\r?\n|\r|\0/g,a=[0],l=[],c=-1;r=s.exec(e.buffer);)l.push(r.index),a.push(r.index+r[0].length),e.position<=r.index&&c<0&&(c=a.length-2);c<0&&(c=a.length-1);var u,p,d="",h=Math.min(e.line+t.linesAfter,l.length).toString().length,f=t.maxLength-(t.indent+h+3);for(u=1;u<=t.linesBefore&&!(c-u<0);u++)p=o(e.buffer,a[c-u],l[c-u],e.position-(a[c]-a[c-u]),f),d=n.repeat(" ",t.indent)+i((e.line-u+1).toString(),h)+" | "+p.str+"\n"+d;for(p=o(e.buffer,a[c],l[c],e.position,f),d+=n.repeat(" ",t.indent)+i((e.line+1).toString(),h)+" | "+p.str+"\n",d+=n.repeat("-",t.indent+h+3+p.pos)+"^\n",u=1;u<=t.linesAfter&&!(c+u>=l.length);u++)p=o(e.buffer,a[c+u],l[c+u],e.position-(a[c]-a[c+u]),f),d+=n.repeat(" ",t.indent)+i((e.line+u+1).toString(),h)+" | "+p.str+"\n";return d.replace(/\n$/,"")}},5344:(e,t,r)=>{"use strict";var n=r(4699),o=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],i=["scalar","sequence","mapping"];e.exports=function(e,t){var r,s;if(t=t||{},Object.keys(t).forEach((function(t){if(-1===o.indexOf(t))throw new n('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=(r=t.styleAliases||null,s={},null!==r&&Object.keys(r).forEach((function(e){r[e].forEach((function(t){s[String(t)]=e}))})),s),-1===i.indexOf(this.kind))throw new n('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}},3389:(e,t,r)=>{"use strict";var n=r(5344),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new n("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=0,i=e.length,s=o;for(r=0;r<i;r++)if(!((t=s.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=o,a=0,l=[];for(t=0;t<i;t++)t%4==0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(255&a)),a=a<<6|s.indexOf(n.charAt(t));return 0===(r=i%4*6)?(l.push(a>>16&255),l.push(a>>8&255),l.push(255&a)):18===r?(l.push(a>>10&255),l.push(a>>2&255)):12===r&&l.push(a>>4&255),new Uint8Array(l)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,r,n="",i=0,s=e.length,a=o;for(t=0;t<s;t++)t%3==0&&t&&(n+=a[i>>18&63],n+=a[i>>12&63],n+=a[i>>6&63],n+=a[63&i]),i=(i<<8)+e[t];return 0===(r=s%3)?(n+=a[i>>18&63],n+=a[i>>12&63],n+=a[i>>6&63],n+=a[63&i]):2===r?(n+=a[i>>10&63],n+=a[i>>4&63],n+=a[i<<2&63],n+=a[64]):1===r&&(n+=a[i>>2&63],n+=a[i<<4&63],n+=a[64],n+=a[64]),n}})},3691:(e,t,r)=>{"use strict";var n=r(5344);e.exports=new n("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},5948:(e,t,r)=>{"use strict";var n=r(1392),o=r(5344),i=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var s=/^[-+]?[0-9]+e/;e.exports=new o("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!i.test(e)||"_"===e[e.length-1])},construct:function(e){var t,r;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:r*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||n.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(n.isNegativeZero(e))return"-0.0";return r=e.toString(10),s.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"})},492:(e,t,r)=>{"use strict";var n=r(1392),o=r(5344);function i(e){return 48<=e&&e<=55}function s(e){return 48<=e&&e<=57}e.exports=new o("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=e.length,o=0,a=!1;if(!n)return!1;if("-"!==(t=e[o])&&"+"!==t||(t=e[++o]),"0"===t){if(o+1===n)return!0;if("b"===(t=e[++o])){for(o++;o<n;o++)if("_"!==(t=e[o])){if("0"!==t&&"1"!==t)return!1;a=!0}return a&&"_"!==t}if("x"===t){for(o++;o<n;o++)if("_"!==(t=e[o])){if(!(48<=(r=e.charCodeAt(o))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;a=!0}return a&&"_"!==t}if("o"===t){for(o++;o<n;o++)if("_"!==(t=e[o])){if(!i(e.charCodeAt(o)))return!1;a=!0}return a&&"_"!==t}}if("_"===t)return!1;for(;o<n;o++)if("_"!==(t=e[o])){if(!s(e.charCodeAt(o)))return!1;a=!0}return!(!a||"_"===t)},construct:function(e){var t,r=e,n=1;if(-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(n=-1),t=(r=r.slice(1))[0]),"0"===r)return 0;if("0"===t){if("b"===r[1])return n*parseInt(r.slice(2),2);if("x"===r[1])return n*parseInt(r.slice(2),16);if("o"===r[1])return n*parseInt(r.slice(2),8)}return n*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!n.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},9274:(e,t,r)=>{"use strict";var n=r(5344);e.exports=new n("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},945:(e,t,r)=>{"use strict";var n=r(5344);e.exports=new n("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})},1237:(e,t,r)=>{"use strict";var n=r(5344);e.exports=new n("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})},4868:(e,t,r)=>{"use strict";var n=r(5344),o=Object.prototype.hasOwnProperty,i=Object.prototype.toString;e.exports=new n("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,s,a,l=[],c=e;for(t=0,r=c.length;t<r;t+=1){if(n=c[t],a=!1,"[object Object]"!==i.call(n))return!1;for(s in n)if(o.call(n,s)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==l.indexOf(s))return!1;l.push(s)}return!0},construct:function(e){return null!==e?e:[]}})},7988:(e,t,r)=>{"use strict";var n=r(5344),o=Object.prototype.toString;e.exports=new n("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],"[object Object]"!==o.call(n))return!1;if(1!==(i=Object.keys(n)).length)return!1;s[t]=[i[0],n[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,n,o,i,s=e;for(i=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],o=Object.keys(n),i[t]=[o[0],n[o[0]]];return i}})},6821:(e,t,r)=>{"use strict";var n=r(5344);e.exports=new n("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},576:(e,t,r)=>{"use strict";var n=r(5344),o=Object.prototype.hasOwnProperty;e.exports=new n("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(o.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})},3432:(e,t,r)=>{"use strict";var n=r(5344);e.exports=new n("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},6405:(e,t,r)=>{"use strict";var n=r(5344),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new n("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==o.exec(e)||null!==i.exec(e))},construct:function(e){var t,r,n,s,a,l,c,u,p=0,d=null;if(null===(t=o.exec(e))&&(t=i.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,s=+t[3],!t[4])return new Date(Date.UTC(r,n,s));if(a=+t[4],l=+t[5],c=+t[6],t[7]){for(p=t[7].slice(0,3);p.length<3;)p+="0";p=+p}return t[9]&&(d=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(d=-d)),u=new Date(Date.UTC(r,n,s,a,l,c,p)),d&&u.setTime(u.getTime()-d),u},instanceOf:Date,represent:function(e){return e.toISOString()}})},5159:(e,t,r)=>{let n;try{n=r(5030)}catch(e){n=r(7147)}const o=r(4838),{stringify:i,stripBom:s}=r(788);const a={readFile:o.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||n,i=!("throws"in t)||t.throws;let a,l=await o.fromCallback(r.readFile)(e,t);l=s(l);try{a=JSON.parse(l,t?t.reviver:null)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}return a})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||n,o=!("throws"in t)||t.throws;try{let n=r.readFileSync(e,t);return n=s(n),JSON.parse(n,t.reviver)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:o.fromPromise((async function(e,t,r={}){const s=r.fs||n,a=i(t,r);await o.fromCallback(s.writeFile)(e,a,r)})),writeFileSync:function(e,t,r={}){const o=r.fs||n,s=i(t,r);return o.writeFileSync(e,s,r)}};e.exports=a},788:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:r=!0,replacer:n=null,spaces:o}={}){const i=r?t:"";return JSON.stringify(e,n,o).replace(/\n/g,t)+i},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},4908:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lazy=void 0;t.Lazy=class{constructor(e){this._value=null,this.creator=e}get hasValue(){return null==this.creator}get value(){if(null==this.creator)return this._value;const e=this.creator();return this.value=e,e}set value(e){this._value=e,this.creator=null}}},2395:e=>{var t="[object Symbol]",r=/[\\^$.*+?()[\]{}|]/g,n=RegExp(r.source),o="object"==typeof global&&global&&global.Object===Object&&global,i="object"==typeof self&&self&&self.Object===Object&&self,s=o||i||Function("return this")(),a=Object.prototype.toString,l=s.Symbol,c=l?l.prototype:void 0,u=c?c.toString:void 0;function p(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&a.call(e)==t}(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}e.exports=function(e){var t;return(e=null==(t=e)?"":p(t))&&n.test(e)?e.replace(r,"\\$&"):e}},7361:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",p="[object Map]",d="[object Number]",h="[object Object]",f="[object Promise]",g="[object RegExp]",m="[object Set]",y="[object String]",v="[object Symbol]",w="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",S=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[i]=A[s]=A[b]=A[a]=A[E]=A[l]=A[c]=A[u]=A[p]=A[d]=A[h]=A[g]=A[m]=A[y]=A[w]=!1;var _="object"==typeof global&&global&&global.Object===Object&&global,C="object"==typeof self&&self&&self.Object===Object&&self,I=_||C||Function("return this")(),x=t&&!t.nodeType&&t,T=x&&e&&!e.nodeType&&e,N=T&&T.exports===x,P=N&&_.process,R=function(){try{return P&&P.binding&&P.binding("util")}catch(e){}}(),D=R&&R.isTypedArray;function k(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function L(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function F(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var $,U,M,j=Array.prototype,B=Function.prototype,q=Object.prototype,H=I["__core-js_shared__"],W=B.toString,G=q.hasOwnProperty,z=($=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",V=q.toString,Y=RegExp("^"+W.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=N?I.Buffer:void 0,X=I.Symbol,K=I.Uint8Array,Q=q.propertyIsEnumerable,Z=j.splice,ee=X?X.toStringTag:void 0,te=Object.getOwnPropertySymbols,re=J?J.isBuffer:void 0,ne=(U=Object.keys,M=Object,function(e){return U(M(e))}),oe=Re(I,"DataView"),ie=Re(I,"Map"),se=Re(I,"Promise"),ae=Re(I,"Set"),le=Re(I,"WeakMap"),ce=Re(Object,"create"),ue=Fe(oe),pe=Fe(ie),de=Fe(se),he=Fe(ae),fe=Fe(le),ge=X?X.prototype:void 0,me=ge?ge.valueOf:void 0;function ye(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ve(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function we(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function be(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new we;++t<r;)this.add(e[t])}function Ee(e){var t=this.__data__=new ve(e);this.size=t.size}function Se(e,t){var r=Me(e),n=!r&&Ue(e),o=!r&&!n&&je(e),i=!r&&!n&&!o&&Ge(e),s=r||n||o||i,a=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=a.length;for(var c in e)!t&&!G.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Le(c,l))||a.push(c);return a}function Oe(e,t){for(var r=e.length;r--;)if($e(e[r][0],t))return r;return-1}function Ae(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=G.call(e,ee),r=e[ee];try{e[ee]=void 0;var n=!0}catch(e){}var o=V.call(e);n&&(t?e[ee]=r:delete e[ee]);return o}(e):function(e){return V.call(e)}(e)}function _e(e){return We(e)&&Ae(e)==i}function Ce(e,t,r,n,o){return e===t||(null==e||null==t||!We(e)&&!We(t)?e!=e&&t!=t:function(e,t,r,n,o,u){var f=Me(e),w=Me(t),S=f?s:ke(e),O=w?s:ke(t),A=(S=S==i?h:S)==h,_=(O=O==i?h:O)==h,C=S==O;if(C&&je(e)){if(!je(t))return!1;f=!0,A=!1}if(C&&!A)return u||(u=new Ee),f||Ge(e)?Te(e,t,r,n,o,u):function(e,t,r,n,o,i,s){switch(r){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!i(new K(e),new K(t)));case a:case l:case d:return $e(+e,+t);case c:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case p:var u=L;case m:var h=1&n;if(u||(u=F),e.size!=t.size&&!h)return!1;var f=s.get(e);if(f)return f==t;n|=2,s.set(e,t);var w=Te(u(e),u(t),n,o,i,s);return s.delete(e),w;case v:if(me)return me.call(e)==me.call(t)}return!1}(e,t,S,r,n,o,u);if(!(1&r)){var I=A&&G.call(e,"__wrapped__"),x=_&&G.call(t,"__wrapped__");if(I||x){var T=I?e.value():e,N=x?t.value():t;return u||(u=new Ee),o(T,N,r,n,u)}}if(!C)return!1;return u||(u=new Ee),function(e,t,r,n,o,i){var s=1&r,a=Ne(e),l=a.length,c=Ne(t),u=c.length;if(l!=u&&!s)return!1;var p=l;for(;p--;){var d=a[p];if(!(s?d in t:G.call(t,d)))return!1}var h=i.get(e);if(h&&i.get(t))return h==t;var f=!0;i.set(e,t),i.set(t,e);var g=s;for(;++p<l;){var m=e[d=a[p]],y=t[d];if(n)var v=s?n(y,m,d,t,e,i):n(m,y,d,e,t,i);if(!(void 0===v?m===y||o(m,y,r,n,i):v)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,r,n,o,u)}(e,t,r,n,Ce,o))}function Ie(e){return!(!He(e)||function(e){return!!z&&z in e}(e))&&(Be(e)?Y:S).test(Fe(e))}function xe(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||q,t!==n)return ne(e);var t,r,n,o=[];for(var i in Object(e))G.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Te(e,t,r,n,o,i){var s=1&r,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var u=-1,p=!0,d=2&r?new be:void 0;for(i.set(e,t),i.set(t,e);++u<a;){var h=e[u],f=t[u];if(n)var g=s?n(f,h,u,t,e,i):n(h,f,u,e,t,i);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!k(t,(function(e,t){if(s=t,!d.has(s)&&(h===e||o(h,e,r,n,i)))return d.push(t);var s}))){p=!1;break}}else if(h!==f&&!o(h,f,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function Ne(e){return function(e,t,r){var n=t(e);return Me(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,ze,De)}function Pe(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function Re(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Ie(r)?r:void 0}ye.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},ye.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ye.prototype.get=function(e){var t=this.__data__;if(ce){var r=t[e];return r===n?void 0:r}return G.call(t,e)?t[e]:void 0},ye.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:G.call(t,e)},ye.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ce&&void 0===t?n:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,r=Oe(t,e);return!(r<0)&&(r==t.length-1?t.pop():Z.call(t,r,1),--this.size,!0)},ve.prototype.get=function(e){var t=this.__data__,r=Oe(t,e);return r<0?void 0:t[r][1]},ve.prototype.has=function(e){return Oe(this.__data__,e)>-1},ve.prototype.set=function(e,t){var r=this.__data__,n=Oe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},we.prototype.clear=function(){this.size=0,this.__data__={hash:new ye,map:new(ie||ve),string:new ye}},we.prototype.delete=function(e){var t=Pe(this,e).delete(e);return this.size-=t?1:0,t},we.prototype.get=function(e){return Pe(this,e).get(e)},we.prototype.has=function(e){return Pe(this,e).has(e)},we.prototype.set=function(e,t){var r=Pe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,n),this},be.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.clear=function(){this.__data__=new ve,this.size=0},Ee.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ve){var n=r.__data__;if(!ie||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new we(n)}return r.set(e,t),this.size=r.size,this};var De=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[o++]=s)}return i}(te(e),(function(t){return Q.call(e,t)})))}:function(){return[]},ke=Ae;function Le(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function Fe(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $e(e,t){return e===t||e!=e&&t!=t}(oe&&ke(new oe(new ArrayBuffer(1)))!=E||ie&&ke(new ie)!=p||se&&ke(se.resolve())!=f||ae&&ke(new ae)!=m||le&&ke(new le)!=w)&&(ke=function(e){var t=Ae(e),r=t==h?e.constructor:void 0,n=r?Fe(r):"";if(n)switch(n){case ue:return E;case pe:return p;case de:return f;case he:return m;case fe:return w}return t});var Ue=_e(function(){return arguments}())?_e:function(e){return We(e)&&G.call(e,"callee")&&!Q.call(e,"callee")},Me=Array.isArray;var je=re||function(){return!1};function Be(e){if(!He(e))return!1;var t=Ae(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function qe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function He(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function We(e){return null!=e&&"object"==typeof e}var Ge=D?function(e){return function(t){return e(t)}}(D):function(e){return We(e)&&qe(e.length)&&!!A[Ae(e)]};function ze(e){return null!=(t=e)&&qe(t.length)&&!Be(t)?Se(e):xe(e);var t}e.exports=function(e,t){return Ce(e,t)}},8514:e=>{var t=1e3,r=60*t,n=60*r,o=24*n,i=7*o,s=365.25*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,l){l=l||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a)return;var l=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*s;case"weeks":case"week":case"w":return l*i;case"days":case"day":case"d":return l*o;case"hours":case"hour":case"hrs":case"hr":case"h":return l*n;case"minutes":case"minute":case"mins":case"min":case"m":return l*r;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===c&&isFinite(e))return l.long?function(e){var i=Math.abs(e);if(i>=o)return a(e,i,o,"day");if(i>=n)return a(e,i,n,"hour");if(i>=r)return a(e,i,r,"minute");if(i>=t)return a(e,i,t,"second");return e+" ms"}(e):function(e){var i=Math.abs(e);if(i>=o)return Math.round(e/o)+"d";if(i>=n)return Math.round(e/n)+"h";if(i>=r)return Math.round(e/r)+"m";if(i>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7132:(e,t,r)=>{!function(e){e.parser=function(e,t){return new o(e,t)},e.SAXParser=o,e.SAXStream=s,e.createStream=function(e,t){return new s(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(t,r){if(!(this instanceof o))return new o(t,r);var i=this;!function(e){for(var t=0,r=n.length;t<r;t++)e[n[t]]=""}(i),i.q=i.c="",i.bufferCheckPosition=e.MAX_BUFFER_LENGTH,i.opt=r||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!(!t&&!i.opt.noscript),i.state=A.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(p)),void 0===i.opt.unquotedAttributeValues&&(i.opt.unquotedAttributeValues=!t),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),C(i,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),o.prototype={end:function(){P(this)},write:function(t){var r=this;if(this.error)throw this.error;if(r.closed)return N(r,"Cannot write after close. Assign an onready handler.");if(null===t)return P(r);"object"==typeof t&&(t=t.toString());var o=0,i="";for(;i=j(t,o++),r.c=i,i;)switch(r.trackPosition&&(r.position++,"\n"===i?(r.line++,r.column=0):r.column++),r.state){case A.BEGIN:if(r.state=A.BEGIN_WHITESPACE,"\ufeff"===i)continue;M(r,i);continue;case A.BEGIN_WHITESPACE:M(r,i);continue;case A.TEXT:if(r.sawRoot&&!r.closedRoot){for(var s=o-1;i&&"<"!==i&&"&"!==i;)(i=j(t,o++))&&r.trackPosition&&(r.position++,"\n"===i?(r.line++,r.column=0):r.column++);r.textNode+=t.substring(s,o-1)}"<"!==i||r.sawRoot&&r.closedRoot&&!r.strict?(m(i)||r.sawRoot&&!r.closedRoot||R(r,"Text data outside of root node."),"&"===i?r.state=A.TEXT_ENTITY:r.textNode+=i):(r.state=A.OPEN_WAKA,r.startTagPosition=r.position);continue;case A.SCRIPT:"<"===i?r.state=A.SCRIPT_ENDING:r.script+=i;continue;case A.SCRIPT_ENDING:"/"===i?r.state=A.CLOSE_TAG:(r.script+="<"+i,r.state=A.SCRIPT);continue;case A.OPEN_WAKA:if("!"===i)r.state=A.SGML_DECL,r.sgmlDecl="";else if(m(i));else if(w(d,i))r.state=A.OPEN_TAG,r.tagName=i;else if("/"===i)r.state=A.CLOSE_TAG,r.tagName="";else if("?"===i)r.state=A.PROC_INST,r.procInstName=r.procInstBody="";else{if(R(r,"Unencoded <"),r.startTagPosition+1<r.position){var c=r.position-r.startTagPosition;i=new Array(c).join(" ")+i}r.textNode+="<"+i,r.state=A.TEXT}continue;case A.SGML_DECL:if(r.sgmlDecl+i==="--"){r.state=A.COMMENT,r.comment="",r.sgmlDecl="";continue}r.doctype&&!0!==r.doctype&&r.sgmlDecl?(r.state=A.DOCTYPE_DTD,r.doctype+="<!"+r.sgmlDecl+i,r.sgmlDecl=""):(r.sgmlDecl+i).toUpperCase()===a?(I(r,"onopencdata"),r.state=A.CDATA,r.sgmlDecl="",r.cdata=""):(r.sgmlDecl+i).toUpperCase()===l?(r.state=A.DOCTYPE,(r.doctype||r.sawRoot)&&R(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===i?(I(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=A.TEXT):y(i)?(r.state=A.SGML_DECL_QUOTED,r.sgmlDecl+=i):r.sgmlDecl+=i;continue;case A.SGML_DECL_QUOTED:i===r.q&&(r.state=A.SGML_DECL,r.q=""),r.sgmlDecl+=i;continue;case A.DOCTYPE:">"===i?(r.state=A.TEXT,I(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=i,"["===i?r.state=A.DOCTYPE_DTD:y(i)&&(r.state=A.DOCTYPE_QUOTED,r.q=i));continue;case A.DOCTYPE_QUOTED:r.doctype+=i,i===r.q&&(r.q="",r.state=A.DOCTYPE);continue;case A.DOCTYPE_DTD:"]"===i?(r.doctype+=i,r.state=A.DOCTYPE):"<"===i?(r.state=A.OPEN_WAKA,r.startTagPosition=r.position):y(i)?(r.doctype+=i,r.state=A.DOCTYPE_DTD_QUOTED,r.q=i):r.doctype+=i;continue;case A.DOCTYPE_DTD_QUOTED:r.doctype+=i,i===r.q&&(r.state=A.DOCTYPE_DTD,r.q="");continue;case A.COMMENT:"-"===i?r.state=A.COMMENT_ENDING:r.comment+=i;continue;case A.COMMENT_ENDING:"-"===i?(r.state=A.COMMENT_ENDED,r.comment=T(r.opt,r.comment),r.comment&&I(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+i,r.state=A.COMMENT);continue;case A.COMMENT_ENDED:">"!==i?(R(r,"Malformed comment"),r.comment+="--"+i,r.state=A.COMMENT):r.doctype&&!0!==r.doctype?r.state=A.DOCTYPE_DTD:r.state=A.TEXT;continue;case A.CDATA:"]"===i?r.state=A.CDATA_ENDING:r.cdata+=i;continue;case A.CDATA_ENDING:"]"===i?r.state=A.CDATA_ENDING_2:(r.cdata+="]"+i,r.state=A.CDATA);continue;case A.CDATA_ENDING_2:">"===i?(r.cdata&&I(r,"oncdata",r.cdata),I(r,"onclosecdata"),r.cdata="",r.state=A.TEXT):"]"===i?r.cdata+="]":(r.cdata+="]]"+i,r.state=A.CDATA);continue;case A.PROC_INST:"?"===i?r.state=A.PROC_INST_ENDING:m(i)?r.state=A.PROC_INST_BODY:r.procInstName+=i;continue;case A.PROC_INST_BODY:if(!r.procInstBody&&m(i))continue;"?"===i?r.state=A.PROC_INST_ENDING:r.procInstBody+=i;continue;case A.PROC_INST_ENDING:">"===i?(I(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=A.TEXT):(r.procInstBody+="?"+i,r.state=A.PROC_INST_BODY);continue;case A.OPEN_TAG:w(h,i)?r.tagName+=i:(D(r),">"===i?F(r):"/"===i?r.state=A.OPEN_TAG_SLASH:(m(i)||R(r,"Invalid character in tag name"),r.state=A.ATTRIB));continue;case A.OPEN_TAG_SLASH:">"===i?(F(r,!0),$(r)):(R(r,"Forward-slash in opening tag not followed by >"),r.state=A.ATTRIB);continue;case A.ATTRIB:if(m(i))continue;">"===i?F(r):"/"===i?r.state=A.OPEN_TAG_SLASH:w(d,i)?(r.attribName=i,r.attribValue="",r.state=A.ATTRIB_NAME):R(r,"Invalid attribute name");continue;case A.ATTRIB_NAME:"="===i?r.state=A.ATTRIB_VALUE:">"===i?(R(r,"Attribute without value"),r.attribValue=r.attribName,L(r),F(r)):m(i)?r.state=A.ATTRIB_NAME_SAW_WHITE:w(h,i)?r.attribName+=i:R(r,"Invalid attribute name");continue;case A.ATTRIB_NAME_SAW_WHITE:if("="===i)r.state=A.ATTRIB_VALUE;else{if(m(i))continue;R(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",I(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===i?F(r):w(d,i)?(r.attribName=i,r.state=A.ATTRIB_NAME):(R(r,"Invalid attribute name"),r.state=A.ATTRIB)}continue;case A.ATTRIB_VALUE:if(m(i))continue;y(i)?(r.q=i,r.state=A.ATTRIB_VALUE_QUOTED):(r.opt.unquotedAttributeValues||N(r,"Unquoted attribute value"),r.state=A.ATTRIB_VALUE_UNQUOTED,r.attribValue=i);continue;case A.ATTRIB_VALUE_QUOTED:if(i!==r.q){"&"===i?r.state=A.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=i;continue}L(r),r.q="",r.state=A.ATTRIB_VALUE_CLOSED;continue;case A.ATTRIB_VALUE_CLOSED:m(i)?r.state=A.ATTRIB:">"===i?F(r):"/"===i?r.state=A.OPEN_TAG_SLASH:w(d,i)?(R(r,"No whitespace between attributes"),r.attribName=i,r.attribValue="",r.state=A.ATTRIB_NAME):R(r,"Invalid attribute name");continue;case A.ATTRIB_VALUE_UNQUOTED:if(!v(i)){"&"===i?r.state=A.ATTRIB_VALUE_ENTITY_U:r.attribValue+=i;continue}L(r),">"===i?F(r):r.state=A.ATTRIB;continue;case A.CLOSE_TAG:if(r.tagName)">"===i?$(r):w(h,i)?r.tagName+=i:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=A.SCRIPT):(m(i)||R(r,"Invalid tagname in closing tag"),r.state=A.CLOSE_TAG_SAW_WHITE);else{if(m(i))continue;b(d,i)?r.script?(r.script+="</"+i,r.state=A.SCRIPT):R(r,"Invalid tagname in closing tag."):r.tagName=i}continue;case A.CLOSE_TAG_SAW_WHITE:if(m(i))continue;">"===i?$(r):R(r,"Invalid characters in closing tag");continue;case A.TEXT_ENTITY:case A.ATTRIB_VALUE_ENTITY_Q:case A.ATTRIB_VALUE_ENTITY_U:var u,p;switch(r.state){case A.TEXT_ENTITY:u=A.TEXT,p="textNode";break;case A.ATTRIB_VALUE_ENTITY_Q:u=A.ATTRIB_VALUE_QUOTED,p="attribValue";break;case A.ATTRIB_VALUE_ENTITY_U:u=A.ATTRIB_VALUE_UNQUOTED,p="attribValue"}if(";"===i){var E=U(r);r.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(E)?(r.entity="",r.state=u,r.write(E)):(r[p]+=E,r.entity="",r.state=u)}else w(r.entity.length?g:f,i)?r.entity+=i:(R(r,"Invalid character in entity name"),r[p]+="&"+r.entity+i,r.entity="",r.state=u);continue;default:throw new Error(r,"Unknown state: "+r.state)}r.position>=r.bufferCheckPosition&&function(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),o=0,i=0,s=n.length;i<s;i++){var a=t[n[i]].length;if(a>r)switch(n[i]){case"textNode":x(t);break;case"cdata":I(t,"oncdata",t.cdata),t.cdata="";break;case"script":I(t,"onscript",t.script),t.script="";break;default:N(t,"Max buffer length exceeded: "+n[i])}o=Math.max(o,a)}var l=e.MAX_BUFFER_LENGTH-o;t.bufferCheckPosition=l+t.position}(r);return r},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;x(e=this),""!==e.cdata&&(I(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(I(e,"onscript",e.script),e.script="")}};try{t=r(2781).Stream}catch(e){t=function(){}}t||(t=function(){});var i=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function s(e,r){if(!(this instanceof s))return new s(e,r);t.apply(this),this._parser=new o(e,r),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,i.forEach((function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})}))}s.prototype=Object.create(t.prototype,{constructor:{value:s}}),s.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=r(1576).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,r){var n=this;return n._parser["on"+e]||-1===i.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),t.prototype.on.call(n,e,r)};var a="[CDATA[",l="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/2000/xmlns/",p={xml:c,xmlns:u},d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function y(e){return'"'===e||"'"===e}function v(e){return">"===e||m(e)}function w(e,t){return e.test(t)}function b(e,t){return!w(e,t)}var E,S,O,A=0;for(var _ in e.STATE={BEGIN:A++,BEGIN_WHITESPACE:A++,TEXT:A++,TEXT_ENTITY:A++,OPEN_WAKA:A++,SGML_DECL:A++,SGML_DECL_QUOTED:A++,DOCTYPE:A++,DOCTYPE_QUOTED:A++,DOCTYPE_DTD:A++,DOCTYPE_DTD_QUOTED:A++,COMMENT_STARTING:A++,COMMENT:A++,COMMENT_ENDING:A++,COMMENT_ENDED:A++,CDATA:A++,CDATA_ENDING:A++,CDATA_ENDING_2:A++,PROC_INST:A++,PROC_INST_BODY:A++,PROC_INST_ENDING:A++,OPEN_TAG:A++,OPEN_TAG_SLASH:A++,ATTRIB:A++,ATTRIB_NAME:A++,ATTRIB_NAME_SAW_WHITE:A++,ATTRIB_VALUE:A++,ATTRIB_VALUE_QUOTED:A++,ATTRIB_VALUE_CLOSED:A++,ATTRIB_VALUE_UNQUOTED:A++,ATTRIB_VALUE_ENTITY_Q:A++,ATTRIB_VALUE_ENTITY_U:A++,CLOSE_TAG:A++,CLOSE_TAG_SAW_WHITE:A++,SCRIPT:A++,SCRIPT_ENDING:A++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var r=e.ENTITIES[t],n="number"==typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=n})),e.STATE)e.STATE[e.STATE[_]]=_;function C(e,t,r){e[t]&&e[t](r)}function I(e,t,r){e.textNode&&x(e),C(e,t,r)}function x(e){e.textNode=T(e.opt,e.textNode),e.textNode&&C(e,"ontext",e.textNode),e.textNode=""}function T(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function N(e,t){return x(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,C(e,"onerror",t),e}function P(e){return e.sawRoot&&!e.closedRoot&&R(e,"Unclosed root tag"),e.state!==A.BEGIN&&e.state!==A.BEGIN_WHITESPACE&&e.state!==A.TEXT&&N(e,"Unexpected end"),x(e),e.c="",e.closed=!0,C(e,"onend"),o.call(e,e.strict,e.opt),e}function R(e,t){if("object"!=typeof e||!(e instanceof o))throw new Error("bad call to strictFail");e.strict&&N(e,t)}function D(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,I(e,"onopentagstart",r)}function k(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],o=r[1];return t&&"xmlns"===e&&(n="xmlns",o=""),{prefix:n,local:o}}function L(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=k(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==c)R(e,"xml: prefix must be bound to "+c+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==u)R(e,"xmlns: prefix must be bound to "+u+"\nActual: "+e.attribValue);else{var o=e.tag,i=e.tags[e.tags.length-1]||e;o.ns===i.ns&&(o.ns=Object.create(i.ns)),o.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,I(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function F(e,t){if(e.opt.xmlns){var r=e.tag,n=k(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(R(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var o=e.tags[e.tags.length-1]||e;r.ns&&o.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){I(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var i=0,s=e.attribList.length;i<s;i++){var a=e.attribList[i],l=a[0],c=a[1],u=k(l,!0),p=u.prefix,d=u.local,h=""===p?"":r.ns[p]||"",f={name:l,value:c,prefix:p,local:d,uri:h};p&&"xmlns"!==p&&!h&&(R(e,"Unbound namespace prefix: "+JSON.stringify(p)),f.uri=p),e.tag.attributes[l]=f,I(e,"onattribute",f)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),I(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=A.TEXT:e.state=A.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function $(e){if(!e.tagName)return R(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=A.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=A.SCRIPT);I(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--;){if(e.tags[t].name===n)break;R(e,"Unexpected close tag")}if(t<0)return R(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=A.TEXT);e.tagName=r;for(var o=e.tags.length;o-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,I(e,"onclosetag",e.tagName);var s={};for(var a in i.ns)s[a]=i.ns[a];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==l.ns&&Object.keys(i.ns).forEach((function(t){var r=i.ns[t];I(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=A.TEXT}function U(e){var t,r=e.entity,n=r.toLowerCase(),o="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),o=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),o=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||o.toLowerCase()!==r?(R(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function M(e,t){"<"===t?(e.state=A.OPEN_WAKA,e.startTagPosition=e.position):m(t)||(R(e,"Non-whitespace before first tag."),e.textNode=t,e.state=A.TEXT)}function j(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}A=e.STATE,String.fromCodePoint||(E=String.fromCharCode,S=Math.floor,O=function(){var e,t,r=[],n=-1,o=arguments.length;if(!o)return"";for(var i="";++n<o;){var s=Number(arguments[n]);if(!isFinite(s)||s<0||s>1114111||S(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?r.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,r.push(e,t)),(n+1===o||r.length>16384)&&(i+=E.apply(null,r),r.length=0)}return i},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:O,configurable:!0,writable:!0}):String.fromCodePoint=O)}(t)},2450:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):(!(t=i(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=o;const i=r(2541),{safeRe:s,t:a}=r(5052),l=r(1965),c=r(6369),u=r(3874),p=r(9479)},9479:(e,t,r)=>{const n=/\s+/g;class o{constructor(e,t){if(t=s(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!y(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&g)|(this.options.loose&&m))+":"+e,r=i.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,N(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),l("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),l("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),l("caret trim",e);let s=e.split(" ").map((e=>b(e,this.options))).join(" ").split(/\s+/).map((e=>T(e,this.options)));n&&(s=s.filter((e=>(l("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),l("range list",s);const c=new Map,v=s.map((e=>new a(e,this.options)));for(const e of v){if(y(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");const w=[...c.values()];return i.set(t,w),w}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((r=>w(r,t)&&e.set.some((e=>w(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const i=new(r(8887)),s=r(2541),a=r(2450),l=r(6369),c=r(3874),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(5052),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:m}=r(2925),y=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,w=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},b=(e,t)=>(l("comp",e,t),e=A(e,t),l("caret",e),e=S(e,t),l("tildes",e),e=C(e,t),l("xrange",e),e=x(e,t),l("stars",e),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,S=(e,t)=>e.trim().split(/\s+/).map((e=>O(e,t))).join(" "),O=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,o,i)=>{let s;return l("tilde",e,t,r,n,o,i),E(r)?s="":E(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:E(o)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(l("replaceTilde pr",i),s=`>=${r}.${n}.${o}-${i} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,l("tilde return",s),s}))},A=(e,t)=>e.trim().split(/\s+/).map((e=>_(e,t))).join(" "),_=(e,t)=>{l("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,i,s)=>{let a;return l("caret",e,t,r,o,i,s),E(r)?a="":E(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:E(i)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:s?(l("replaceCaret pr",s),a="0"===r?"0"===o?`>=${r}.${o}.${i}-${s} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}-${s} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i}-${s} <${+r+1}.0.0-0`):(l("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${i}${n} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i} <${+r+1}.0.0-0`),l("caret return",a),a}))},C=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map((e=>I(e,t))).join(" ")),I=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,o,i,s,a)=>{l("xRange",e,r,n,o,i,s,a);const c=E(o),u=c||E(i),p=u||E(s),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(i=0),s=0,">"===n?(n=">=",u?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",u?o=+o+1:i=+i+1),"<"===n&&(a="-0"),r=`${n+o}.${i}.${s}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${i}.0${a} <${o}.${+i+1}.0-0`),l("xRange return",r),r}))},x=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),T=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),N=e=>(t,r,n,o,i,s,a,l,c,u,p,d)=>`${r=E(n)?"":E(o)?`>=${n}.0.0${e?"-0":""}`:E(i)?`>=${n}.${o}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=E(c)?"":E(u)?`<${+c+1}.0.0-0`:E(p)?`<${c}.${+u+1}.0-0`:d?`<=${c}.${u}.${p}-${d}`:e?`<${c}.${u}.${+p+1}-0`:`<=${l}`}`.trim(),P=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(l(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},3874:(e,t,r)=>{const n=r(6369),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=r(2925),{safeRe:s,safeSrc:a,t:l}=r(5052),c=r(2541),{compareIdentifiers:u}=r(8114);class p{constructor(e,t){if(t=c(t),e instanceof p){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[l.LOOSE]:s[l.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof p)){if("string"==typeof e&&e===this.version)return 0;e=new p(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof p||(e=new p(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof p||(e=new p(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return u(r,o)}while(++t)}compareBuild(e){e instanceof p||(e=new p(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return u(r,o)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(t){const e=new RegExp(`^${this.options.loose?a[l.PRERELEASELOOSE]:a[l.PRERELEASE]}$`),r=`-${t}`.match(e);if(!r||r[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=p},1812:(e,t,r)=>{const n=r(369);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},1965:(e,t,r)=>{const n=r(6875),o=r(8020),i=r(2145),s=r(2685),a=r(5426),l=r(1499);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,c);case"!=":return o(e,r,c);case">":return i(e,r,c);case">=":return s(e,r,c);case"<":return a(e,r,c);case"<=":return l(e,r,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},8063:(e,t,r)=>{const n=r(3874),o=r(369),{safeRe:i,t:s}=r(5052);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?i[s.COERCERTLFULL]:i[s.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?i[s.COERCEFULL]:i[s.COERCE]);if(null===r)return null;const a=r[2],l=r[3]||"0",c=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${l}.${c}${u}${p}`,t)}},6845:(e,t,r)=>{const n=r(3874);e.exports=(e,t,r)=>{const o=new n(e,r),i=new n(t,r);return o.compare(i)||o.compareBuild(i)}},1793:(e,t,r)=>{const n=r(6839);e.exports=(e,t)=>n(e,t,!0)},6839:(e,t,r)=>{const n=r(3874);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},9760:(e,t,r)=>{const n=r(369);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),i=r.compare(o);if(0===i)return null;const s=i>0,a=s?r:o,l=s?o:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(a))return l.minor&&!l.patch?"minor":"patch"}const u=c?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},6875:(e,t,r)=>{const n=r(6839);e.exports=(e,t,r)=>0===n(e,t,r)},2145:(e,t,r)=>{const n=r(6839);e.exports=(e,t,r)=>n(e,t,r)>0},2685:(e,t,r)=>{const n=r(6839);e.exports=(e,t,r)=>n(e,t,r)>=0},4961:(e,t,r)=>{const n=r(3874);e.exports=(e,t,r,o,i)=>{"string"==typeof r&&(i=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,i).version}catch(e){return null}}},5426:(e,t,r)=>{const n=r(6839);e.exports=(e,t,r)=>n(e,t,r)<0},1499:(e,t,r)=>{const n=r(6839);e.exports=(e,t,r)=>n(e,t,r)<=0},6394:(e,t,r)=>{const n=r(3874);e.exports=(e,t)=>new n(e,t).major},1784:(e,t,r)=>{const n=r(3874);e.exports=(e,t)=>new n(e,t).minor},8020:(e,t,r)=>{const n=r(6839);e.exports=(e,t,r)=>0!==n(e,t,r)},369:(e,t,r)=>{const n=r(3874);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},3865:(e,t,r)=>{const n=r(3874);e.exports=(e,t)=>new n(e,t).patch},185:(e,t,r)=>{const n=r(369);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},5493:(e,t,r)=>{const n=r(6839);e.exports=(e,t,r)=>n(t,e,r)},9711:(e,t,r)=>{const n=r(6845);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},9362:(e,t,r)=>{const n=r(9479);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},5721:(e,t,r)=>{const n=r(6845);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},9536:(e,t,r)=>{const n=r(369);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},7968:(e,t,r)=>{const n=r(5052),o=r(2925),i=r(3874),s=r(8114),a=r(369),l=r(9536),c=r(1812),u=r(4961),p=r(9760),d=r(6394),h=r(1784),f=r(3865),g=r(185),m=r(6839),y=r(5493),v=r(1793),w=r(6845),b=r(5721),E=r(9711),S=r(2145),O=r(5426),A=r(6875),_=r(8020),C=r(2685),I=r(1499),x=r(1965),T=r(8063),N=r(2450),P=r(9479),R=r(9362),D=r(6377),k=r(6799),L=r(2330),F=r(891),$=r(849),U=r(6356),M=r(5873),j=r(1182),B=r(2875),q=r(951),H=r(9092);e.exports={parse:a,valid:l,clean:c,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:g,compare:m,rcompare:y,compareLoose:v,compareBuild:w,sort:b,rsort:E,gt:S,lt:O,eq:A,neq:_,gte:C,lte:I,cmp:x,coerce:T,Comparator:N,Range:P,satisfies:R,toComparators:D,maxSatisfying:k,minSatisfying:L,minVersion:F,validRange:$,outside:U,gtr:M,ltr:j,intersects:B,simplifyRange:q,subset:H,SemVer:i,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},2925:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},6369:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},8114:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},8887:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},2541:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},5052:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=r(2925),s=r(6369),a=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.safeSrc=[],p=t.t={};let d=0;const h="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[h,o]],g=(e,t,r)=>{const n=(e=>{for(const[t,r]of f)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=d++;s(e,o,t),p[e]=o,c[o]=t,u[o]=n,a[o]=new RegExp(t,r?"g":void 0),l[o]=new RegExp(n,r?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),g("MAINVERSION",`(${c[p.NUMERICIDENTIFIER]})\\.(${c[p.NUMERICIDENTIFIER]})\\.(${c[p.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[p.NUMERICIDENTIFIERLOOSE]})\\.(${c[p.NUMERICIDENTIFIERLOOSE]})\\.(${c[p.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[p.NUMERICIDENTIFIER]}|${c[p.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[p.NUMERICIDENTIFIERLOOSE]}|${c[p.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${c[p.PRERELEASEIDENTIFIER]}(?:\\.${c[p.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[p.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[p.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${h}+`),g("BUILD",`(?:\\+(${c[p.BUILDIDENTIFIER]}(?:\\.${c[p.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[p.MAINVERSION]}${c[p.PRERELEASE]}?${c[p.BUILD]}?`),g("FULL",`^${c[p.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[p.MAINVERSIONLOOSE]}${c[p.PRERELEASELOOSE]}?${c[p.BUILD]}?`),g("LOOSE",`^${c[p.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[p.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[p.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[p.XRANGEIDENTIFIER]})(?:\\.(${c[p.XRANGEIDENTIFIER]})(?:\\.(${c[p.XRANGEIDENTIFIER]})(?:${c[p.PRERELEASE]})?${c[p.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[p.XRANGEIDENTIFIERLOOSE]})(?:${c[p.PRERELEASELOOSE]})?${c[p.BUILD]}?)?)?`),g("XRANGE",`^${c[p.GTLT]}\\s*${c[p.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[p.GTLT]}\\s*${c[p.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${c[p.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[p.COERCEPLAIN]+`(?:${c[p.PRERELEASE]})?`+`(?:${c[p.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",c[p.COERCE],!0),g("COERCERTLFULL",c[p.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[p.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[p.LONETILDE]}${c[p.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[p.LONETILDE]}${c[p.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[p.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[p.LONECARET]}${c[p.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[p.LONECARET]}${c[p.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[p.GTLT]}\\s*(${c[p.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[p.GTLT]}\\s*(${c[p.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[p.GTLT]}\\s*(${c[p.LOOSEPLAIN]}|${c[p.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[p.XRANGEPLAIN]})\\s+-\\s+(${c[p.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[p.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[p.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},5873:(e,t,r)=>{const n=r(6356);e.exports=(e,t,r)=>n(e,t,">",r)},2875:(e,t,r)=>{const n=r(9479);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},1182:(e,t,r)=>{const n=r(6356);e.exports=(e,t,r)=>n(e,t,"<",r)},6799:(e,t,r)=>{const n=r(3874),o=r(9479);e.exports=(e,t,r)=>{let i=null,s=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&-1!==s.compare(e)||(i=e,s=new n(i,r)))})),i}},2330:(e,t,r)=>{const n=r(3874),o=r(9479);e.exports=(e,t,r)=>{let i=null,s=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&1!==s.compare(e)||(i=e,s=new n(i,r)))})),i}},891:(e,t,r)=>{const n=r(3874),o=r(9479),i=r(2145);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let s=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!i(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||r&&!i(r,s)||(r=s)}return r&&e.test(r)?r:null}},6356:(e,t,r)=>{const n=r(3874),o=r(2450),{ANY:i}=o,s=r(9479),a=r(9362),l=r(2145),c=r(5426),u=r(1499),p=r(2685);e.exports=(e,t,r,d)=>{let h,f,g,m,y;switch(e=new n(e,d),t=new s(t,d),r){case">":h=l,f=u,g=c,m=">",y=">=";break;case"<":h=c,f=p,g=l,m="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let s=null,a=null;if(n.forEach((e=>{e.semver===i&&(e=new o(">=0.0.0")),s=s||e,a=a||e,h(e.semver,s.semver,d)?s=e:g(e.semver,a.semver,d)&&(a=e)})),s.operator===m||s.operator===y)return!1;if((!a.operator||a.operator===m)&&f(e,a.semver))return!1;if(a.operator===y&&g(e,a.semver))return!1}return!0}},951:(e,t,r)=>{const n=r(9362),o=r(6839);e.exports=(e,t,r)=>{const i=[];let s=null,a=null;const l=e.sort(((e,t)=>o(e,t,r)));for(const e of l){n(e,t,r)?(a=e,s||(s=e)):(a&&i.push([s,a]),a=null,s=null)}s&&i.push([s,null]);const c=[];for(const[e,t]of i)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const u=c.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},9092:(e,t,r)=>{const n=r(9479),o=r(2450),{ANY:i}=o,s=r(9362),a=r(6839),l=[new o(">=0.0.0-0")],c=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=r.includePrerelease?l:c}if(1===t.length&&t[0].semver===i){if(r.includePrerelease)return!0;t=c}const n=new Set;let o,u,h,f,g,m,y;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!s(e,String(o),r))return null;if(u&&!s(e,String(u),r))return null;for(const n of t)if(!s(e,String(n),r))return!1;return!0}let v=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,w=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;v&&1===v.prerelease.length&&"<"===u.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(y=y||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,o)if(w&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===w.major&&e.semver.minor===w.minor&&e.semver.patch===w.patch&&(w=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!s(o.semver,String(e),r))return!1;if(u)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(g=d(u,e,r),g===e&&g!==u)return!1}else if("<="===u.operator&&!s(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&m&&!u&&0!==h)&&(!(u&&y&&!o&&0!==h)&&(!w&&!v))},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},6377:(e,t,r)=>{const n=r(9479);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},849:(e,t,r)=>{const n=r(9479);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},9400:e=>{"use strict";var t=process.argv,r=t.indexOf("--"),n=function(e){e="--"+e;var n=t.indexOf(e);return-1!==n&&(-1===r||n<r)};e.exports=!(!("FORCE_COLOR"in process.env)&&(n("no-color")||n("no-colors")||n("color=false")||!(n("color")||n("colors")||n("color=true")||n("color=always"))&&(process.stdout&&!process.stdout.isTTY||"win32"!==process.platform&&!("COLORTERM"in process.env)&&("dumb"===process.env.TERM||!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)))))},4838:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise(((r,n)=>{t.push(((e,t)=>null!=e?n(e):r(t))),e.apply(this,t)}));e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const r=t[t.length-1];if("function"!=typeof r)return e.apply(this,t);t.pop(),e.apply(this,t).then((e=>r(null,e)),r)}),"name",{value:e.name})}},5821:(e,t,r)=>{"use strict";r.r(t),r.d(t,{langResource:()=>n});const n={en_US:{menu:r(6483),lang:r(5886)},zh_CN:{menu:r(3420),lang:r(9893)}}},9491:e=>{"use strict";e.exports=require("assert")},2081:e=>{"use strict";e.exports=require("child_process")},2057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},2298:e=>{"use strict";e.exports=require("electron")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},1576:e=>{"use strict";e.exports=require("string_decoder")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},9395:(e,t,r)=>{"use strict";function n(){const e={};return e.promise=new Promise(((t,r)=>{e.resolve=t,e.reject=r})),e}r.r(t),r.d(t,{default:()=>n})},5886:e=>{"use strict";e.exports=JSON.parse('{"hello_world":"Hello World","app_name":"EverkmNote"}')},6483:e=>{"use strict";e.exports=JSON.parse('{"file":"File","about":"About EverkmNote","services":"Services","hide":"Hide","hideOthers":"Hide Others","unhide":"Unhide","quit":"Quit EverkmNote","edit":"Edit","view":"View","window":"Window","help":"Help","toggleFullscreen":"Toggle Fullscreen","resetZoom":"Reset Zoom","zoomIn":"Zoom In","zoomOut":"Zoom Out","toggleDevTools":"Toggle DevTools","reload":"Reload Window","close":"Close Window","undo":"Undo","redo":"Redo","cut":"Cut","copy":"Copy","paste":"Paste","delete":"Delete","selectAll":"Select All","commandPalette":"Command Palette","directory":"Directory","mdList":"Note List","findReplace":"Find and Replace","history":"History","newNote":"New Note","save":"Save","saveAs":"Save As","closeTab":"Close Tab","revealBase":"Reveal Base","shortcutKeySettings":"Shortcut Key Settings"}')},9893:e=>{"use strict";e.exports=JSON.parse('{"hello_world":"\u4f60\u597d\uff0c\u4e16\u754c","app_name":"\u6bd3\u77e5\u7b14\u8bb0"}')},3420:e=>{"use strict";e.exports=JSON.parse('{"file":"\u6587\u4ef6","about":"\u5173\u4e8e\u6bd3\u77e5\u7b14\u8bb0","services":"\u670d\u52a1","hide":"\u9690\u85cf","hideOthers":"\u9690\u85cf\u5176\u4ed6","unhide":"\u663e\u793a\u6240\u6709","quit":"\u9000\u51fa\u6bd3\u77e5\u7b14\u8bb0","edit":"\u7f16\u8f91","view":"\u89c6\u56fe","window":"\u7a97\u53e3","help":"\u5e2e\u52a9","toggleFullscreen":"\u5168\u5c4f","resetZoom":"\u91cd\u7f6e\u7f29\u653e","zoomIn":"\u653e\u5927","zoomOut":"\u7f29\u5c0f","toggleDevTools":"\u5f00\u53d1\u8005\u5de5\u5177","reload":"\u91cd\u65b0\u52a0\u8f7d\u7a97\u53e3","close":"\u5173\u95ed\u7a97\u53e3","undo":"\u64a4\u9500","redo":"\u91cd\u505a","cut":"\u526a\u5207","copy":"\u590d\u5236","paste":"\u7c98\u8d34","delete":"\u5220\u9664","selectAll":"\u5168\u9009","commandPalette":"\u547d\u4ee4\u9762\u677f","directory":"\u76ee\u5f55","mdList":"\u7b14\u8bb0\u5217\u8868","findReplace":"\u67e5\u627e\u548c\u66ff\u6362","history":"\u5386\u53f2","newNote":"\u65b0\u5efa\u7b14\u8bb0","save":"\u4fdd\u5b58","saveAs":"\u53e6\u5b58\u4e3a","closeTab":"\u5173\u95ed\u6807\u7b7e\u9875","revealBase":"\u6253\u5f00Base\u76ee\u5f55","shortcutKeySettings":"\u5feb\u6377\u952e\u8bbe\u7f6e"}')}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.c=t,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);r(r.s=2772)})();